(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{1373:function(t,e,i){},1374:function(t,e,i){},1375:function(t,e,i){},1376:function(t,e,i){},1377:function(t,e,i){},1378:function(t,e,i){},1379:function(t,e,i){},1380:function(t,e,i){},1381:function(t,e,i){},1382:function(t,e,i){},1383:function(t,e,i){},1384:function(t,e,i){},1385:function(t,e,i){},1386:function(t,e,i){},1387:function(t,e,i){},1388:function(t,e,i){},1389:function(t,e,i){},1390:function(t,e,i){},1391:function(t,e,i){},1392:function(t,e,i){},1393:function(t,e,i){},1394:function(t,e,i){},1395:function(t,e,i){},1396:function(t,e,i){},1397:function(t,e,i){},1398:function(t,e,i){},1399:function(t,e,i){},1400:function(t,e,i){},1401:function(t,e,i){},1402:function(t,e,i){},1403:function(t,e,i){},1404:function(t,e,i){},1405:function(t,e,i){},1406:function(t,e,i){},1407:function(t,e,i){},1408:function(t,e,i){},1409:function(t,e,i){},1410:function(t,e,i){},1411:function(t,e,i){},1412:function(t,e,i){},2040:function(t,e,i){"use strict";i(1373)},2041:function(t,e,i){"use strict";i(1374)},2042:function(t,e,i){"use strict";i(1375)},2043:function(t,e,i){"use strict";i(1376)},2044:function(t,e,i){"use strict";i(1377)},2045:function(t,e,i){"use strict";i(1378)},2046:function(t,e,i){"use strict";i(1379)},2047:function(t,e,i){"use strict";i(1380)},2048:function(t,e,i){"use strict";i(1381)},2049:function(t,e,i){"use strict";i(1382)},2050:function(t,e,i){"use strict";i(1383)},2051:function(t,e,i){"use strict";i(1384)},2052:function(t,e,i){"use strict";i(1385)},2053:function(t,e,i){"use strict";i(1386)},2054:function(t,e,i){"use strict";i(1387)},2055:function(t,e,i){"use strict";i(1388)},2056:function(t,e,i){"use strict";i(1389)},2057:function(t,e,i){"use strict";i(1390)},2058:function(t,e,i){"use strict";i(1391)},2059:function(t,e,i){"use strict";i(1392)},2060:function(t,e,i){"use strict";i(1393)},2061:function(t,e,i){"use strict";i(1394)},2062:function(t,e,i){"use strict";i(1395)},2063:function(t,e,i){"use strict";i(1396)},2064:function(t,e,i){"use strict";i(1397)},2065:function(t,e,i){"use strict";i(1398)},2066:function(t,e,i){"use strict";i(1399)},2067:function(t,e,i){"use strict";i(1400)},2068:function(t,e,i){"use strict";i(1401)},2069:function(t,e,i){"use strict";i(1402)},2070:function(t,e,i){"use strict";i(1403)},2071:function(t,e,i){"use strict";i(1404)},2072:function(t,e,i){"use strict";i(1405)},2073:function(t,e,i){"use strict";i(1406)},2074:function(t,e,i){"use strict";i(1407)},2075:function(t,e,i){"use strict";i(1408)},2076:function(t,e,i){"use strict";i(1409)},2077:function(t,e,i){"use strict";i(1410)},2078:function(t,e,i){"use strict";i(1411)},2079:function(t,e,i){"use strict";i(1412)},2208:function(t,e,i){"use strict";i.r(e);var o=i(85),a=i.n(o),s=i(200),n=i.n(s),r=i(49),c=i.n(r),l=i(1),d=i.n(l),p=i(30),u=i.n(p),h=i(0),m=i(2);function b(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}var f=4,_=5,v=6,y=7,k={props:["block","typePos"],data:function(){return{}},mixins:[h.l],methods:{_timeAbridge:function(t){return"number"!=typeof(t=+t)?0:Math.floor(t/1e3)},_report:function(t){var e="",i=t.optype,o=!1;try{e=JSON.parse(h.b.queryString.extInfo).globalId}catch(t){}if(i===f)e&&(o=this.block.items.some((function(t){return t.globalId===e})));else if(i===_){if(e)return;(e=h.c.getStore("globalId"))&&(o=this.block.items.some((function(t){return t.globalId===e})))}else o=!0;o&&this._reportCommon(function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?b(Object(i),!0).forEach((function(e){d()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},t))},_reportCommon:function(t){var e=Object.assign({searchreddotreport:1,nettype:h.b.netType,reddottype:0,reddotid:h.c.getStore("globalId"),reddotconsumets:0,optype:0,notshowreason:"",reddotts:h.c.getStore("globalIdTs")||this._timeAbridge(new Date)},t);h.f.reportCommon(h.f.object2params(e))},_storeRedMark:function(){var t="";try{t=JSON.parse(h.b.queryString.extInfo).globalId}catch(t){}t&&(h.c.store("globalId",t),h.c.store("globalIdTs",this._timeAbridge(new Date)))},_detectRedMark:function(t){var e=h.c.getStore("globalId");return!(!e||e!==t)&&(this._report({optype:v,reddotid:e}),!0)},onTap:function(t,e){var i=this;t.optype===m.c.h5?i.M_startDetail({type:2,jumpUrl:t.jumpUrl}):t.optype===m.c.commonSearch?i.M_openSearchWebView({actionType:7,type:0,query:"",scene:t.scene,isSug:0,isHomePage:1,docID:""}):i.M_openSearchWebView({actionType:5,searchId:i.$store.state.teach.recommendId,query:"看一看",type:2,jumpUrl:"",tagPageType:1,extParams:JSON.stringify(Object.assign({tagName:t.hotword,tagId:t.channelId,navigationId:t.navigationId||""},t)),tagId:t.channelId,navigationId:t.navigationId||"",navBarColor:"#FFFFFF",statusBarStyle:"black",nativeConfig:{title:t.headTitle||""},topStoryScene:h.b.queryString.topStoryScene||0});var o=h.c.getStore("globalId");if(t.globalId===o){var a=e.currentTarget.querySelector(".rec-channel__item-inner");a.className=a.className.replace("red-mark",""),h.c.remove("globalId"),this._report({optype:y,reddotid:o,reddotconsumets:i._timeAbridge(new Date)})}h.e.teach.reportRecClick({channelid:t.channelId,navigationid:t.navigationId||"",guidetype:i.block.type,searchid:i.$store.state.teach.recommendId})}},created:function(){this._storeRedMark(),this._report({optype:f}),this._report({optype:_})}},g=(i(2040),i(32)),I=Object(g.a)(k,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"teach-block rec-channel"},[i("p",{staticClass:"teach-block__title"},[t._v(t._s(t.block.title))]),t._v(" "),i("ul",{staticClass:"rec-channel__list"},t._l(t.block.items,(function(e,o){return i("li",{key:o,attrs:{"data-expose-id":e.channelId+"_"+(e.navigationId||""),role:"button"}},[i("div",{staticClass:"rec-channel__item",on:{click:function(i){return t.onTap(e,i)}}},[i("span",{staticClass:"rec-channel__item-inner",class:{"teach__red-mark":t._detectRedMark(e.globalId)}},[t._v(t._s(e.hotword))])])])})),0)])}),[],!1,null,null,null).exports,x={mixins:[h.l],props:{block:{type:Object,default:function(){return{}}},typePos:{type:Number,default:0}},data:function(){return{showData:[],isShowAll:!1,isSceneRecommend:h.b.scene===m.e.RECOMMEND}},computed:{titleClass:function(){return this.isSceneRecommend?"teach-block__title":"teach__title"}},created:function(){this._handleData()},methods:{_handleData:function(){var t=this,e=t.block.items,i=e&&e.length,o=t.block.showNum||7;i&&(t.isSceneRecommend?(this.isShowAll=e.length>o,this.isShowAll?t.showData=e.slice(0,o):t.showData=e):t.showData=e)},onTap:function(t){var e=this,i={searchId:e.$store.state.teach.recommendId};t.jumpType||(t.jumpType=m.k.TOP_STORY),t.jumpType===m.k.TOP_STORY?i=Object.assign(i,{tagPageType:1,extParams:JSON.stringify(Object.assign({tagName:t.hotword,tagId:t.channelId,navigationId:t.navigationId||""},t)),tagId:t.channelId,navigationId:t.navigationId||"",nativeConfig:{title:t.headTitle||""},topStoryScene:h.b.queryString.topStoryScene||0}):t.jumpUrl&&(i.jumpUrl=e.M_composeUrl(t.jumpUrl,{fontRatio:+h.b.queryString.fontRatio||1})),e.M_go(Object.assign({},t,i)),h.e.teach.reportRecClick({channelid:t.channelId,navigationid:t.navigationId||"",guidetype:e.block.type,searchid:e.$store.state.teach.recommendId})},showALL:function(){var t=this;t.isShowAll?(t.showData=t.block.items,t.isShowAll=!1,h.e.teach.reportRecClick({channelid:0,navigationid:"",searchid:t.$store.state.teach.recommendId,guidetype:t.block.type,foldtype:1})):(t.showData=t.block.items.slice(0,t.block.showNum||7),t.isShowAll=!0,h.e.teach.reportRecClick({channelid:0,navigationid:"",searchid:t.$store.state.teach.recommendId,guidetype:t.block.type,foldtype:2})),t.$emit("handleBottomStyle")}}},w=(i(2041),Object(g.a)(x,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"teach-block rec-category"},[i("p",{class:[t.titleClass]},[t._v("\n    "+t._s(t.block.title)+"\n  ")]),t._v(" "),i("ul",{staticClass:"rec-category__ul"},t._l(t.showData,(function(e,o){return i("li",{key:o,staticClass:"rec-category__list",attrs:{"data-expose-id":e.channelId+"_"+(e.navigationId||""),role:"button"}},[i("div",{staticClass:"rec-category__item",attrs:{"data-index":o},on:{click:function(i){return t.onTap(e)}}},[t._v("\n        "+t._s(e.hotword)+"\n      ")])])})),0),t._v(" "),t.isSceneRecommend?i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowAll,expression:"isShowAll"}],staticClass:"rec-category__show arrow_down",attrs:{role:"button","aria-label":t.block.moreText},on:{click:t.showALL}},[t._v("\n      "+t._s(t.block.moreText)+"\n    ")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isShowAll,expression:"!isShowAll"}],staticClass:"rec-category__show arrow_top",attrs:{role:"button","aria-label":t.block.foldText||"收起"},on:{click:t.showALL}},[t._v("\n      "+t._s(t.block.foldText||"收起")+"\n    ")])]):t._e()])}),[],!1,null,null,null).exports),C={components:{resultBiz:i(1441).a},mixins:[h.l,h.j],props:["typePos","block"],data:function(){return{}},created:function(){},methods:{}},O=(i(2042),Object(g.a)(C,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"big-avatar-biz"},[i("p",{staticClass:"teach__title teach__biz-title"},[t._v("\n    "+t._s(t.block.title||"公众号")+"\n  ")]),t._v(" "),i("ul",{staticClass:"teach__list"},t._l(t.block.items,(function(e,o){return i("result-biz",{key:e.aliasName,attrs:{item:e,data:t.block,"type-pos":t.typePos+1,pos:o+1}})})),1)])}),[],!1,null,"77d369c8",null).exports),T=i(22),E=i(7),S={mixins:[h.l,h.j],props:["block","typePos","realPos"],data:function(){return{isIOS8:h.b.os.ios&&parseInt(h.b.os.version)<9}},methods:{_convertDeletable:function(t){var e=h.f.object2params(t);return"ishistorydel=1&".concat(e)},onTap:function(t){var e=this,i=t.currentTarget,o=+h.f.attr(i,"data-index"),a=this.block.items[o],s=a.hotword;if(a.opType=a.optype||a.opType||m.c.search,h.e.teach.reportCommonClick({blockType:this.block.type,blockId:this.block.id,blockWord:this.block.title,blockExpand:this.block.expand,blockIndex:this.typePos,itemId:a.id,itemWord:a.hotword,itemExpand:a.expand,itemIndex:o+1}),1==a.opType){var n={crossExtReqParams:[{key:"parentSearchID",textValue:e.M_composeParentSid({t:m.n.TEACH_HISTORY,s:e.$store.state.teach.recommendId,did:a.hotword,rid:e.$store.state.index.requestId})}]};a.mixerCommonContext&&n.crossExtReqParams.push({key:"mixerCommonContext",textValue:a.mixerCommonContext}),e.M_checkSpecialSearchBeforeLaunchNewSearch({query:s,callback:function(){h.f.setSearchInputWord({query:s,isInputChange:!1}),E.a.$emit(E.b.GOTO,{page:m.f.RESULT,query:s,searchId:"",extReqParams:n.crossExtReqParams})},extParams:n})}else 4==a.opType&&e.M_startDetail({type:2,jumpUrl:a.jumpUrl});Object(T.f)(h.k.feature.teachHis),1024===h.b.type&&h.e.reportFictionClick({blockType:this.block.type,pos:o+1,word:a.hotword})},tapDelete:function(t){var e=t.currentTarget,i=+h.f.attr(e,"data-index"),o=this.block.items[i];if(h.f.reportRealTime({scene:h.b.scene,recommendId:this.$store.state.teach.recommendId,businessType:h.b.type,docId:o.hotword,docPos:i,typePos:this.typePos,isHomePage:0,sceneActionType:h.b.sceneActionType}),h.e.teach.reportCommonClick({isDelete:1,blockType:this.block.type,blockId:this.block.id,blockWord:this.block.title,blockExpand:this.block.expand,blockIndex:this.typePos,itemId:o.id,itemWord:o.hotword,itemExpand:o.expand,itemIndex:i+1}),1024===h.b.type){var a={scene:h.b.scene,query:o.hotword,businesstype:h.b.type,id:o.id||"",clienttimestamp:(new Date).getTime()};h.f.reportCommon(this._convertDeletable(a)),h.e.reportFictionClick({blockType:this.block.type,pos:i+1,word:o.hotword,isDelete:1})}this.$store.commit("teach/deleteData",{dataIdx:this.realPos-1,itemIdx:i})},tapClear:function(){h.e.teach.reportCommonClick({isDelete:2,blockId:"删除所有历史",blockWord:this.block.deleteWord,blockExpand:this.block.expand,blockIndex:this.typePos}),this.$store.commit("teach/clearData",{dataIdx:this.realPos-1})}}},j=(i(2043),Object(g.a)(S,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.block.items&&t.block.items.length?i("div",{staticClass:"history-box"},[t.block.title?i("p",{staticClass:"teach__title"},[t._v("\n    "+t._s(t.block.title)+"\n  ")]):t._e(),t._v(" "),i("div",{staticClass:"history-box__bd"},[i("ul",[t._l(t.block.items,(function(e,o){return i("li",{directives:[{name:"active",rawName:"v-active"}],key:o,attrs:{"data-index":o,"data-expose-id":e.id},on:{click:t.onTap}},[i("h4",{attrs:{role:"button"}},[i("div",{staticClass:"history-box__icon",attrs:{"aria-hidden":"true"}},[i("svg-icon",{staticClass:"history-box__icon-clock",attrs:{name:"clock"}})],1),t._v(" "),i("p",{staticClass:"history-box__word",class:{is_ios_8:t.isIOS8}},[t._v("\n            "+t._s(e.hotword)+"\n          ")]),t._v(" "),e.updateInfo?i("div",[i("span",{staticClass:"history-box__update-info"},[t._v("{ item.updateInfo }}")])]):t._e()]),t._v(" "),e.deletable?i("div",{staticClass:"history-box__delete",attrs:{"data-index":o,role:"button","aria-label":"删除"},on:{touchstart:function(t){t.stopPropagation()},click:function(e){return e.stopPropagation(),t.tapDelete.apply(null,arguments)}}},[i("svg-icon",{staticClass:"history-box__delete-svg",attrs:{name:"cross"}})],1):t._e()])})),t._v(" "),t.block.deleteWord?i("li",{staticClass:"history-box__clear",attrs:{role:"button","aria-label":t.block.deleteWord},on:{click:t.tapClear}},[i("svg-icon",{staticClass:"history-box__clear-icon",attrs:{name:"trashcan"}}),t._v(" "),i("span",{staticClass:"history-box__clear-text"},[t._v(t._s(t.block.deleteWord))])],1):t._e()],2)])]):t._e()}),[],!1,null,null,null).exports),P=i(34),D=i(44),N=i(84);function R(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}var $,B=!1,M={props:{block:{type:Object,default:function(){return{}}},typePos:{type:Number,default:0}},data:function(){return{title:"",path:"",height:"",iconHeight:"80px"}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?R(Object(i),!0).forEach((function(e){d()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):R(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({showTitle:{get:function(){return this.title||this.block.title},set:function(t){this.title=t}},showPath:{get:function(){return this.path||this.block.iconUrl},set:function(t){this.path=t}}},Object(N.c)({baseInfo:function(t){return t.teach.similar.baseInfo}})),created:function(){var t=this;h.a.$on("emoticonIsChosen",(function(e){t.showTitle="轻触更换表情",e.asyncDownload||(t.showPath=e.thumbPath,t.clearTeachData())})),h.a.$on(E.b.APP_VIEW_CHANGED,(function(e){e.page!==m.f.TEACH&&(t.showPath="")})),P.b.onImageReady((function(e){e[t.baseInfo.md5]&&(t.showPath=e[t.baseInfo.md5])})),h.e.teach.reportSimilarPlus({reportType:2,requestId:t.baseInfo.requestId,searchId:t.baseInfo.searchId}),window.addEventListener("scroll",t._scroll,!1)},mounted:function(){var t=this;this.height="".concat(this.$refs.button.offsetHeight,"px"),this.block.autoPop&&!B&&(this.$nextTick((function(){t.tap(!1)})),B=!0)},destroyed:function(){window.removeEventListener("scroll",this._scroll)},methods:{_touchStart:function(){$=window.scrollY},_scroll:function(){var t=this,e=window.scrollY,i=window.innerHeight||document.documentElement.clientHeight,o=(window.pageYOffset||document.documentElement.scrollTop)+i,a=t.$root.$el.scrollHeight;if(e<0)t.$refs.button.style.position="absolute";else if(o>a)t.$refs.button.style.position=a==i?"absolute":"fixed";else{var s;if(t.$refs.button.style.position="fixed",$&&(s=e-$),$=e,!s)return;var n=parseInt(t.iconHeight)-s/4,r=parseInt(t.height)-s/4;n=Math.min(n,80),n=Math.max(n,50),r=Math.min(r,180),r=Math.max(r,150),t.iconHeight="".concat(n,"px"),t.height="".concat(r,"px")}},clearTeachData:function(){var t=this.$store.state.teach.teachData;this.$store.dispatch("teach/updateData",{data:Object.assign({},t,{data:[Object.assign({},this.block,{iconUrl:this.showPath,title:"轻触更换表情"})]})})},tap:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this;e.$store.dispatch("teach/similar/generateRid"),D.a.gotoEmoticonPad({requestId:e.baseInfo.requestId,sessionId:h.b.sessionId,scene:h.b.scene}),t&&h.e.teach.reportSimilarPlus({reportType:e.baseInfo.md5?3:1,requestId:e.baseInfo.requestId,searchId:e.baseInfo.searchId}),t&&Object(T.f)(h.k.feature.smiliarTapTeach)}}},q=(i(2044),Object(g.a)(M,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"similar-button-wrap",style:{height:t.height}},[i("div",{ref:"button",staticClass:"similar-button"},[i("div",{staticClass:"similar-button__info",attrs:{"aria-label":t.showTitle,role:"button"},on:{click:t.tap}},[i("div",{staticClass:"similar-button__icon-wrap",style:{height:t.iconHeight,width:t.iconHeight}},[t.showPath?i("div",{staticClass:"similar-button__sticker",style:{backgroundImage:"url("+t.showPath+")"}}):i("svg-icon",{staticClass:"similar-button__icon",attrs:{name:"stickers"}})],1),t._v(" "),i("div",{staticClass:"similar-botton__title"},[t._v("\n        "+t._s(t.showTitle)+"\n      ")])])])])}),[],!1,null,null,null).exports);function W(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}var H={album:1,albumSticker:2,single:3,custom:4},L={props:{emoticon:{type:Object,default:function(){return{}}},pos:{type:Number,default:0}},data:function(){return{}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?W(Object(i),!0).forEach((function(e){d()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):W(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({clientImage:function(){var t=this.emoticon.type;return[H.albumSticker,H.single].indexOf(t)>-1}},Object(N.c)({baseInfo:function(t){return t.teach.similar.baseInfo}})),methods:{tap:function(){var t=this;h.g.openSticker(Object.assign({position:t.pos,docID:t.emoticon.docID,searchId:t.baseInfo.searchId,fromSearchType:2},t.emoticon)),h.e.teach.reportSimilarClick({clickMd5:t.emoticon.md5,queryMd5:t.baseInfo.md5,offset:t.baseInfo.offset,searchId:t.baseInfo.searchId,tab:t.baseInfo.tab,requestId:t.baseInfo.requestId,pos:t.pos}),Object(T.f)(h.k.feature.smiliarTapSticker)}}},U=(i(2045),Object(g.a)(L,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"similar-item",attrs:{"data-expose-id":this.emoticon.md5,"aria-hidden":"true"},on:{click:this.tap}},[e("client-image",{staticClass:"similar-item__inner",attrs:{item:this.emoticon,mode:"sticker"}})],1)}),[],!1,null,null,null).exports),A=i(719);function F(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function z(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?F(Object(i),!0).forEach((function(e){d()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):F(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var V=!1,G={components:{emoticon:U,scroll:A.a},data:function(){return{show:!1,loading:""}},computed:z(z({},Object(N.c)({baseInfo:function(t){return t.teach.similar.baseInfo},emoticons:function(t){return t.teach.similar.emoticons},data:function(t){return t.teach.similar.data},teachObjList:function(t){return t.teach.teachData&&t.teach.teachData.data}})),{},{loadingWord:{get:function(){return this.loading||"加载中..."},set:function(t){this.loading=t}}}),watch:{data:function(t){t.nomoreText&&(this.loadingWord=t.nomoreText)}},created:function(){var t=this,e=this;h.a.$on("emoticonIsChosen",(function(i){t.teachObjList.filter((function(t){return 13===t.type})).length&&(e.emoticonReset(),e.show=!0,e.$store.commit({type:"teach/similar/updateBase",md5:i.md5,tab:i.tab,aesKey:i.aesKey,emojiUrl:i.emojiUrl}),e.getData({offset:0}))})),h.a.$on("onSimilarEmoticonReady",(function(t){V=!1,e.$store.dispatch({type:"teach/similar/dataReady",data:t})})),h.a.$on(E.b.APP_VIEW_CHANGED,(function(t){t.page!==m.f.TEACH&&(e.emoticonReset(),e.show=!1)}))},methods:{getData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};V=!0;var e=this,i=e.baseInfo,o=i.md5,a=i.offset,s=i.searchId,n=i.requestId,r=i.tab,c=i.aesKey,l=i.emojiUrl,d=Object.assign({md5:o,offset:a,searchId:s,requestId:n,tab:r,aesKey:c,emojiUrl:l,scene:h.b.scene,sessionId:h.b.sessionId},t);D.a.getEmoticon(d)},emoticonReset:function(){this.$store.commit("teach/similar/emoticonReset"),this.loadingWord=""},scrollEnd:function(){V||!this.data.continueFlag&&this.data.items||(this.$store.dispatch("teach/similar/generateRid"),this.getData())},expose:function(t){if(t.length){var e=this,i=[];t.forEach((function(t){for(var o=0;o<e.emoticons.length;o++){var a=e.emoticons[o];if(a.md5===t){i.push(Object.assign({index:o+1},a));break}}})),h.e.teach.reportSimilarExpose({searchId:e.baseInfo.searchId,md5:e.baseInfo.md5,tab:e.baseInfo.tab,requestId:e.baseInfo.requestId,pos:i[0].index,md5Content:i.map((function(t){return t.md5})).join(";")})}}}},Y=(i(2046),Object(g.a)(G,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("scroll",{staticClass:"similar-list",attrs:{end:t.scrollEnd,expose:t.expose,on:t.show,"aria-hidden":"true"}},[i("div",{staticClass:"similar-list__box"},[t.data.resultWording?i("div",{staticClass:"similar-list__count"},[i("span",{staticClass:"similar-list__count-word"},[t._v(t._s(t.data.resultWording))])]):t._e(),t._v(" "),i("div",{staticClass:"similar-list__list"},t._l(t.emoticons,(function(t,e){return i("emoticon",{key:t.docID,attrs:{emoticon:t,pos:e+1}})})),1)]),t._v(" "),i("div",{staticClass:"similar-list__loading"},[t.loading?t._e():i("span",{staticClass:"similar-list_load-icon"}),t._v(" "),i("span",[t._v(t._s(t.loadingWord))])])]):t._e()}),[],!1,null,null,null).exports),K={mixins:[h.j,h.l],props:{block:{type:Object,default:function(){return{}}},type:{type:Number,default:0},typePos:{type:Number,default:0}},data:function(){return{isBizUnionTopScene:h.b.isBizUnionTopScene}},computed:{col:function(){var t=this.block.items.map((function(t){return h.f.strLen(t.hotword)}));return Math.max.apply(Math,n()(t))<10?3:2}},methods:{onTap:function(t,e){var i=this;h.f.fastClickCheck((function(){if(t.opType=t.optype||t.opType,h.e.teach.reportCommonClick({blockType:i.block.type,blockId:i.block.id,blockWord:i.block.title,blockExpand:i.block.expand,blockIndex:i.typePos,itemId:t.id,itemWord:t.hotword,itemExpand:t.expand,itemIndex:e+1}),t.opType==m.c.search){var o=i.M_composeParentSid({t:m.n.HOT_WORD,s:i.$store.state.teach.recommendId,did:t.id||t.hotword,rid:i.$store.state.index.requestId});h.g.setInputBar({query:t.hotword,isInputChange:!1}),E.a.$emit(E.b.GOTO,{page:m.f.RESULT,query:t.hotword,searchId:"",extReqParams:{key:"parentSearchID",textValue:o}})}else i.M_go(t);Object(T.f)(h.k.feature.teachHot)}),2e3)}}},Z=(i(2047),Object(g.a)(K,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"rows"},[t.block.title?i("p",{staticClass:"teach__title"},[t._v(t._s(t.block.title))]):t._e(),t._v(" "),i("ui-column",{attrs:{col:t.col,list:t.block.items},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.item,a=e.index;return[i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"rows-word-wrapper active__link",attrs:{"data-hotword":o.hotword,"data-index":a,"data-expose-id":o.id,role:"button"},on:{click:function(e){return t.onTap(o,a)}}},[i("span",{staticClass:"rows-word",domProps:{innerHTML:t._s(t.xss(o.hotword))}}),t._v(" "),o.tags?i("ui-tags",{attrs:{flex:"",tags:o.tags,"aria-hidden":"true"}}):t._e()],1)]}}])}),t._v(" "),i("div",{staticStyle:{"padding-top":"1px"}})],1)}),[],!1,null,"0e88dd7a",null).exports),X=i(15),J=i(11),Q={mixins:[h.l],data:function(){return{title:this.block.title||X.a.L("经常搜索的公众号")}},props:["block","typePos"],methods:{onTap:function(t,e){var i={userName:t.userName,isTeachPage:!0,opType:m.c.bizSession};h.e.teach.reportCommonClick({blockType:this.block.type,blockId:this.block.id,blockWord:this.title,blockExpand:this.block.expand,blockIndex:this.typePos,itemId:t.id,itemWord:t.nickName,itemExpand:t.expand,itemIndex:e+1}),t.jumpInfo?this.M_go(t.jumpInfo):X.a.startSearchItemDetailPage(i),X.a.reportRealTime({scene:J.a.scene,recommendId:this.$store.state.teach.recommendId,businessType:+this.block.type,docId:t.userName||t.nickName,docPos:e+1,typePos:this.typePos,isHomePage:0,sceneActionType:J.a.sceneActionType})}}},tt=(i(2048),Object(g.a)(Q,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.block.items&&t.block.items.length,expression:"block.items && block.items.length"}],staticClass:"official-a"},[i("p",{staticClass:"teach__title"},[t._v(t._s(t.title))]),t._v(" "),i("ul",{staticClass:"official-a__list"},[t._l(t.block.items,(function(e,o){return[o<8?i("li",{directives:[{name:"active",rawName:"v-active"}],key:o,staticClass:"active__mask expand-hotspot",class:{"expand-hotspot-last-line":o>=4},attrs:{"data-expose-id":e.id,role:"button"},on:{click:function(i){return t.onTap(e,o)}}},[i("div",{staticClass:"official-a__item"},[i("span",{staticClass:"biz__sug-thumb",style:{backgroundImage:"url("+(e.avatarUrl||e.iconUrl)+")"}}),t._v(" "),i("p",[t._v(t._s(e.nickName))])])]):t._e()]}))],2)])}),[],!1,null,null,null).exports),et=function(t){return"/page/detail/detail?q=".concat(encodeURIComponent(t.join(";")))},it={filters:{formatNum:function(t){if(null==t)return"--";if(!/^(\+|-)?(\d+)(\.\d+)?$/.test(t))return t;var e=RegExp.$1,i=RegExp.$2,o=RegExp.$3,a=new RegExp;for(a.compile("(\\d)(\\d{3})(,|$)");a.test(i);)i=i.replace(a,"$1,$2$3");return"".concat(e).concat(i).concat(o)},formatRate:function(t){return null==t?"--":"".concat((100*Math.abs(t)).toFixed(2),"%")}},props:{block:{type:Object,default:function(){return{}}}},computed:{items:function(){return(this.block.wxindex&&this.block.wxindex.group_list||[]).map((function(t){return{gid:t.gid,group_wxindex:(t.group_wxindex||[]).map((function(e){if(e.wxindex_str){for(var i=e.wxindex_str.split(","),o=i.length-1;o>=0;o-=1)if(-1!=i[o]){e.currentIndex=+i[o],o>0&&i[o-1]>0?e.rate=(i[o]-i[o-1])/i[o-1]:e.rate=1;break}o<0&&(t.currentIndex=void 0,t.rate=void 0)}else t.currentIndex=void 0,t.rate=void 0;return e}))}}))},showMoreLink:function(){return(this.block.wxindex&&this.block.wxindex.group_list||[]).length<(this.block.wxindex&&this.block.wxindex.total_cnt||0)}},created:function(){var t=this;P.b.onWebviewResume((function(){t.$emit("update")}))},methods:{onSlide:function(t,e,i,o){t>0?t>18&&o.dataset.moved&&(o.style.left="0px",delete o.dataset.moved):(t||e||i||(this.$refs.wxIndexItem||[]).forEach((function(t){t!==o&&(t.style.left="0px",delete t.dataset.moved)})),i?Math.abs(t)>=36?(o.style.left="".concat(-72,"px"),o.dataset.moved=!0):(o.style.left="0px",delete o.dataset.moved):Math.abs(t)>=18&&(o.dataset.moved?o.style.left="-".concat(80,"px"):o.style.left="".concat(Math.max(t,-72),"px")))},onView:function(t){(this.$refs.wxIndexItem||[]).forEach((function(t){t.style.left="0px",delete t.dataset.moved}));var e=this.items[t];if(e){var i=(e.group_wxindex||[]).map((function(t){return t.query}));h.e.teach.reportWxIndex({actionType:1,groupId:e.gid,content:i.join(",")}),h.f.openWeAppPage({userName:"gh_935b85261f35@app",relativeURL:i.length?et(i):"/page/index/index"})}},onDelete:function(t){var e=this.items[t];e&&(h.e.teach.reportWxIndex({actionType:2,groupId:e.gid,content:(e.group_wxindex||[]).map((function(t){return t.query})).join(",")}),h.g.commonCgi({cgiName:P.a.delWxIndex,data:{gid:e.gid,queryList:(e.group_wxindex||[]).map((function(t){return t.query}))}}))},onMore:function(){h.e.teach.reportWxIndex({actionType:3}),h.f.openWeAppPage({userName:"gh_935b85261f35@app",relativeURL:"/page/index/index"})}}},ot=(i(2049),Object(g.a)(it,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.items.length?i("div",{staticClass:"wx-index__bd"},[i("span",{staticClass:"ui-aria-hidden"},[t._v("微信指数")]),t._v(" "),t._m(0),t._v(" "),t._l(t.items,(function(e,o){return i("div",{key:e.gid,staticClass:"wx-index__item"},[e.group_wxindex&&e.group_wxindex.length>0?i("div",{directives:[{name:"slide",rawName:"v-slide:horizontal",value:t.onSlide,expression:"onSlide",arg:"horizontal"},{name:"active",rawName:"v-active"}],ref:"wxIndexItem",refInFor:!0,staticClass:"wx-index__box",on:{click:function(e){return t.onView(o)}}},t._l(e.group_wxindex,(function(o){return i("div",{key:e.gid+"###"+o.query,staticClass:"wx-index__tr"},[i("div",{staticClass:"wx-index__td"},[t._v("\n          "+t._s(o.query)+"\n        ")]),t._v(" "),i("div",{staticClass:"wx-index__td",attrs:{role:"option"}},[i("span",{staticClass:"ui-aria-hidden"},[t._v("最新指数：")]),t._v("\n          "+t._s(t._f("formatNum")(o.currentIndex))+"\n        ")]),t._v(" "),i("div",{staticClass:"wx-index__td wx-index__rate",class:{"wx-index__rate_up":o.rate>=0,"wx-index__rate_down":o.rate<0},attrs:{role:"option"}},[i("span",{staticClass:"ui-aria-hidden"},[t._v(t._s(o.rate>=0?"上升":"下降")+"：")]),t._v("\n          "+t._s(t._f("formatRate")(o.rate))+"\n        ")])])})),0):t._e(),t._v(" "),i("div",{directives:[{name:"active",rawName:"v-active"}],staticClass:"wx-index__box-delete",attrs:{role:"button"},on:{click:function(e){return t.onDelete(o)}}},[t._v("\n      删除\n    ")])])})),t._v(" "),t.showMoreLink?i("div",{directives:[{name:"active",rawName:"v-active"}],staticClass:"wx-index__link",attrs:{role:"button"},on:{click:t.onMore}},[t._v("\n    前往小程序获取完整历史\n  ")]):t._e()],2):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wx-index__tr wx-index__hd",attrs:{"aria-hidden":"true"}},[e("div",{staticClass:"wx-index__td"},[this._v("\n      最新查询\n    ")]),this._v(" "),e("div",{staticClass:"wx-index__td"},[this._v("\n      最新指数\n    ")]),this._v(" "),e("div",{staticClass:"wx-index__td"},[this._v("\n      日环比\n    ")])])}],!1,null,null,null).exports),at=i(52),st={components:{scroll:A.a},mixins:[h.j,h.l],props:{block:{type:Object,default:function(){return{}}},typePos:{type:Number,default:0}},data:function(){return{items:null}},computed:{show:function(){return this.items&&this.items.length}},watch:{block:function(){this.items=this.block.items.map((function(t){return t}))}},created:function(){this.items=this.block.items.map((function(t){return t}))},methods:{tap:function(t,e){var i=this,o=i.M_composeParentSid({t:m.n.HISTORY_MP,s:i.$store.state.teach.recommendId,did:t.docID,rid:i.$store.state.index.requestId});i.M_checkSpecialSearchBeforeLaunchNewSearch({query:t.title,callback:function(){h.f.setSearchInputWord({query:t.title,isInputChange:!1}),E.a.$emit(E.b.GOTO,{page:m.f.RESULT,query:t.title,searchId:"",extReqParams:{key:"parentSearchID",textValue:o}})},extParams:{crossExtReqParams:[{key:"parentSearchID",textValue:o}]}}),h.e.teach.mpTeachClick({searchId:i.$store.state.teach.recommendId,query:h.b.query,word:t.title,wordPos:e+1,docID:t.docID})},tapDelete:function(t,e){this.items.splice(e,1),Object(at.e)({action:"biz",realaction:"delsearchhistory",docID:t.docID})},tapClear:function(){this.items=[],Object(at.e)({action:"biz",realaction:"delsearchhistory"})},expose:function(t){if(t.length){var e=this,i=t.map((function(t){var i={};return Array.prototype.forEach.call(e.items,(function(e,o){t===e.docID&&(i=Object.assign({index:o+1},e))})),i})),o=[],a=[],s=[];i.forEach((function(t){o.push(t.title),a.push(t.index),s.push(t.docID)})),h.e.teach.mpTeachExpose({searchId:e.$store.state.teach.recommendId,query:h.b.query,word:o.join("|"),wordPos:a.join("|"),docID:s.join("|")})}}}},nt=(i(2050),Object(g.a)(st,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("scroll",{staticClass:"history-box",attrs:{expose:t.expose}},[t.block.title?i("p",{staticClass:"teach__title"},[t._v("\n    "+t._s(t.block.title)+"\n  ")]):t._e(),t._v(" "),i("div",{staticClass:"history-box__bd"},[i("ul",[t._l(t.items,(function(e,o){return i("li",{directives:[{name:"active",rawName:"v-active"}],key:o,staticClass:"history-box__li",attrs:{"data-expose-id":e.docID},on:{click:function(i){return t.tap(e,o)}}},[i("h4",{attrs:{role:"button"}},[i("div",{staticClass:"history-box__icon",attrs:{"aria-hidden":"true"}},[i("svg-icon",{staticClass:"history-box__icon-clock",attrs:{name:"clock"}})],1),t._v(" "),i("p",{staticClass:"history-box__word"},[t._v("\n            "+t._s(e.title)+"\n          ")])]),t._v(" "),i("div",{staticClass:"history-box__delete",attrs:{role:"button","aria-label":"删除"},on:{click:function(i){return i.stopPropagation(),t.tapDelete(e,o)},touchstart:function(t){t.stopPropagation()}}},[i("svg-icon",{staticClass:"history-box__delete-svg",attrs:{name:"cross"}})],1)])})),t._v(" "),t.block.deleteWord?i("li",{staticClass:"history-box__clear",attrs:{role:"button","aria-label":t.block.deleteWord},on:{click:t.tapClear}},[i("svg-icon",{staticClass:"history-box__clear-icon",attrs:{name:"trashcan"}}),t._v(" "),i("span",{staticClass:"history-box__clear-text"},[t._v(t._s(t.block.deleteWord))])],1):t._e()],2)])]):t._e()}),[],!1,null,null,null).exports),rt={props:["typePos","block","header"],computed:{renderHeader:function(){return this.header||this.block.header||{}}},methods:{onTapMore:function(){this.renderHeader.moreInfo&&this.renderHeader.moreInfo.jumpInfo&&(this.M_go(this.renderHeader.moreInfo.jumpInfo),h.e.teach.reportCommonClick({blockType:this.block.type,blockId:this.block.id,blockWord:this.renderHeader.moreInfo.title,blockExpand:this.block.expand,blockIndex:this.typePos}))}}},ct=(i(2051),Object(g.a)(rt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"default-header"},[i("h3",{attrs:{role:"option"},domProps:{innerHTML:t._s(t.xss(t.renderHeader.title))}}),t._v(" "),t.renderHeader.moreInfo?i("div",{directives:[{name:"active",rawName:"v-active"}],staticClass:"more-box active__opacity",on:{click:function(e){return e.stopPropagation(),t.onTapMore.apply(null,arguments)}}},[i("span",[t._v(t._s(t.renderHeader.moreInfo.title))]),t._v(" "),i("ui-arrow")],1):t._e()])}),[],!1,null,"4c78d586",null).exports),lt={components:{defaultHeader:ct},props:["typePos","block"],data:function(){return{}},computed:{items:function(){return this.block.items}},methods:{onTapEntrance:function(t,e){var i=this;h.f.fastClickCheck((function(){i.M_go(t.jumpInfo),t.cgi&&t.cgi.name&&h.g.getCommonCgiData({cgiName:t.cgi.name,data:t.cgi.params}),h.e.teach.reportCommonClick({blockType:i.block.type,blockId:i.block.id,blockWord:i.block.header&&i.block.header.title,blockExpand:i.block.expand,blockIndex:i.typePos,itemId:t.id,itemWord:t.title,itemExpand:t.expand,itemIndex:e+1})}),1e3)}}},dt=(i(2052),Object(g.a)(lt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"account-line"},[t.block.header?i("default-header",t._b({},"default-header",t.$props,!1)):t._e(),t._v(" "),i("div",{staticClass:"account-line-body"},t._l(t.items,(function(e,o){return i("div",{directives:[{name:"active",rawName:"v-active"}],key:o,staticClass:"account-line-item active__mask",attrs:{"data-expose-id":e.id,role:"button"},on:{click:function(i){return i.stopPropagation(),t.onTapEntrance(e,o)}}},[i("ui-article",{attrs:{thumb:e.iconUrl,title:e.title,desc:e.desc}},[e.buttonInfo?i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"button-box active__opacity",attrs:{slot:"outer-oprs","aria-hidden":"true"},slot:"outer-oprs"},[e.buttonInfo.iconUrl?i("ui-image",{staticClass:"button-icon",attrs:{url:e.buttonInfo.iconUrl,size:24}}):t._e(),t._v(" "),i("p",[t._v(t._s(e.buttonInfo.title))])],1):t._e()])],1)})),0)],1)}),[],!1,null,"50845904",null).exports),pt=i(769),ut={components:{reddotBadge:pt.a,defaultHeader:ct},props:["typePos","block"],data:function(){return{}},computed:{items:function(){return this.block.items}},mounted:function(){this.reddotExposeTimeout=null,this.reddotExposeList=[]},methods:{onReddotExpose:function(t){var e=this;clearTimeout(this.reddotExposeTimeout),this.reddotExposeList.push({key:t.redDotInfo.key,type:1,action:1}),this.reddotExposeTimeout=setTimeout((function(){h.g.commonCgi({cgiName:P.a.serviceBoxReportRedDot,data:{cmd:"ReportRedDot",list:e.reddotExposeList}})}),100)},onTapEntrance:function(t,e){var i=this;h.f.fastClickCheck((function(){if(i.M_go(t.jumpInfo),t.redDotInfo){var o=i.$refs["reddot-".concat(t.id)][0];o.isShow&&(o.onClick({delay:500}),h.g.commonCgi({cgiName:P.a.serviceBoxReportRedDot,data:{cmd:"ReportRedDot",list:[{key:t.redDotInfo.key,type:1,action:2}]}}))}t.cgi&&t.cgi.name&&h.g.getCommonCgiData({cgiName:t.cgi.name,data:t.cgi.params}),h.e.teach.reportCommonClick({blockType:i.block.type,blockId:i.block.id,blockWord:i.block.header&&i.block.header.title,blockExpand:i.block.expand,blockIndex:i.typePos,itemId:t.id,itemWord:t.title,itemExpand:t.expand,itemIndex:e+1})}),1e3)}}},ht=(i(2053),Object(g.a)(ut,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"account-grid"},[t.block.header?i("default-header",t._b({},"default-header",t.$props,!1)):t._e(),t._v(" "),i("div",{staticClass:"account-grid-body"},t._l(t.items,(function(e,o){return i("div",{directives:[{name:"active",rawName:"v-active"}],key:o,staticClass:"account-grid-item active__mask",attrs:{"data-expose-id":e.id,role:"button"},on:{click:function(i){return i.stopPropagation(),t.onTapEntrance(e,o)}}},[i("div",{staticClass:"icon-box"},[e.iconUrl?i("ui-image",{attrs:{url:e.iconUrl,size:32}}):t._e(),t._v(" "),e.redDotInfo?i("reddot-badge",{ref:"reddot-"+e.id,refInFor:!0,staticClass:"reddot-badge",attrs:{id:e.redDotInfo.key,text:e.redDotInfo.text,expired:e.redDotInfo.expired,"related-id":e.id},on:{expose:function(i){return t.onReddotExpose(e)}}}):t._e()],1),t._v(" "),e.title?i("h3",{staticClass:"title",domProps:{innerHTML:t._s(t.xss(e.title))}}):t._e(),t._v(" "),e.desc?i("p",{staticClass:"desc",attrs:{"aria-hidden":"true"},domProps:{innerHTML:t._s(t.xss(e.desc))}}):t._e()])})),0)],1)}),[],!1,null,"9b2b2b50",null).exports),mt={props:["typePos","block"],data:function(){return{}},computed:{items:function(){return this.block.items}},methods:{onTapEntrance:function(t,e){var i=this;h.f.fastClickCheck((function(){i.M_go(t.jumpInfo),t.cgi&&t.cgi.name&&h.g.getCommonCgiData({cgiName:t.cgi.name,data:t.cgi.params}),h.e.teach.reportCommonClick({blockType:i.block.type,blockId:i.block.id,blockWord:i.block.header&&i.block.header.title,blockExpand:i.block.expand,blockIndex:i.typePos,itemId:t.id,itemWord:t.title,itemExpand:t.expand,itemIndex:e+1})}),1e3)}}},bt=(i(2054),Object(g.a)(mt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"strong-show-grid"},t._l(t.items,(function(e,o){return i("li",{key:o,staticClass:"grid-item",attrs:{"data-expose-id":e.id,role:"button"}},[i("div",{directives:[{name:"active",rawName:"v-active"}],staticClass:"grid-item-inner active__mask",on:{click:function(i){return i.stopPropagation(),t.onTapEntrance(e,o)}}},[i("div",{staticClass:"icon-box"},[e.iconUrl?i("ui-image",{attrs:{url:e.iconUrl,size:40}}):t._e()],1),t._v(" "),e.title?i("h3",{staticClass:"title",domProps:{innerHTML:t._s(t.xss(e.title))}}):t._e(),t._v(" "),e.desc?i("p",{staticClass:"desc",domProps:{innerHTML:t._s(t.xss(e.desc))}}):t._e()])])})),0)}),[],!1,null,"73aa6811",null).exports),ft={components:{reddotBadge:pt.a,defaultHeader:ct},props:["typePos","block"],data:function(){return{}},computed:{items:function(){return this.block.items}},mounted:function(){this.reddotExposeTimeout=null,this.reddotExposeList=[]},methods:{onReddotExpose:function(t){var e=this;clearTimeout(this.reddotExposeTimeout),this.reddotExposeList.push({key:t.redDotInfo.key,type:1,action:1}),this.reddotExposeTimeout=setTimeout((function(){h.g.commonCgi({cgiName:P.a.serviceBoxReportRedDot,data:{cmd:"ReportRedDot",list:e.reddotExposeList}})}),100)},onTapEntrance:function(t,e){var i=this;h.f.fastClickCheck((function(){if(i.M_go(t.jumpInfo),t.redDotInfo){var o=i.$refs["reddot-".concat(t.id)][0];o.isShow&&(o.onClick({delay:500}),h.g.commonCgi({cgiName:P.a.serviceBoxReportRedDot,data:{cmd:"ReportRedDot",list:[{key:t.redDotInfo.key,type:1,action:2}]}}))}t.cgi&&t.cgi.name&&h.g.getCommonCgiData({cgiName:t.cgi.name,data:t.cgi.params}),h.e.teach.reportCommonClick({blockType:i.block.type,blockId:i.block.id,blockWord:i.block.header&&i.block.header.title,blockExpand:i.block.expand,blockIndex:i.typePos,itemId:t.id,itemWord:t.title,itemExpand:t.expand,itemIndex:e+1})}),1e3)}}},_t=(i(2055),Object(g.a)(ft,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrap-box-grid"},[t.block.header?i("default-header",t._b({},"default-header",t.$props,!1)):t._e(),t._v(" "),i("div",{staticClass:"wrap-box-grid-body"},t._l(t.items,(function(e,o){return i("div",{directives:[{name:"active",rawName:"v-active"}],key:o,staticClass:"wrap-box-grid-item active__mask",attrs:{"data-expose-id":e.id,role:"button"},on:{click:function(i){return i.stopPropagation(),t.onTapEntrance(e,o)}}},[i("div",{staticClass:"icon-box"},[e.iconUrl?i("ui-image",{attrs:{url:e.iconUrl,size:32}}):t._e(),t._v(" "),e.redDotInfo?i("reddot-badge",{ref:"reddot-"+e.id,refInFor:!0,staticClass:"reddot-badge",attrs:{id:e.redDotInfo.key,text:e.redDotInfo.text,expired:e.redDotInfo.expired,"related-id":e.id},on:{expose:function(i){return t.onReddotExpose(e)}}}):t._e()],1),t._v(" "),e.title?i("h3",{staticClass:"title",domProps:{innerHTML:t._s(t.xss(e.title))}}):t._e(),t._v(" "),i("span",{staticClass:"ui-aria-hidden"},[t._v("，")]),t._v(" "),e.desc?i("p",{staticClass:"desc",domProps:{innerHTML:t._s(t.xss(e.desc))}}):t._e()])})),0)],1)}),[],!1,null,"3dadd61d",null).exports),vt={props:["typePos","block"],computed:{item:function(){return this.block.items[0]}},methods:{onTapEntrance:function(t,e){var i=this;h.f.fastClickCheck((function(){i.M_go(t.jumpInfo),h.e.teach.reportCommonClick({blockType:i.block.type,blockId:i.block.id,blockWord:i.block.header&&i.block.header.title,blockExpand:i.block.expand,blockIndex:i.typePos,itemId:t.id,itemWord:t.title,itemExpand:t.expand,itemIndex:e+1})}),1e3)}}},yt=(i(2056),Object(g.a)(vt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"compact-entry active__mask",attrs:{"data-expose-id":t.item.id,role:"button"},on:{click:function(e){return e.stopPropagation(),t.onTapEntrance.apply(null,arguments)}}},[i("ui-tags",{attrs:{tags:t.item.tags,flex:""}}),t._v(" "),t.item.title?i("div",{staticClass:"compact-entry-title"},[t._v(t._s(t.item.title))]):t._e(),t._v(" "),i("span",{staticClass:"ui-aria-hidden"},[t._v(".")]),t._v(" "),t.item.desc?i("div",{staticClass:"compact-entry-desc"},[t._v(t._s(t.item.desc))]):t._e(),t._v(" "),i("ui-arrow",{attrs:{gap:8,size:"big",align:"flex"}})],1)}),[],!1,null,"f187c058",null).exports);function kt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}var gt={components:{DefaultHeader:ct},mixins:[h.l,h.j],props:{block:{type:Object,default:function(){return{}}},typePos:{type:Number,default:0}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?kt(Object(i),!0).forEach((function(e){d()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):kt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({header:function(){return this.block.header?this.block.header:this.block.title?{title:this.block.title}:null}},Object(N.c)({baseInfo:function(t){return t.teach.similar.baseInfo}})),methods:{onTapOption:function(t){this.M_go(t.jumpInfo||t),h.e.teach.reportCommonClick({blockType:this.block.type,blockId:this.block.id,blockWord:this.block.title,blockExpand:this.block.expand,blockIndex:this.typePos,itemId:t.id,itemWord:t.title,itemExpand:t.expand,itemIndex:t+1})}}},It=(i(2057),Object(g.a)(gt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"option-list"},[t.header?i("default-header",t._b({attrs:{header:t.header}},"default-header",t.$props,!1)):t._e(),t._v(" "),t._l(t.block.items,(function(e){return i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],key:e.title,staticClass:"option active__item",attrs:{"data-expose-id":e.id,role:"button"},on:{click:function(i){return i.stopPropagation(),t.onTapOption(e)}}},[e.iconUrl||e.picUrl?i("ui-image",{staticClass:"option-icon",attrs:{url:e.iconUrl||e.picUrl,size:40}}):t._e(),t._v(" "),i("div",{staticClass:"option-text"},[i("div",{staticClass:"option-title",domProps:{innerHTML:t._s(t.xss(e.title))}}),t._v(" "),i("span",{staticClass:"ui-aria-hidden"},[t._v(".")]),t._v(" "),i("div",{staticClass:"option-desc",domProps:{innerHTML:t._s(t.xss(e.desc))}})]),t._v(" "),i("ui-arrow",{attrs:{size:"big"}})],1)}))],2)}),[],!1,null,"4544ce45",null).exports);function xt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}var wt,Ct={components:{DefaultHeader:ct},props:{block:{type:Object,default:function(){return{}}},typePos:{type:Number,default:0}},computed:{header:function(){return this.block.header?this.block.header:this.block.title?{title:this.block.title}:null}},methods:{onTapSticker:function(t,e){h.g.openSticker(function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?xt(Object(i),!0).forEach((function(e){d()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):xt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({position:e,scene:h.b.scene,searchId:h.b.searchId},t)),h.e.teach.reportCommonClick({blockType:this.block.type,blockId:this.block.id,blockWord:this.block.title,blockExpand:this.block.expand,blockIndex:this.typePos,itemId:t.id,itemWord:t.hotword,itemExpand:t.expand,itemIndex:e+1})}}},Ot=(i(2058),Object(g.a)(Ct,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"emoticon-box"},[t.header?i("default-header",t._b({attrs:{header:t.header}},"default-header",t.$props,!1)):t._e(),t._v(" "),i("div",{staticClass:"emoticon-box-content"},t._l(t.block.items,(function(e,o){return i("client-image",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],key:e&&e.encryptUrl||o,staticClass:"emoticon-item active__mask",attrs:{"data-expose-id":e.id,mode:"sticker",role:"button",item:e},nativeOn:{click:function(i){return i.stopPropagation(),t.onTapSticker(e,o)}}})})),1)],1)}),[],!1,null,"3dcea326",null).exports),Tt={components:{DefaultHeader:ct},props:{block:{type:Object,default:function(){return{}}},typePos:{type:Number,default:0}},computed:{header:function(){return this.block.header?this.block.header:this.block.title?{title:this.block.title}:null}},methods:{onTapGridItem:function(t,e){this.M_go(t),h.e.teach.reportCommonClick({blockType:this.block.type,blockId:this.block.id,blockWord:this.block.title,blockExpand:this.block.expand,blockIndex:this.typePos,itemId:t.id,itemWord:t.title||"",itemExpand:t.expand,itemIndex:e+1,listItemId:t.listItems.map((function(t){return t.id})).join("_")})}}},Et=(i(2059),Object(g.a)(Tt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"emoticon-grid"},[t.header?i("default-header",t._b({attrs:{header:t.header}},"default-header",t.$props,!1)):t._e(),t._v(" "),i("div",{staticClass:"emoticon-grid-wrapper"},t._l(t.block.items,(function(e,o){return i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],key:e.title,staticClass:"emoticon-grid-item active__item",attrs:{"data-expose-id":e.id,"aria-label":(e.title?e.title+"，":"")+(e.desc?e.desc+"，":"")+"搜索表情",role:"button"},on:{click:function(i){return i.stopPropagation(),t.onTapGridItem(e,o)}}},[t._l(e.listItems,(function(t){return i("client-image",{key:t.encryptUrl,staticClass:"emoticon",attrs:{item:t,mode:"sticker"}})})),t._v(" "),i("div",{staticClass:"item-title",domProps:{innerHTML:t._s(t.xss(e.title))}}),t._v(" "),e.desc?i("div",{staticClass:"item-desc",domProps:{innerHTML:t._s(t.xss(e.desc))}}):t._e()],2)})),0)],1)}),[],!1,null,"781c1a70",null).exports),St={mixins:[h.j,h.l],props:{block:{type:Object,default:function(){return{}}},type:{type:Number,default:0},typePos:{type:Number,default:0}},methods:{tap:function(t,e){if(h.e.teach.reportCommonClick({blockType:this.block.type,blockId:this.block.id,blockWord:this.block.title,blockExpand:this.block.expand,blockIndex:this.typePos,itemId:t.id,itemWord:t.hotword,itemExpand:t.expand,itemIndex:e+1}),(t.opType||t.optype)==m.c.search){var i=this.M_composeParentSid({t:m.n.HOT_WORD,s:this.$store.state.teach.recommendId,did:t.id||t.hotword,rid:this.$store.state.index.requestId});this.M_openSearchWebView({actionType:3,jumpUrl:"",type:h.b.type,subType:h.b.subType,query:t.hotword,extParams:encodeURIComponent(JSON.stringify({isHomePage:0,crossExtReqParams:[{key:"parentSearchID",textValue:i}]}))})}else this.M_go(t)}}},jt=(i(2060),Object(g.a)(St,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"teach-hot"},[t.block.title?i("p",{staticClass:"teach__title"},[t._v("\n    "+t._s(t.block.title)+"\n  ")]):t._e(),t._v(" "),i("div",{staticClass:"teach-hot__lines"},t._l(t.block.items,(function(e,o){return i("div",{directives:[{name:"active",rawName:"v-active"}],key:e.hotword,staticClass:"teach-hot__line active__item",attrs:{"data-expose-id":e.id,role:"button"},on:{click:function(i){return t.tap(e,o)}}},[i("div",{staticClass:"teach-hot__line-inner"},[i("div",{staticClass:"teach-hot__wrap"},[i("div",{staticClass:"teach-hot__word"},[t._v("\n            "+t._s(e.hotword)+"\n          ")]),t._v(" "),e.tags&&e.tags.length?i("ui-tags",{staticClass:"teach-hot__tag",attrs:{tags:e.tags,flex:"","no-bg":""}}):t._e()],1),t._v(" "),i("span",{staticClass:"ui-aria-hidden"},[t._v("，")]),t._v(" "),e.recommendTags&&e.recommendTags.length?i("ui-tags",{staticClass:"teach-hot__recommend-tag",attrs:{tags:e.recommendTags,"no-bg":""}}):t._e()],1)])})),0)])}),[],!1,null,"e7f8de9e",null).exports),Pt={mixins:[h.j,h.l],props:{block:{type:Object,default:function(){return{}}},type:{type:Number,default:0},typePos:{type:Number,default:0}},methods:{tap:function(t,e){if(h.e.teach.reportCommonClick({blockType:this.block.type,blockId:this.block.id,blockWord:this.block.title,blockExpand:this.block.expand,blockIndex:this.typePos,itemId:t.id,itemWord:t.hotword,itemExpand:t.expand,itemIndex:e+1}),(t.opType||t.optype)==m.c.search){var i=this.M_composeParentSid({t:m.n.HOT_WORD,s:this.$store.state.teach.recommendId,did:t.id||t.hotword,rid:this.$store.state.index.requestId});this.M_openSearchWebView({actionType:3,jumpUrl:"",type:h.b.type,subType:h.b.subType,query:t.hotword,extParams:encodeURIComponent(JSON.stringify({isHomePage:0,crossExtReqParams:[{key:"parentSearchID",textValue:i}]}))})}else this.M_go(t)}}},Dt=(i(2061),Object(g.a)(Pt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"teach-hot"},[t.block.title?i("p",{staticClass:"teach__title"},[t._v("\n    "+t._s(t.block.title)+"\n  ")]):t._e(),t._v(" "),i("div",{staticClass:"teach-hot__lines"},t._l(t.block.items,(function(e,o){return i("div",{directives:[{name:"active",rawName:"v-active"}],key:e.hotword,staticClass:"teach-hot__line active__item",attrs:{"data-expose-id":e.id||e.hotword,role:"button"},on:{click:function(i){return t.tap(e,o)}}},[i("div",{staticClass:"teach-hot__wrap"},[i("ui-image",{staticClass:"teach-hot__thumb",attrs:{url:e.thumb}}),t._v(" "),i("div",{staticClass:"teach-hot__word ellipsis_2"},[t._v("\n          "+t._s(e.hotword)+"\n        ")]),t._v(" "),i("ui-arrow",{staticClass:"teach-hot__arrow",attrs:{size:"big",align:"flex",gap:""}})],1)])})),0)])}),[],!1,null,"357cf3ff",null).exports),Nt={mixins:[h.l,h.j],props:{block:{type:Object,default:function(){return{}}},typePos:{type:Number,default:0}},computed:{hasData:function(){return this.block&&this.block.items&&this.block.items.length}},created:function(){},methods:{tap:function(t,e){var i=this;t.jumpInfo?i.M_go(t.jumpInfo):i.M_go(Object.assign({},t,{jumpType:m.k.BIZ,isTeachPage:!0,opType:m.c.bizSession})),h.e.teach.reportCommonClick({blockType:i.block.type,blockId:i.block.id||"",blockWord:i.block.title,blockExpand:this.block.expand||"",blockIndex:i.typePos,itemId:t.id,itemWord:t.nickName,itemExpand:t.expand||"",itemIndex:e+1})},tapService:function(t,e,i,o){var a=this;a.M_go(t.jumpInfo||t),h.e.teach.reportCommonClick({blockType:a.block.type,blockId:a.block.id||"",blockWord:a.block.title,blockExpand:this.block.expand||"",blockIndex:a.typePos,itemId:i.id,itemWord:i.nickName,itemExpand:i.expand||"",itemIndex:o+1,listItemId:t.name,listItemExpand:"",listItemIndex:e+1,listItemWord:t.name})}}},Rt=(i(2062),Object(g.a)(Nt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.hasData?i("div",{staticClass:"bws"},[i("p",{staticClass:"teach__title bws__title"},[t._v(t._s(t.block.title||"常搜公众号"))]),t._v(" "),i("div",{staticClass:"bws__items"},t._l(t.block.items,(function(e,o){return i("div",{directives:[{name:"active",rawName:"v-active"}],key:e.userName,staticClass:"bws__item active__item",attrs:{"data-expose-id":e.id},on:{click:function(i){return t.tap(e,o)}}},[i("div",{staticClass:"bws__info",attrs:{role:"button"}},[i("ui-image",{staticClass:"bws__thumb",attrs:{size:32,url:e.avatarUrl}}),t._v(" "),i("div",{staticClass:"bws__item-title"},[t._v("\n          "+t._s(e.nickName)+"\n        ")])],1),t._v(" "),e.service?i("div",{staticClass:"bws__services"},t._l(e.service,(function(a,s){return i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],key:a.title,staticClass:"bws__service",attrs:{role:"button","aria-label":e.nickName+"的服务，"+a.name},on:{click:function(i){return i.stopPropagation(),t.tapService(a,s,e,o)}}},[i("span",{staticClass:"bws__service-inner"},[t._v("\n            "+t._s(a.name)+"\n          ")])])})),0):t._e()])})),0)]):t._e()}),[],!1,null,"057e9aa1",null).exports),$t={mixins:[h.l,h.j],props:{block:{type:Object,default:function(){return{}}},typePos:{type:Number,default:0}},computed:{hasData:function(){return this.block&&this.block.items&&this.block.items.length}},created:function(){},methods:{tap:function(t,e){var i=this;t.jumpInfo?i.M_go(t.jumpInfo):i.M_go(Object.assign({},t,{jumpType:m.k.BIZ,isTeachPage:!0,opType:m.c.bizSession})),h.e.teach.reportCommonClick({blockType:i.block.type,blockId:i.block.type||i.block.id||"",blockWord:i.block.title,blockExpand:this.block.expand||"",blockIndex:i.typePos,itemId:t.id,itemWord:t.nickName,itemExpand:t.expand||"",itemIndex:e+1})},tapService:function(t,e,i,o){var a=this;a.M_go(t.jumpInfo||t),h.e.teach.reportCommonClick({blockType:a.block.type,blockId:a.block.type||a.block.id||"",blockWord:a.block.title,blockExpand:this.block.expand||"",blockIndex:a.typePos,itemId:i.id,itemWord:i.nickName,itemExpand:i.expand||"",itemIndex:o+1,listItemId:t.id||t.name,listItemExpand:"",listItemIndex:e+1,listItemWord:t.name})}}},Bt=(i(2063),Object(g.a)($t,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.hasData?i("div",{staticClass:"bws"},[i("p",{staticClass:"teach__title bws__title"},[t._v(t._s(t.block.title||"常搜公众号"))]),t._v(" "),i("div",{staticClass:"bws__items"},t._l(t.block.items,(function(e,o){return i("div",{directives:[{name:"active",rawName:"v-active"}],key:e.userName,staticClass:"bws__item active__item",attrs:{"data-expose-id":e.id},on:{click:function(i){return t.tap(e,o)}}},[i("div",{staticClass:"bws__info",attrs:{role:"button"}},[i("ui-image",{staticClass:"bws__thumb",attrs:{size:48,url:e.avatarUrl}})],1),t._v(" "),i("div",{staticClass:"bws__content"},[i("div",{staticClass:"bws__item-title"},[t._v("\n          "+t._s(e.nickName)+"\n        ")]),t._v(" "),e.service?i("div",{staticClass:"bws__services"},t._l(e.service,(function(a,s){return i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],key:a.title,staticClass:"bws__service",attrs:{role:"button","aria-label":e.nickName+"的服务，"+a.name},on:{click:function(i){return i.stopPropagation(),t.tapService(a,s,e,o)}}},[i("span",{staticClass:"bws__service-inner"},[t._v("\n              "+t._s(a.name)+"\n            ")])])})),0):t._e()])])})),0)]):t._e()}),[],!1,null,"49b06bf4",null).exports),Mt={name:"Banner",mixins:[h.l],props:{block:{type:Object,default:function(){return{}}},typePos:{type:Number,default:0}},computed:{item:function(){return this.block.items&&this.block.items[0]||null},button:function(){return this.item.button||null},buttonType:function(){if(this.button)return this.button&&void 0!==this.button.buttonType?this.button.buttonType:null}},methods:{tapHandler:function(){var t=this;h.f.fastClickCheck((function(){t.M_go(t.item.jumpInfo),h.e.teach.reportCommonClick({blockType:t.block.type,blockId:t.block.id,blockWord:t.block.header&&t.block.header.title,blockExpand:t.block.expand,blockIndex:t.typePos,itemId:t.item.id,itemWord:t.item.title,itemExpand:t.item.expand,itemIndex:1})}),1e3)},onTapBanner:function(){this.tapHandler()},onTapButton:function(){this.tapHandler()}}},qt=(i(2064),Object(g.a)(Mt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.item?i("div",{staticClass:"banner",attrs:{"data-expose-id":t.item.id}},[i("div",{directives:[{name:"image",rawName:"v-image:plain",value:t.item.picUrl,expression:"item.picUrl",arg:"plain"},{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"banner-inner active__mask",attrs:{"aria-label":t.item.ariaLabel||"活动入口"},on:{click:function(e){return e.stopPropagation(),t.onTapBanner.apply(null,arguments)}}},[t.button?i("ui-button",{staticClass:"activity-button",class:null===t.buttonType?"special-button-background":"",attrs:{type:t.button.buttonType||5},on:{click:function(e){return e.stopPropagation(),t.onTapButton.apply(null,arguments)}}},[t._v("\n      "+t._s(t.button.title)+"\n    ")]):t._e()],1)]):t._e()}),[],!1,null,"3002ba1d",null).exports),Wt={components:{"v-mask":i(706).a},mixins:[h.l],props:{pos:{type:Number,default:0},typePos:{type:Number,default:0},block:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}}},methods:{tap:function(){var t=this;t.M_go(t.item),h.e.teach.reportCommonClick({blockType:t.block.type,blockId:t.block.id||"",blockWord:t.block.title,blockExpand:t.block.expand||"",blockIndex:t.typePos,itemId:t.item.id,itemWord:t.item.title,itemExpand:t.item.expand||"",itemIndex:t.pos+1})}}},Ht=(i(2065),Object(g.a)(Wt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"active",rawName:"v-active"}],staticClass:"teach__video active__mask",attrs:{"data-expose-id":t.item.id},on:{click:t.tap}},[i("ui-image",{staticClass:"image",attrs:{url:t.item.imageData&&t.item.imageData.url||t.item.image}}),t._v(" "),i("v-mask",{attrs:{text:t.item.likeNum||t.item.duration,size:36,like:!!t.item.likeNum,"no-icon":t.item.noPlayIcon}}),t._v(" "),i("div",{staticClass:"gradient"}),t._v(" "),i("div",{staticClass:"title ellipsis_2",attrs:{role:"link"}},[i("span",{attrs:{role:"option"},domProps:{innerHTML:t._s(t.xss(t.item.title))}})])],1)}),[],!1,null,"0f8aef27",null).exports),Lt=i(802),Ut=i(62),At={components:{thisVideo:Ht,horizontalScroll:Lt.a},props:{block:{type:Object,default:function(){return{}}},blockList:{type:Array,default:function(){return[]}},type:{type:Number,default:0},typePos:{type:Number,default:0}},data:function(){return{collapse:!1}},computed:{hasLive:function(){return this.blockList.filter((function(t){return!!(t.type===Ut.a.teachType.LIVE_SUBSCRIBE&&t.items&&t.items.length>0)})).length>0}},mounted:function(){this.hasLive&&(this.collapse=!0)},methods:{scroll:function(){this.$emit("scroll")},onClickCollapse:function(){var t=this;this.collapse=!this.collapse,setTimeout((function(){t.$emit("scroll")}),100)}}},Ft=(i(2066),Object(g.a)(At,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vs",class:t.collapse?"collapse":""},[t.block.title?i("p",{staticClass:"teach__title"},[i("span",[t._v(t._s(t.block.title))]),t._v(" "),i("span",{staticClass:"collapse-btn",on:{click:t.onClickCollapse}},[i("ui-arrow",{attrs:{size:"big"}})],1)]):t._e(),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.collapse,expression:"!collapse"}],staticClass:"videos"},[i("horizontalScroll",{attrs:{list:t.block.items,gap:8,width:"42%"},on:{scroll:t.scroll},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.item,a=e.index;return[i("thisVideo",{attrs:{block:t.block,item:o,pos:a,"type-pos":t.typePos}})]}}])})],1)])}),[],!1,null,"151d698c",null).exports),zt=i(1439),Vt=i(1440),Gt=i(37),Yt=i(162),Kt=i.n(Yt),Zt=i(699),Xt={components:{LiveItemCard:zt.a,LiveSingleCard:Vt.a,horizontalScroll:Lt.a},mixins:[h.j,h.l],props:{block:{type:Object,default:function(){return{}}},type:{type:Number,default:0},typePos:{type:Number,default:0}},data:function(){return{subscribeRequestId:"",emptyText:"暂无订阅，添加以下内容即可订阅",loading:!1}},computed:{allCategories:function(){return JSON.parse(JSON.stringify(this.block.subscribeCategories))}},created:function(){var t=this;P.b.onCommonCgiReady((function(e){t.loading=!1,e.errCode?Kt.a.alert("网络异常，请稍后再试"):t.subscribeRequestId===e.requestId&&(t.$emit("update"),t.subscribeRequestId="")})),Gt.a.listen("activity:state_change",(function(e){"onResume"==e.state&&t.$emit("update")})),wt||(wt=new Zt.Expose((function(e){var i=t;if(e.length){var o={};t.allCategories.forEach((function(t,i){t.items&&t.items.length&&t.items.forEach((function(a,s){if(e.indexOf(a.id)>-1){o[t.title]||(o[t.title]={id:"",type:"",word:t.title,index:i+1,expand:"",items:{}});var n=o[t.title].items;n[a.id]||(n[a.id]={id:a.id,word:a.name||"",index:s+1,expand:""})}}))})),Object.keys(o).forEach((function(t){var e={pageId:1,actionType:m.l.EXPOSE,newBlockIds:[],newBlockWords:[],newBlockIndexs:[],newItemIds:[],newItemWords:[],newItemIndexs:[]},a=o[t];Object.keys(a.items).forEach((function(t){var o=a.items[t];i.addFormatDataToReportObj(e,"newBlock",a),i.addFormatDataToReportObj(e,"newItem",o)})),h.e.liveSubscribeCategory.commonReport(e)}))}}),{container:document.querySelector(".subscribe-category_list"),attr:"data-category-expose-id"}))},methods:{scroll:function(){this.$emit("scroll")},onClickEnter:function(t){this.M_go(t.jumpInfo)},onClickMore:function(){var t=this;this.$refs._allSubscribes.show(),setTimeout((function(){wt.analysis()}),500),h.e.teach.reportCommonClick({blockType:t.block.type,blockId:t.block.id||"",blockWord:t.block.title,blockExpand:t.block.expand||"",blockIndex:t.typePos,itemId:"",itemWord:"",itemExpand:"",itemIndex:0})},updateSubscribeStatus:function(t,e,i,o){var a=t.subscribe?0:1;this.loading||(this.loading=!0,this.subscribeRequestId=h.g.commonCgi({cgiName:P.a.updateLiveSubscribe,data:{request_id:"".concat(Date.now()),is_subscribe:a,id:t.id,name:t.name}}),h.e.liveSubscribeCategory.commonReport({pageId:1,actionType:a?m.l.CLICK_SUBSCRIBE:m.l.CLICK_CANCEL_SUBSCRIBE,newBlockIds:[""],newBlockWords:[i.title],newBlockIndexs:[o+1],newItemIds:[t.id],newItemWords:[t.name],newItemIndexs:[e+1]}))},jumpDetail:function(t,e,i,o){this.M_go(t.jumpInfo),h.e.liveSubscribeCategory.commonReport({pageId:1,actionType:m.l.CLICK_CATEGORY,newBlockIds:[""],newBlockWords:[i.title],newBlockIndexs:[o+1],newItemIds:[t.id],newItemWords:[t.name],newItemIndexs:[e+1]})},addFormatDataToReportObj:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t["".concat(e,"Ids")]&&t["".concat(e,"Ids")].push(i.id||""),t["".concat(e,"Words")]&&t["".concat(e,"Words")].push(i.word||""),t["".concat(e,"Indexs")]&&t["".concat(e,"Indexs")].push(i.index||"")}}},Jt=(i(2067),Object(g.a)(Xt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"subscribe"},[t.block.items&&t.block.items.length?i("div",[t.block.title?i("p",{staticClass:"teach__title"},[i("span",[t._v(t._s(t.block.title))]),t._v(" "),i("span",{staticClass:"subscribe__more",on:{click:t.onClickMore}},[i("svg-icon",{attrs:{name:"more"}})],1)]):t._e(),t._v(" "),1===t.block.items.length?i("div",[i("div",{staticClass:"subscribe__live-single"},[i("live-single-card",{key:t.block.items[0].docID,attrs:{item:t.block.items[0],"type-pos":t.typePos,pos:1,"desc-type":2,"data-expose-id":t.block.items[0].id,from:"teach"}})],1)]):2===t.block.items.length?i("div",{staticClass:"subscribe__live-two"},[i("ui-column",{attrs:{fill:"",list:t.block.items,col:2,gap:8},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.item,a=e.index;return[i("live-item-card",{key:o.docID,attrs:{data:t.block,item:o,"type-pos":t.typePos,pos:a+1,"data-expose-id":o.id,from:"teach"}})]}}],null,!1,3538999090)})],1):i("horizontalScroll",{staticClass:"subscribe__live-items",attrs:{list:t.block.items,gap:8,width:"42%"},on:{scroll:t.scroll},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.item,a=e.index;return[i("live-item-card",{key:o.docID,attrs:{data:t.block,item:o,"type-pos":t.typePos,pos:a+1,"data-expose-id":o.id,from:"teach"}})]}}],null,!1,3538999090)})],1):i("div",{directives:[{name:"active",rawName:"v-active"}],staticClass:"subscribe__enter",on:{click:t.onClickMore}},[t.block.title?i("p",{staticClass:"subscribe__enter-title"},[i("ui-tag",{staticClass:"subscribe__live-icon",attrs:{type:11,size:"big"}}),t._v(" "),i("span",[t._v(t._s(t.block.title))])],1):t._e(),t._v(" "),i("ui-arrow",{attrs:{size:"big"}})],1),t._v(" "),i("ui-half-screen-sheet",{ref:"_allSubscribes",attrs:{title:"直播"}},[i("div",{staticClass:"subscribe-category_list"},t._l(t.allCategories,(function(e,o){return i("div",{key:"category"+o},[e.items&&e.items.length||o>0?i("div",{staticClass:"subscribe-category-item"},[i("div",{staticClass:"subscribe-category-item__title"},[t._v(t._s(e.title))]),t._v(" "),i("ui-column",{attrs:{fill:"",list:e.items,col:2},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.item,n=a.index;return[i("div",{staticClass:"subscribe-category-item__btn",attrs:{"data-category-expose-id":s.id}},[i("span",{on:{click:function(i){return t.jumpDetail(s,n,e,o)}}},[t._v(t._s(s.name))]),t._v(" "),i("span",{on:{click:function(i){return t.updateSubscribeStatus(s,n,e,o)}}},[0===o?i("i",{staticClass:"weui-icon-close-thin"}):s.subscribe?i("svg-icon",{attrs:{name:"tick"}}):i("i",{staticClass:"weui-icon-close-thin icon-add"})],1)])]}}],null,!0)})],1):i("div",{staticClass:"subscribe-category-item empty"},[i("div",{staticClass:"subscribe-category-item__title"},[t._v(t._s(e.title))]),t._v(" "),i("p",{staticClass:"subscribe__empty"},[t._v(t._s(t.emptyText))])])])})),0)])],1)}),[],!1,null,"141a4c63",null).exports),Qt={name:"SectionHeader",props:{config:{type:Object,default:function(){return{}}}},data:function(){return{}},methods:{}},te=(i(2068),Object(g.a)(Qt,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"section-header"},[e("span",{staticClass:"section-header-title",attrs:{role:"option"}},[this._v(this._s(this.config.title))]),this._v(" "),this._t("default")],2)}),[],!1,null,"85294aee",null).exports),ee={name:"Arrow",props:{direction:{type:String,default:"right"},size:{type:[Number,String],default:""},gap:{type:[Number,Boolean],default:!1},align:{type:String,default:"inline"},ariaHidden:{type:Boolean,default:!0}},computed:{scaleRatio:function(){switch(!0){case"number"==typeof this.size:return this.size/24;case"big"===this.size:return 1;case"small"===this.size:return 16/24;default:return 20/24}},arrowClass:function(){return{"local-arrow-align-inline":"inline"===this.align,"local-arrow-align-flex":"flex"===this.align}},arrowGap:function(){if(!1===this.gap)return null;var t=!0===this.gap?4:this.gap;return"inline"===this.align?t-3:t}},methods:{}},ie=(i(2069),Object(g.a)(ee,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"arrow-wrap"},["up"===t.direction||"down"===t.direction?i("div",{staticClass:"local-arrow",class:t.arrowClass,style:{marginLeft:t.arrowGap+"px",width:1.5*t.scaleRatio+"rem",height:.75*t.scaleRatio+"rem"},attrs:{"aria-hidden":t.ariaHidden}},[i("svg",{staticClass:"local-arrow-svg",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 12"}},[i("path",{attrs:{d:"M17.42 2.454l1.06 1.06-5.779 5.78a.996.996 0 01-1.413 0L5.51 3.514l1.061-1.06 5.425 5.425 5.424-5.425z",transform:"up"===t.direction?"rotate(180 12 6)":"",fill:"currentColor","fill-rule":"evenodd"}})])]):i("div",{staticClass:"local-arrow",class:t.arrowClass,style:{marginLeft:t.arrowGap+"px",width:.75*t.scaleRatio+"rem",height:t.scaleRatio+"rem"},attrs:{"aria-hidden":t.ariaHidden}},[i("svg",{staticClass:"local-arrow-svg",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 16"}},[i("path",{attrs:{d:"M2.454 2.58l1.06-1.06 5.78 5.779a.996.996 0 010 1.413l-5.78 5.779-1.06-1.061L7.88 8.005 2.454 2.581z",transform:"left"===t.direction?"rotate(180 6 8)":"",fill:"currentColor","fill-rule":"evenodd"}})])])])}),[],!1,null,"923ab852",null).exports),oe={components:{Arrow:ie},props:{item:{type:Object,default:function(){return{}}},index:{type:Number,default:-1},isEditting:{type:Boolean,default:!1}},data:function(){return{}},methods:{onTapItem:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.push(this.$el),this.isEditting?this.$emit.apply(this,["tap-delete"].concat(e)):this.$emit.apply(this,["tap-search"].concat(e))}}};i(2070);function ae(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function se(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ae(Object(i),!0).forEach((function(e){d()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ae(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var ne={components:{SectionHeader:te,HistoryItem:Object(g.a)(oe,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"history__item",class:{"edit-mask":t.isEditting,active__mask:!t.isEditting,active__item:t.isEditting},attrs:{role:t.isEditting?"button":"link"},on:{click:function(e){return e.stopPropagation(),function(e){return t.onTapItem(t.item,t.index,e)}.apply(null,arguments)}}},[i("span",{staticClass:"history__item__text",class:{delete:t.isEditting}},[t._v(t._s(t.item.hotword))]),t._v(" "),t.isEditting?i("div",{staticClass:"history__item__delete",attrs:{"aria-hidden":"true"}},[i("i",{staticClass:"weui-icon-close-thin history__item__delete-icon"})]):t.item.hideArrow?t._e():i("arrow",{attrs:{direction:"right",size:12,gap:4,align:"flex"}})],1)}),[],!1,null,"90588378",null).exports,Arrow:ie},mixins:[h.l,h.j],props:["block","typePos","realPos"],data:function(){return{historys:[],showCountConfig:6,showCount:6,isCompletd:!1,isEditHistory:!1,isFold:!0,isShowEmpty:!1,histroySubscripttionsIsHideKey:"HIDE_HISTORY_SUBSCRIPTIONS_V1",isHide:!1}},computed:se(se({},Object(N.c)({requestId:function(t){return t.teach.requestId}})),{},{historyItems:function(){return this.isFold?this.historys.slice(0,this.showCountConfig):this.historys}}),watch:{block:{handler:function(t){if(t){this.showCount=this.showCountConfig;var e=t.items||[];this.historys=e,this.isFold=e.length>this.showCountConfig,this.isEditHistory=!1,this.isShowEmpty=!1,this.isCompletd=!0}},immediate:!0}},created:function(){this.checkIsHide()},methods:{onTap:function(t,e,i){try{var o=this,a=t.hotword;if(t.opType=t.optype||t.opType||m.c.search,h.e.teach.reportCommonClick({blockType:this.block.type,blockId:this.block.id,blockWord:this.block.title,blockExpand:this.block.expand,blockIndex:this.typePos,itemId:t.id,itemWord:t.hotword,itemExpand:t.expand,itemIndex:e+1}),h.e.teach.reportCommonNewClick({searchId:h.b.searchId,requestId:this.requestId,itemInfo:this.block.vueBlockId.replace(/^block:/,""),docInfo:t.vueItemId.replace(/^item:/,"")}),Object(T.a)(h.k.subscriptions.historyClick,{rate:1}),1==t.opType){var s=o.M_composeParentSid({t:o.block.parenttype||m.n.TEACH_SUBSCRIPTIONS_HISTORY,s:o.$store.state.teach.recommendId,did:t.hotword,rid:o.requestId});o.M_checkSpecialSearchBeforeLaunchNewSearch({query:a,callback:function(){h.f.setSearchInputWord({query:a,isInputChange:!1}),E.a.$emit(E.b.GOTO,{page:m.f.RESULT,query:a,searchId:"",extReqParams:{key:"parentSearchID",textValue:s}})},extParams:{crossExtReqParams:[{key:"parentSearchID",textValue:s}]}})}else 4==t.opType&&o.M_startDetail({type:2,jumpUrl:t.jumpUrl})}catch(t){}},tapDelete:function(t,e,i){h.f.reportRealTime({scene:h.b.scene,recommendId:this.$store.state.teach.recommendId,businessType:h.b.type,docId:t.hotword,docPos:e,typePos:this.typePos,isHomePage:0,sceneActionType:h.b.sceneActionType}),this.reportFeatureClick(5),this.$store.commit("teach/deleteData",{dataIdx:this.realPos-1,itemIdx:e}),this.checkIsEmptyForDel()},checkIsEmptyForDel:function(){this.isShowEmpty=!this.historys.length},tapClear:function(t){h.e.teach.reportCommonClick({isDelete:2,blockId:"删除所有历史",blockWord:this.block.deleteWord,blockExpand:this.block.expand,blockIndex:this.typePos}),this.reportFeatureClick(6),this.$store.commit("teach/clearData",{isDelete:!1,dataIdx:this.realPos-1}),this.checkIsEmptyForDel()},onTapExpand:function(t){this.reportFeatureClick(this.isFold?7:8),this.isFold=!this.isFold},onTapEditHistory:function(){this.isEditHistory=!0,this.showCount=this.historys.length},onTapFinish:function(){this.isEditHistory=!1,this.isFold&&this.historys.length>this.showCountConfig&&(this.showCount=this.showCountConfig)},checkIsHide:function(){var t=this;return c()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.d.get({key:t.histroySubscripttionsIsHideKey});case 2:t.isHide=e.sent;case 3:case"end":return e.stop()}}),e)})))()},onTapHide:function(t){this.reportFeatureClick(9),this.isHide=!0,this.$refs.popOver.hide(),h.d.set({key:this.histroySubscripttionsIsHideKey,value:1})},reportFeatureClick:function(t){h.e.teach.reportFeatureBtnClick({featureInfo:t,actionId:2,searchId:h.b.searchId,requestId:this.requestId,itemInfo:this.block.vueBlockId.replace(/^block:/,"")})}}},re=(i(2071),Object(g.a)(ne,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isHide||!t.isShowEmpty&&!t.historys.length?t._e():i("div",{staticClass:"history-subscriptions-box",attrs:{"data-report-25118-id":"his-"+t.block.vueBlockId}},[i("section-header",{attrs:{config:{title:t.block.title}}},[t.historys.length?i("div",{staticClass:"history-header"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isEditHistory,expression:"!isEditHistory"}],staticClass:"history-header__action"},[t.historys.length>t.showCountConfig?[i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"fold-wrap active__mask",attrs:{role:"button","data-report-25118-id":"his-feature:"+(t.isFold?7:8)+"@"+t.block.vueBlockId},on:{click:function(e){return e.stopPropagation(),t.onTapExpand.apply(null,arguments)}}},[i("span",[t._v(t._s(t.isFold?"展开":"收起"))]),t._v(" "),i("arrow",{attrs:{direction:t.isFold?"down":"up",size:16,align:"flex"}})],1),t._v(" "),i("div",{staticClass:"split-line"})]:t._e(),t._v(" "),i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"history-header__action__icon active__mask",attrs:{role:"button"},on:{click:function(e){return e.stopPropagation(),t.onTapEditHistory.apply(null,arguments)}}},[i("svg-icon",{staticClass:"delete-icon",attrs:{name:"trashcan"}})],1)],2),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isEditHistory,expression:"isEditHistory"}],staticClass:"history-header__action"},[i("span",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"history-header__action__link active__link",attrs:{role:"button","data-report-25118-id":"his-feature:6@"+t.block.vueBlockId},on:{click:function(e){return e.stopPropagation(),t.tapClear.apply(null,arguments)}}},[t._v("清空")]),t._v(" "),i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"history-header__action__button",attrs:{role:"button"},on:{click:function(e){return e.stopPropagation(),t.onTapFinish.apply(null,arguments)}}},[t._v("完成")])])]):t.isShowEmpty?i("PopOver",{ref:"popOver",staticClass:"feedback-wrap history-subscriptions-feedback-wrap",attrs:{"class-name":"history-subscriptions-feedback-pop-over","dialog-style":{background:"transparent"},"spacing-h":16,"spacing-v":8},scopedSlots:t._u([{key:"trigger",fn:function(){return[i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"feedback active__mask",attrs:{"data-report-25118-id":"his-feature:12@"+t.block.vueBlockId},on:{click:function(){return t.reportFeatureClick(12)}}},[i("img",{attrs:{src:"https://res.wx.qq.com/a/fed_upload/152dd1ba-54a6-4ff7-9496-28bd7abb33ed/close.svg"}})])]},proxy:!0},{key:"content",fn:function(){return[i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"pop-content active__item",attrs:{"data-report-25118-id":"his-feature:9@"+t.block.vueBlockId},on:{click:function(e){return e.stopPropagation(),t.onTapHide.apply(null,arguments)}}},[t._v("\n          不再展示\n        ")])]},proxy:!0}],null,!1,2285783730)}):t._e()],1),t._v(" "),t.historys.length?i("div",{staticClass:"history-list"},t._l(t.historyItems,(function(e,o){return i("history-item",{key:o,staticClass:"history-list-item",attrs:{"data-index":o,"data-report-25118-id":t.isEditHistory?"his-feature:5@"+t.block.vueBlockId:"his-"+e.vueItemId+"@"+t.block.vueBlockId,"is-editting":t.isEditHistory,item:e,index:o},on:{"tap-search":t.onTap,"tap-delete":t.tapDelete}})})),1):i("div",{staticClass:"history-empty"},[i("p",[t._v("没有最近在搜内容")])])],1)}),[],!1,null,null,null).exports),ce={components:{Arrow:ie},props:{item:{type:Object,default:function(){return{}}},index:{type:Number,default:-1}},methods:{onTapItem:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.push(this.$el),this.$emit.apply(this,["tap-search"].concat(e))}}};i(2072);function le(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function de(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?le(Object(i),!0).forEach((function(e){d()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):le(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var pe={name:"RecommendBlock",components:{SectionHeader:te,RecommendItem:Object(g.a)(ce,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"rmd__item active__mask",attrs:{role:"link"},on:{click:function(e){return e.stopPropagation(),t.onTapItem(t.item,t.index)}}},[i("span",{staticClass:"rmd__item__text"},[t._v(t._s(t.item.hotword))]),t._v(" "),t.item.hideArrow?t._e():i("arrow",{attrs:{direction:"right",size:12,gap:4,align:"flex"}})],1)}),[],!1,null,"fd310df4",null).exports},mixins:[h.l,h.j],props:["block","typePos"],data:function(){return{}},computed:de(de({},Object(N.c)({requestId:function(t){return t.teach.requestId}})),{},{items:function(){return this.items||[]}}),watch:{},methods:{onTapSearch:function(t,e,i){var o=this.M_composeParentSid({t:this.block.parenttype||m.n.TEACH_SUBSCRIPTIONS_RECOMMEND,s:this.$store.state.teach.recommendId,did:t.id||t.hotword,rid:this.requestId});h.g.setInputBar({query:t.hotword,isInputChange:!1}),E.a.$emit(E.b.GOTO,{page:m.f.RESULT,query:t.hotword,searchId:"",extReqParams:{key:"parentSearchID",textValue:o}}),Object(T.a)(h.k.subscriptions.recommendClick,{rate:1}),h.e.teach.reportCommonNewClick({searchId:h.b.searchId,requestId:this.requestId,itemInfo:this.block.vueBlockId.replace(/^block:/,""),docInfo:t.vueItemId.replace(/^item:/,"")})}}},ue=(i(2073),Object(g.a)(pe,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.block&&t.block.items.length?i("div",{staticClass:"recommend-box",attrs:{"data-report-25118-id":"rmd-"+t.block.vueBlockId}},[t.block.title?i("section-header",{attrs:{config:{title:t.block.title}}}):t._e(),t._v(" "),i("div",{staticClass:"recommend-list"},t._l(t.block.items,(function(e,o){return i("recommend-item",{key:e.id,staticClass:"recommend-list-item",attrs:{"data-report-25118-id":"rmd-"+e.vueItemId+"@"+t.block.vueBlockId,item:e,index:o},on:{"tap-search":t.onTapSearch}})})),1)],1):t._e()}),[],!1,null,"a2aee93e",null).exports),he=i(14),me={props:["typePos","block","type","item","index"],methods:{onTap:function(t,e){h.e.teach.reportCommonClick({blockType:this.block.type,blockId:this.item.id||this.item.key||"",blockWord:this.item.title||"",blockExpand:this.item.expand||"",blockIndex:this.typePos+this.index,itemId:t.id||t.hotword||"",itemWord:t.hotword,itemExpand:t.expand||"",itemIndex:e+1}),t.jumpInfo&&this.M_go(t.jumpInfo)}}},be=(i(2074),Object(g.a)(me,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.item.items&&t.item.items.length?i("div",{staticClass:"search-word"},t._l(t.item.items,(function(e,o){return i("div",{directives:[{name:"active",rawName:"v-active"}],key:o,staticClass:"search-word-item active__item",attrs:{"data-expose-id":e.id},on:{click:function(i){return t.onTap(e,o)}}},[e.icon_url?i("ui-image",{attrs:{url:e.icon_url}}):t._e(),t._v(" "),e.hotword?i("span",{staticClass:"search-word-item__title"},[t._v(t._s(e.hotword))]):t._e()],1)})),0):t._e()}),[],!1,null,"58ab3020",null).exports),fe={props:["typePos","block","type","item","index"],computed:{},methods:{onTapButton:function(t,e,i){var o;h.e.teach.reportCommonClick({blockType:this.block.type,blockId:this.item.id||this.item.key||"",blockWord:this.item.title||"",blockExpand:this.item.expand||"",blockIndex:this.typePos+this.index,itemId:(null==e||null===(o=e.jumpInfo)||void 0===o?void 0:o.userName)||t.id||t.title||"",itemWord:t.title,itemExpand:t.expand||"",itemIndex:i+1}),e.jumpInfo&&this.M_go(e.jumpInfo)}}},_e=(i(2075),Object(g.a)(fe,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"func-btn-outer"},t._l(t.item.items,(function(e,o){return i("div",{key:o,staticClass:"func-btn",attrs:{"data-expose-id":e.id},on:{click:function(i){return i.stopPropagation(),t.onTapButton(e,e.button,o)}}},[e.bg_url?i("div",{staticClass:"func-btn-bg"},[i("ui-image",{attrs:{url:e.bg_url,type:"img"}})],1):t._e(),t._v(" "),i("div",{staticClass:"func-btn-content"},[e.title?i("div",{staticClass:"func-btn-content__title"},[t._v(t._s(e.title))]):t._e(),t._v(" "),e.source?i("div",{staticClass:"func-btn-content__source"},[e.source.iconurl?i("ui-image",{attrs:{url:e.source.iconurl}}):t._e(),t._v(" "),e.source.iconname?i("span",[t._v(t._s(e.source.iconname))]):t._e()],1):t._e(),t._v(" "),e.button?i("a",{staticClass:"weui-btn weui-btn_primary func-btn-content__button",class:{"weui-btn_mini":t.block.items.length>1}},[t._v("\n        "+t._s(e.button.title)+"\n      ")]):t._e()])])})),0)}),[],!1,null,"37b80d9a",null).exports),ve=new he.a({searchWord:1,funcBtn:2}),ye={components:{searchWord:be,funcBtn:_e},mixins:[h.j,h.l],props:{block:{type:Object,default:function(){return{}}},type:{type:Number,default:0},typePos:{type:Number,default:0}},data:function(){return{subType:ve}},methods:{onFeedback:function(t,e,i){var o=this;e.feedback&&e.feedback.cgi&&h.g.getCommonCgiData({cgiName:e.feedback.cgi.name,data:e.feedback.cgi.params}).then((function(t){var a,s=t.errCode;if(0==(void 0===s?0:s)){var n=Object.assign({},o.$store.state.teach.teachData),r=Object.assign({},o.block);null!=r&&r[e.key]&&delete r[e.key],n.data[o.typePos-1]=r,o.$store.commit("teach/updateData",{data:n})}else o.failToast();(null===(a=o.$refs.negativePop)||void 0===a?void 0:a[i])&&o.$refs.negativePop[i].hide()})).catch((function(t){var e;(null===(e=o.$refs.negativePop)||void 0===e?void 0:e[i])&&o.$refs.negativePop[i].hide(),o.failToast()}));var a={1:5,2:6}[e.type]||0;h.e.teach.reportFeatureBtnClick({searchId:this.$store.state.teach.teachData.searchID,requestId:this.$store.state.teach.requestId,featureInfo:4,itemInfo:"".concat(this.typePos+i,"|").concat(a,"|").concat(encodeURIComponent(e.title)),docInfo:"",businessType:this.block.type})},failToast:function(){setTimeout((function(){E.a.$emit(E.b.showToast,{text:"请求失败，请稍后再试"})}),300)},onTapShow:function(t,e){var i;null!==(i=this.$refs.negativePop)&&void 0!==i&&i[e]&&this.$refs.negativePop[e].show()}}},ke=(i(2076),Object(g.a)(ye,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.block.items&&t.block.items.length?i("div",{staticClass:"recommend-widget"},t._l(t.block.items,(function(e,o){var a,s;return i("div",{key:o,staticClass:"recommend-widget-item",class:(a={},a["recommend-widget-item-"+t.block.items.length]=!0,a)},[i("div",{staticClass:"recommend-widget-item__header"},[e.title?i("span",[t._v(t._s(e.title))]):t._e(),t._v(" "),e.feedback&&e.feedback.title?i("pop-over",{ref:"negativePop",refInFor:!0,staticClass:"negative_wrap",attrs:{"mask-style":{backgroundColor:"transparent"},"class-name":"negative_wrap_prop","spacing-v":8,"spacing-h":16},scopedSlots:t._u([{key:"trigger",fn:function(){return[i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"negative_wrap_btn",on:{click:function(e){return e.stopPropagation(),t.onTapShow(e,o)}}},[i("svg-icon",{staticClass:"negative_wrap_btn-icon",attrs:{name:"negative-btn"}})],1)]},proxy:!0},{key:"content",fn:function(){return[i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"negative_wrap_content",on:{click:function(i){return i.stopPropagation(),t.onFeedback(i,e,o)}}},[t._v("\n            "+t._s(e.feedback.title)+"\n          ")])]},proxy:!0}],null,!0)}):t._e()],1),t._v(" "),e.type?i(t.subType[e.type],t._b({tag:"component",staticClass:"recommend-widget-item__content",class:(s={},s["content-"+e.type]=e.type,s)},"component",Object.assign({},t.$props,{item:e,index:o}),!1)):t._e()],1)})),0):t._e()}),[],!1,null,"2edcb049",null).exports);function ge(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function Ie(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ge(Object(i),!0).forEach((function(e){d()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ge(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var xe={props:["block"],data:function(){return{}},computed:{items:function(){return this.block.items}},methods:{onTap:function(t,e){var i={};t.ftsNeedHideKeyBoard&&(i.ftsNeedHideKeyBoard=t.ftsNeedHideKeyBoard),this.M_go(Ie(Ie({},this.item),{},{jumpInfo:Ie({jumpType:m.h.jumpType.VERTICAL,type:t.businessType,newSearchType:m.h.searchType.TAB,isHomePage:1,scene:m.h.scene.VERTICAL},i)}))}}},we=(i(2077),Object(g.a)(xe,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hotsearchivew-entries-wrap"},[i("div",{staticClass:"title"},[t._v("搜索指定内容")]),t._v(" "),t.items.length?i("div",{staticClass:"list"},t._l(t.items,(function(e,o){return i("label",{key:e.hotword,staticClass:"item",attrs:{"data-expose-id":"__vertEntries__$"+e.businessType+"$"+o+"$"+e.hotword,role:"button"},on:{click:function(i){return t.onTap(e,o+1)}}},[t._v("\n      "+t._s(e.hotword)+"\n    ")])})),0):t._e()])}),[],!1,null,"4497ef1a",null).exports),Ce=i(163),Oe={name:"DropShowLogo"},Te=(i(2078),Object(g.a)(Oe,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"drop-show-logo"},[e("ui-image",{attrs:{url:"https://res.wx.qq.com/t/fed_upload/0f3c9bc4-ea5d-47a7-8879-5d958f1cbd65/search.svg",type:"svg",color:"var(--ALPHA-10)",size:40}})],1)}),[],!1,null,"4fd37ad0",null).exports),Ee=i(795),Se=i(4);function je(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function Pe(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?je(Object(i),!0).forEach((function(e){d()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):je(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var De,Ne,Re=i(699),$e={data:function(){var t,e=Ut.a.teachType;return{ComponentMap:(t={},d()(t,e.HOTWORD,"rows"),d()(t,e.GUIDEWORD,"history"),d()(t,e.HISTORY,"history"),d()(t,e.FAVORITE_BIZ,"official"),d()(t,e.CHANNEL,"recommend-channel"),d()(t,e.WORLD_CUP,"recommend-channel"),d()(t,e.NAVIGATION,"recommend-category"),d()(t,e.BIZ,"big-avatar-biz"),d()(t,e.SIMILAR_EMOTICON,"similar-button"),d()(t,e.HISTORY_MP,"history-mp"),d()(t,e.WX_INDEX,"wx-index"),d()(t,e.ACCOUNT_LINE,"account-line"),d()(t,e.ACCOUNT_GRID,"account-grid"),d()(t,e.STRONG_SHOW_GRID,"strong-show-grid"),d()(t,e.WRAP_BOX_GRID,"wrap-box-grid"),d()(t,e.COMPACT_ENTRY,"compact-entry"),d()(t,e.OPTION_LIST,"option-list"),d()(t,e.EMOTICON_BOX,"emoticon-box"),d()(t,e.EMOTICON_GRID,"emoticon-grid"),d()(t,e.HOTWORD_CROSS_LINE,"hotwordCrossLine"),d()(t,e.MOMENT_SPEC_SEARCH,"momentSpecSearch"),d()(t,e.BIZ_WITH_SERVICE,"bizWithService"),d()(t,e.ACTIVITY_ENTRY,"activity-entry"),d()(t,e.VIDEO_SCROLL,"videoScroll"),d()(t,e.LIVE_SUBSCRIBE,"live-subscribe"),d()(t,e.BIZ_WITH_SERVICE_V2,"bizWithServiceV2"),d()(t,e.HISTORY_SUBSCRIPTIONS,"history-subscriptions"),d()(t,e.RECOMMEND_BOX,"recommend-box"),d()(t,e.RECOMMEND_WIDGET,"recommend-widget"),d()(t,e.HOTSEARCHVIEW_ENTRIES,"hotsearchview-entries"),t),teachType:e,isGlobalTabBizScene:h.b.isGlobalTabBizScene,isShowBottom:!1,bottomStyle:{},isSceneRecommend:h.b.scene===m.e.RECOMMEND,teachPart3data:null,BIZ_UNION_TOP_PERMANENT_KEY:"BIZ_UNION_TOP_PERMANENT_KEY",canReport25118:!1}},mixins:[h.l],components:{bigAvatarBiz:O,bizWithServiceV2:Bt,official:tt,rows:Z,history:j,recommendChannel:I,recommendCategory:w,similarButton:q,similarList:Y,historyMp:nt,wxIndex:ot,accountLine:dt,accountGrid:ht,strongShowGrid:bt,wrapBoxGrid:_t,compactEntry:yt,optionList:It,emoticonBox:Ot,emoticonGrid:Et,hotwordCrossLine:jt,momentSpecSearch:Dt,bizWithService:Rt,activityEntry:qt,videoScroll:Ft,liveSubscribe:Jt,recommendWidget:ke,dropShowLogo:Te,historySubscriptions:re,recommendBox:ue,exposureBlock:Ee.a,hotsearchviewEntries:we},computed:Object(N.c)({teachObjList:function(t){if(t.teach.teachData){h.b.scene==m.e.RECOMMEND?this.recommendExpose():this.commonExpose();var e=t.teach.teachData.data,i=e&&e.findIndex((function(t){return t.type==Ut.a.teachType.RECOMMEND_WIDGET}));return i>=0&&(e[i]=Pe(Pe({},e[i]),{},{items:Object.getOwnPropertyNames(e[i]).map((function(t){var o;return Pe(Pe({},e[i][t]),{},{key:t,items:((null===(o=e[i][t])||void 0===o?void 0:o.items)||[]).map((function(t){var e,i;return Pe(Pe({},t),{},{id:(null===(e=t.button)||void 0===e||null===(i=e.jumpInfo)||void 0===i?void 0:i.userName)||t.hotword||t.title||""})}))})})).filter((function(t){return t&&(t.type||t.title)})).sort((function(t,e){return t.pos-e.pos}))})),e}},tips:function(t){var e=+localStorage.getItem("teachTipsShowTime")||0;return+e>2?"":t.teach.teachData&&t.teach.teachData.tips?(localStorage.setItem("teachTipsShowTime","".concat(++e)),t.teach.teachData.tips||""):""},isServiceSearch:function(t){return t.teach.teachData&&t.teach.teachData.businessType===Se.c.YIQING_SERVICE},requestId:function(t){return t.teach.requestId},hasRecommendWidget:function(t){return t.teach.teachData.data.find((function(t){return t.type==Ut.a.teachType.RECOMMEND_WIDGET}))}}),watch:{teachObjList:function(){h.b.scene===m.e.RECOMMEND&&this.handleBottomStyle()},$route:function(t){t.name===m.f.TEACH?(this.reset(),this.tryGetData()):t.name===m.f.INDEX&&this.reset()}},methods:{componentScroll:h.f.throttle((function(){this.expose.analysis()}),100),handleBottomStyle:function(){var t=this;t.isShowBottom=!1,t.$nextTick((function(){var e=window.innerHeight||document.documentElement.clientHeight,i=30;t.$el.offsetHeight+30+30+16<e&&(i=e-t.$el.offsetHeight-46),t.bottomStyle={marginTop:"".concat(i,"px")},t.isShowBottom=!0}))},reset:function(){this.$store.dispatch("teach/updateData",{data:{data:[]}})},handleFromUrlData:function(){var t=this.$router.currentRoute.params.option||{};t.mpData&&(this.teachPart3data=t.mpData)},tapTip:function(){h.e.teach.reportCommonClick({isDelete:3,blockId:"search_teach_tip",blockWord:this.tips});var t=Object.assign({},this.$store.state.teach.teachData);t.tips="",this.$store.commit("teach/updateData",{data:t}),localStorage.setItem("teachTipsShowTime","3")},tryGetData:function(){var t=this;return c()(u.a.mark((function e(){var i,o,a,s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o=(i=t).teachPart3data)){e.next=7;break}o.data&&o.data.length&&-1===o.data.findIndex((function(t){return t.type==Ut.a.teachType.HISTORY}))&&o.data.unshift({deleteWord:"清除历史",title:"搜索历史",type:Ut.a.teachType.HISTORY,items:[]}),i.$store.dispatch("teach/updateData",{data:{data:o.data,searchID:o.id}}),e.next=33;break;case 7:if(h.b.scene!=m.e.BIZ_SPECIFIC){e.next=11;break}i.$store.dispatch("teach/updateData",{data:{data:[{deleteWord:"清除历史",title:"搜索历史",type:Ut.a.teachType.HISTORY,items:[]}],searchID:"bizProfile"}}),e.next=33;break;case 11:if((h.b.scene!==m.e.VERTICAL||"99991"!=h.b.queryString.type)&&h.b.scene!==m.e.GUESS_FIND_ENTRY_SCENE){e.next=18;break}h.b.scene===m.e.VERTICAL&&"99991"==h.b.queryString.type&&h.b.setValue({scene:m.e.GUESS_FIND_ENTRY_SCENE,queryString:Pe(Pe({},h.b.queryString),{},{scene:m.e.GUESS_FIND_ENTRY_SCENE,isHomePage:1}),isHomePage:1}),setTimeout((function(){Ce.a.configNavBar({ftsNeedHideKeyBoard:1})}),500),i.$store.dispatch("teach/updateData",{data:{data:[{type:Ut.a.teachType.HOTSEARCHVIEW_ENTRIES,items:[{businessType:8,hotword:"朋友圈",optype:5,ftsNeedHideKeyBoard:1},{businessType:1,hotword:"公众号",optype:5,ftsNeedHideKeyBoard:1},{businessType:262208,hotword:"小程序",optype:5,ftsNeedHideKeyBoard:1},{businessType:512,hotword:"音乐",optype:5,ftsNeedHideKeyBoard:1},{businessType:384,hotword:"表情",optype:5},{businessType:20971520,hotword:"服务",optype:5}]}],searchID:"hotsearchEntries"}}),e.next=33;break;case 18:if(h.b.scene!=m.e.BIZ_UNION_TOP){e.next=32;break}return e.next=21,h.d.get({key:t.BIZ_UNION_TOP_PERMANENT_KEY});case 21:if(e.t0=e.sent,e.t0){e.next=24;break}e.t0=[];case 24:a=e.t0,s=[Ut.a.teachType.RECOMMEND_BOX],r=a.filter((function(t){return!!s.includes(t.type)&&(t.type!==Ut.a.teachType.RECOMMEND_BOX||Date.now()<t.expiredTimestamp)})),t.canReport25118=!1,i.$store.dispatch("teach/updateData",{data:{data:[].concat(n()(r),[{itemtype:1,parenttype:62,title:"最近在搜",type:Ut.a.teachType.HISTORY_SUBSCRIPTIONS,items:[]}]),searchID:"bizSearch"}}),i.getTeachSearchData(),e.next=33;break;case 32:i.getTeachSearchData();case 33:case"end":return e.stop()}}),e)})))()},_getBizService:function(t){var e=this;if(t){var i=t.data;if(i&&i.length){var o=i.find((function(t){return t.type==Ut.a.teachType.FAVORITE_BIZ})).items||[];if(o.length){var a=o.map((function(t){return t.userName}));h.e.reportEventTrack({requestId:e.requestId,actionType:203}),h.g.getTeach(Pe(Pe({},h.b.getBase()),{},{requestId:e.requestId,ignoreCache:!0,type:h.b.guideType||h.b.type||h.b.getBase().type,guideInfo:JSON.stringify(a)}),{requestId:e.requestId}).then((function(i){h.e.reportEventTrack({requestId:e.requestId,actionType:208}),i.privacySwitch?h.g.log({key:"[获取公众号服务数据]",msg:"关闭了个性化推荐"}):i&&i.data&&i.data.length?e.teachSearchDataReadyCallback(i):(h.g.log({key:"[获取公众号服务数据]",msg:"没有本地数据"}),e.teachSearchDataReadyCallback(t))}))}}}else setTimeout((function(){h.e.reportEventTrack({requestId:e.requestId,actionType:209,query:"local"})}),0)},getTeachSearchData:function(t){var e=this,i=(h.b.scene==m.e.VERTICAL||h.b.scene==m.e.S1S_VERTICAL)&&1==h.b.type;this.$store.commit("teach/getSearchRid");var o=Object.assign(Pe(Pe({},h.b.getBase()),{},{type:h.b.guideType||h.b.type||h.b.getBase().type,ignoreCache:!0,guideInfo:""}),t);i?(h.e.reportEventTrack({requestId:e.requestId,actionType:203,query:"local"}),h.g.getTeach(Object.assign(o,{requestType:Ut.a.requestType.local})).then((function(t){h.e.reportEventTrack({requestId:e.requestId,actionType:208,query:"local"}),e._getBizService(t)}))):(h.e.reportEventTrack({requestId:e.requestId,actionType:203}),h.g.getTeach(Object.assign(o,{requestType:Ut.a.requestType.net,requestId:e.requestId}),{requestId:e.requestId}).then((function(t){h.e.reportEventTrack({requestId:e.requestId,searchId:t&&t.searchID,actionType:208}),e.teachSearchDataReadyCallback(t)}))),clearTimeout(Ne),Ne=setTimeout((function(){Object(T.b)(11,{rate:1}),Object(at.c)(2,"getTeachSearchData:empty-data")}),3e3),Object(T.g)(h.k.overview.general.getData,{rate:.01}),Object(T.g)(h.k.overview.teach.getData,{rate:.01})},teachSearchDataReadyCallback:spy((function(t){var e=this;clearTimeout(Ne),setTimeout((function(){h.e.reportEventTrack({requestId:e.requestId,actionType:209})}),0),h.g.log({msg:"".concat(i),level:"info",key:"teachCallback"});var i=t||{};if(i.isHideKeyboard&&h.b.os.ios&&h.b.clientVersion<806e4&&h.g.openView({actionType:1,opType:2,userName:"",nickName:""}),void 0!==i.preSearchSwitch&&h.b.setValue({preSearchSwitch:i.preSearchSwitch}),void 0!==i.searchID&&h.b.setValue({searchId:i.searchID}),0!=i.businessType){var o=[],a="";if(this.canReport25118=!0,i.data&&i.data.length){if(h.b.scene==m.e.BIZ_UNION_TOP){var s=[Ut.a.teachType.HISTORY_SUBSCRIPTIONS,Ut.a.teachType.RECOMMEND_BOX],r=n()(i.data).filter((function(t){return!!s.includes(t.type)&&(t.type!==Ut.a.teachType.RECOMMEND_BOX||t.lifespan)})).map((function(t){var e=Object.assign({},t);return t.type===Ut.a.teachType.RECOMMEND_BOX&&(e.expiredTimestamp=Date.now()+1e3*t.lifespan),e}));h.d.set({key:this.BIZ_UNION_TOP_PERMANENT_KEY,value:r})}e.$store.dispatch("teach/updateData",{data:i});for(var c=0,l=i.data.length;c<l;c++){var d=i.data[c].type||0;if(o.push(d),a+=c>0?";":"",i.data[c].items)for(var p=0,u=i.data[c].items.length;p<u;p++){var b=i.data[c].items[p];a+=(p>0?"|":"")+"".concat(b.userName||b.id||b.hotword||"").replace(/,/g,"_").replace(/\|/g,"#")}}setTimeout((function(){e.$refs.exposureBlock&&e.$refs.exposureBlock.length&&e.$refs.exposureBlock.forEach((function(t){t&&t.analysisExpose()}))}),10),h.f.reportShowTeachKV({logId:12098,scene:h.b.scene,version:h.b.version,isCacheData:t.isCacheData,searchId:i.searchID,businessType:h.b.type,guideType:o.join(";"),result:a})}}})),tapFeedback:function(){var t="https://support.weixin.qq.com/cgi-bin/mmsupport-bin/readtemplate?t=feedback/index&",e=h.b.queryString,i={deviceName:e.deviceName||"",imei:e.imei||"",deviceBrand:e.deviceBrand||"",deviceModel:e.deviceModel||"",from:"看一看小助手",uin:h.b.sessionId&&h.b.sessionId.split("_")[1],version:e.wechatVersion||"",lang:e.lang||"zh_CN",ostype:e.ostype||"",scene:h.b.scene,timeZone:-(new Date).getTimezoneOffset()/60};t+="".concat(h.f.object2params(i),"#/list/4155"),this.M_startDetail({type:2,jumpUrl:t})},recommendExpose:function(){var t=this;De||(De=new Re.Expose((function(e){if(e.length){var i={blockType:[],cid:[],nid:[]};t.teachObjList.forEach((function(t){var o={cid:[],nid:[]};t.items.forEach((function(a){var s="".concat(a.channelId,"_").concat(a.navigationId||"");-1!==e.indexOf(s)&&(-1==i.blockType.indexOf(t.type)&&i.blockType.push(t.type),o.cid.push(a.channelId||""),o.nid.push(a.navigationId||""))})),o.cid.length&&i.cid.push(o.cid.join("_")),o.nid.length&&i.nid.push(o.nid.join("_"))})),h.e.reportCommonKv(15775,[i.blockType.join(";"),i.cid.join(";"),i.nid.join(";")])}}),{container:document.querySelector(".teach__box")})),t.$nextTick((function(){De.analysis()}))},addFormatDataToReportObj:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t["".concat(e,"Ids")]&&t["".concat(e,"Ids")].push(i.id||""),t["".concat(e,"Words")]&&t["".concat(e,"Words")].push(i.word||""),t["".concat(e,"Indexs")]&&t["".concat(e,"Indexs")].push(i.index||""),t["".concat(e,"Expands")]&&t["".concat(e,"Expands")].push(i.expand||"")},commonExpose:function(){var t=this;this.expose||(this.expose=new Re.Expose((function(e){if(e.length){var i={};t.teachObjList.forEach((function(o,a){o.items&&o.items.length&&o.items.forEach((function(s,n){if(e.indexOf(s.id)>-1){var r=o.id?"id":"type";i[o[r]]||(i[o[r]]={id:o[r],type:o.type,word:o.title||o.header&&o.header.title||"",index:t.getTypePos(a),expand:o.expand||"",items:{}});var c=i[o[r]].items;c[s.id]||(c[s.id]={id:s.id,word:s.title||s.hotword||s.nickName||"",index:n+1,expand:s.expand||"",listItems:{}});var l=c[s.id].listItems,d=s.list||s.listItems||s.service;d&&d.length&&d.forEach((function(t,e){l[t.id]={id:t.id,word:t.title||t.name||"",index:e+1,expand:t.expand||""}}))}o.type==Ut.a.teachType.RECOMMEND_WIDGET&&s.items&&s.items.length&&s.items.forEach((function(r,c){if(e.indexOf(r.id)>-1){var l="".concat(s.key);i[l]||(i[l]={id:l,type:o.type,word:s.title||"",index:t.getTypePos(a)+n,expand:s.expand||"",items:{}});var d=i[l].items;d[r.id]||(d[r.id]={id:r.id,word:r.title||r.hotword||r.nickName||"",index:c+1,expand:r.expand||"",listItems:{}})}}))}))})),e.indexOf("search_teach_tip")>-1&&(i.search_teach_tip={id:"search_teach_tip",index:0,items:{search_teach_tip:{id:"search_teach_tip",word:t.tips,index:0}}}),Object.keys(i).forEach((function(e){var o={oldBlockTypes:[],oldBlockIndexs:[],oldItemIds:[],oldItemWords:[],oldItemIndexs:[],newBlockIds:[],newBlockWords:[],newBlockIndexs:[],newBlockExpands:[],newItemIds:[],newItemWords:[],newItemIndexs:[],newItemExpands:[],newListItemIds:[],newListItemWords:[],newListItemIndexs:[],newListItemExpands:[]},a=i[e],s=[],n=[],r=[];Object.keys(a.items).forEach((function(e){var i=a.items[e];s.push(i.id),n.push(i.word),r.push(i.index),Object.keys(i.listItems).length?Object.keys(i.listItems).forEach((function(e){t.addFormatDataToReportObj(o,"newBlock",a),t.addFormatDataToReportObj(o,"newItem",i),t.addFormatDataToReportObj(o,"newListItem",i.listItems[e])})):(t.addFormatDataToReportObj(o,"newBlock",a),t.addFormatDataToReportObj(o,"newItem",i),t.addFormatDataToReportObj(o,"newListItem",{}))})),o.oldBlockTypes.push(a.type),o.oldBlockIndexs.push(a.index),o.oldItemIds.push(s.join("_")),o.oldItemWords.push(n.join("_")),o.oldItemIndexs.push(r.join("_")),h.e.teach.reportCommonExpose(o)}))}}),{container:document.querySelector(".teach__box")})),t.$nextTick((function(){this.expose.analysis()}))},on25118Expose:function(t){var e=this;try{if(!this.canReport25118)return void(this.$refs.exposureBlock&&this.$refs.exposureBlock.length&&this.$refs.exposureBlock.forEach((function(t){t&&t.resetExposeId()})));var i={},o={requestId:"",itemInfo:"",featureInfos:[]},s=function(t,e){i[t]||(i[t]={itemInfo:t,docInfos:[]}),e&&i[t].docInfos.push(e)},n=function(t,e){t.forEach((function(t){try{if(/^block:/.test(t)){var e=t.split("@"),i=a()(e,1)[0];s(i.match(/^block:(.*)/)[1])}else if(/^item:/.test(t)){var n=t.split("@"),r=a()(n,2),c=r[0],l=r[1];s(l.match(/^block:(.*)/)[1],c.match(/^item:(.*)/)[1])}else if(/^feature:/.test(t)){var d=t.split("@"),p=a()(d,2),u=p[0],h=p[1];o.itemInfo=h.match(/^block:(.*)/)[1],o.featureInfos.push(u.match(/^feature:(.*)/)[1])}}catch(t){}}))},r=t.filter((function(t){return/^his-/.test(t)})).map((function(t){return t.replace(/^his-/,"")})),c=t.filter((function(t){return/^rmd-/.test(t)})).map((function(t){return t.replace(/^rmd-/,"")}));r.length&&(n(r),Object(T.a)(h.k.subscriptions.historyExpose,{rate:1,isSessionOnly:!0})),c.length&&(n(c),Object(T.a)(h.k.subscriptions.recommendExpose,{rate:1,isSessionOnly:!0})),o.itemInfo&&h.e.teach.reportFeatureBtnClick({actionId:1,searchId:h.b.searchId,requestId:this.requestId,itemInfo:o.itemInfo,featureInfo:o.featureInfos.join("#")}),Object.keys(i).forEach((function(t){var o=i[t];h.e.teach.reportCommonNewExpose({searchId:h.b.searchId,requestId:e.requestId,itemInfo:o.itemInfo,docInfo:o.docInfos.join("#")})})),i={}}catch(t){}},getTypePos:function(t){if(this.hasRecommendWidget){var e=this.teachObjList.find((function(t){return t.type==Ut.a.teachType.RECOMMEND_WIDGET})),i=this.teachObjList.indexOf(e);if(e)return t<=i?t+1:e.items.length+t}return t+1}},created:function(){var t=this,e=this;this.expose=null,h.b.type===Se.c.YIQING_SERVICE&&(h.g.preloadWeapp({userName:"gh_8e88e2b28133@app",appId:"wxdb2453762cc14cf3",preloadEnv:!0,fakeNative:!0}),h.b.os.ios&&h.b.clientVersion<806e4&&void 0===h.b.queryString.extParams&&h.g.openView({actionType:1,opType:2,userName:"",nickName:""})),E.a.$on(E.b.RESET_QUERY_STRING,(function(){this.isGlobalTabBizScene=h.b.isGlobalTabBizScene})),E.a.$on(E.b.HIS_MODIFIED,(function(){e.$store.commit("teach/historyModified")})),E.a.$on(E.b.TEACH_EXPOSE,(function(){t.expose.analysis()})),e.handleFromUrlData(),P.b.onCommonCgiReady((function(t){t.cgiName===P.a.delWxIndex&&t.json&&0===t.json.retcode&&t.json.gid&&e.$store.commit("teach/deleteWxIndex",{gid:t.json.gid})})),e.tryGetData(),Object(T.g)(h.k.overview.general.visitTeach,{rate:.05})}},Be=(i(2079),Object(g.a)($e,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"teach__box",class:{"teach_service-search":t.isServiceSearch}},[i("drop-show-logo"),t._v(" "),t.tips?i("div",{staticClass:"teach__tip",attrs:{"data-expose-id":"search_teach_tip"}},[i("div",{staticClass:"teach__tip-text"},[t._v("\n      "+t._s(t.tips)+"\n    ")]),t._v(" "),i("span",{staticClass:"teach__tip-icon",on:{click:t.tapTip}})]):t._e(),t._v(" "),t._l(t.teachObjList,(function(e,o){return i("div",{key:o,class:[t.isSceneRecommend?"teach__recommend":"teach__wrap","teach-"+t.ComponentMap[e.type],t.hasRecommendWidget?"cardStyle":""]},[i("exposureBlock",{ref:"exposureBlock",refInFor:!0,attrs:{attr:"data-report-25118-id"},on:{expose:t.on25118Expose}},[i(t.ComponentMap[e.type],{tag:"components",attrs:{"type-pos":t.getTypePos(o),"real-pos":o+1,"block-list":t.teachObjList,block:e},on:{update:t.getTeachSearchData,handleBottomStyle:t.handleBottomStyle,scroll:t.componentScroll}})],1)],1)})),t._v(" "),t.isShowBottom?i("div",{staticClass:"teach__bottom",style:t.bottomStyle},[i("p",{staticClass:"teach__feedback",on:{click:t.tapFeedback}},[t._v("\n      意见反馈\n    ")])]):t._e(),t._v(" "),i("similar-list")],2)}),[],!1,null,null,null));e.default=Be.exports},753:function(t,e,i){},769:function(t,e,i){"use strict";var o=i(0),a=i(2),s={props:["text","id","expired","relatedId"],data:function(){return{isShow:!1}},computed:{searchId:function(){switch(this.$route.name){case a.f.INDEX:return this.$store.state.index.recommendId;case a.f.TEACH:return this.$store.state.teach.recommendId;case a.f.SUG:return this.$store.state.sug.sugId;default:return o.b.searchId}}},watch:{id:function(){this.detect()},isShow:function(){this.isShow&&this.$emit("expose")}},mounted:function(){this.detect()},methods:{detect:function(){var t="".concat("reddot-badge","-").concat(this.id),e=o.c.getStore(t);if(e){var i=(new Date).getTime()-e.expose;this.isShow=!(this.expired&&i>1e3*this.expired)}else this.expired&&o.c.store(t,{expose:(new Date).getTime()}),this.isShow=!0;this.isShow&&o.e.reddotBadge.reportExpose({reddotId:this.id,reddotText:this.text,reddotExpired:this.expired,searchId:this.searchId,relatedId:this.relatedId})},hide:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};setTimeout((function(){t.isShow=!1}),e.delay||0)},onClick:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.hide(t),o.e.reddotBadge.reportClick({reddotId:this.id,reddotText:this.text,reddotExpired:this.expired,searchId:this.searchId,relatedId:this.relatedId})}}},n=(i(791),i(32)),r=Object(n.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return this.isShow?e("div",{staticClass:"weui-badge reddot-badge",class:{"weui-badge_dot":!this.text},attrs:{"aria-hidden":"true"}},[this._v(this._s(this.text))]):this._e()}),[],!1,null,"440ddec4",null);e.a=r.exports},791:function(t,e,i){"use strict";i(753)}}]);