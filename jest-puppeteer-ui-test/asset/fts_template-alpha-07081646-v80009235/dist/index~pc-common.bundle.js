(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1352:function(t,e,n){},1353:function(t,e,n){},1354:function(t,e,n){},1355:function(t,e,n){},1356:function(t,e,n){},1357:function(t,e,n){},1358:function(t,e,n){},1359:function(t,e,n){},1360:function(t,e,n){},1361:function(t,e,n){},1362:function(t,e,n){},1363:function(t,e,n){},1364:function(t,e,n){},1365:function(t,e,n){},1366:function(t,e,n){},1367:function(t,e,n){},1368:function(t,e,n){},1369:function(t,e,n){},1370:function(t,e,n){},1435:function(t,e,n){"use strict";var i=n(200),r=n.n(i),s=n(1),o=n.n(s),a=n(0),c=n(22),u=n(16),d=n(699),l=n(34),p=n(2),h=n(62),f=n(794);function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var v={props:{items:{type:Array,default:function(){return[]}}},data:function(){return{SearchInputId:f.SearchInputId,sliderStyle:{},activeIndex:-1,isFirstEnter:!0}},watch:{activeIndex:{handler:function(t){var e=this;t>-1&&setTimeout((function(){e.handleSlider(t),e.isFirstEnter=!1,a.a.$emit(a.i.VERT_CHANGE,e.items[t])}))},immediate:!0},items:{handler:function(t){if(t&&t.length&&-1===this.activeIndex){var e=t.findIndex((function(t){return t.businessType==a.b.type}));e>=0&&this.activeIndex!==e?this.activeIndex=e:this.activeIndex=0}},immediate:!0}},created:function(){var t=this;a.b.os.pc&&a.a.$on(a.i.goToPageIndex,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.reset&&!e.isBackButtonClick?0:t.activeIndex;if(void 0!==e.type){var i=t.items.findIndex((function(t){return t.businessType==e.type}));i>=0&&(n=i)}var r=t.items[n]||{};t.activeIndex=n,t.$store.commit("index/updateVertSelected",n),t.$emit("tap",y(y({},r),{},{type:r.businessType||0}))}))},methods:{onTap:function(t,e){var n=y(y({},t),{},{type:t.businessType,focusSearchBar:!0}),i={animation:!0,skipCommonReport:a.b.os.mobile,customReport:[{logid:15521,log_buffer:[+a.b.scene,"",+Date.now(),+t.businessType].join(",")},{logid:21441,log_buffer:["",a.b.sessionId||"",3,t.businessType,e,t.hotword].join(",")}]};a.b.os.mobile?(this.$emit("tap",n,i),a.e.reportEventTrack({actionType:1001,scene:p.e.S1S_VERTICAL,type:t.businessType})):this.activeIndex!==e-1&&(this.activeIndex=e-1,this.$store.commit("index/updateVertSelected",this.activeIndex),this.$emit("tap",n,i))},handleSlider:function(t){if(this.$refs.entries){var e=this.$refs.entries.querySelectorAll(".item")[t];this.sliderStyle={width:"".concat(e.offsetWidth,"px"),transform:"translateX(".concat(e.offsetLeft,"px)"),transition:this.isFirstEnter?"":"transform 0.3s ease"}}},setInputActive:function(t){a.a.$emit(a.i.SEARCH_BAR_ACTIVE,t)}}},g=(n(2019),n(32)),_=Object(g.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.items.length?n("div",{ref:"entries",staticClass:"list"},[t._l(t.items,(function(e,i){return n("label",{key:e.hotword,staticClass:"item",class:{selected:t.activeIndex===i},attrs:{"data-expose-id":"__vertEntries__$"+e.businessType+"$"+i+"$"+e.hotword,role:"button",for:t.SearchInputId},on:{click:function(n){return t.onTap(e,i+1)},mousedown:function(e){return e.stopPropagation(),t.setInputActive(!0)},mouseup:function(e){return e.stopPropagation(),t.setInputActive(!1)}}},[t._v("\n    "+t._s(e.hotword)+"\n  ")])})),t._v(" "),t.os.pc?n("span",{staticClass:"slider",style:t.sliderStyle}):t._e(),t._v(" "),t._l([0,1,2],(function(t){return n("div",{key:"occupied_"+t,staticClass:"item_occupied",attrs:{"aria-hidden":"true"}})}))],2):t._e()}),[],!1,null,"36308271",null).exports,b=n(702);function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var w={components:{tags:b.a},props:{type:{type:Number,default:0},realType:{type:Number,default:0},title:{type:String,default:""},scene:{type:Number,default:0},parentType:{type:Number,default:0},iconUrl:{type:String,default:""},items:{type:Array,default:function(){return[]}},config:{type:Object,default:null},headJumpUrl:{type:Object,default:null},tags:{type:Array,default:function(){return[]}},moreText:{type:String,default:""},typePos:{type:Number,default:0},tailSplitLine:{type:Boolean,default:!0},bdExpandStyle:{type:String,default:""},boxTitleStyle:{type:String,default:""}},data:function(){return{collapsed:!0,EVENT_TYPE:{NORMAL:0,COLLAPSE:1}}},computed:{needExpand:function(){return this.config&&this.config.foldPos>0&&this.config.foldPos<this.items.length},visibleItems:function(){return this.needExpand&&this.collapsed?this.items.slice(0,this.config.foldPos):this.items}},methods:{onTap:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(t===this.EVENT_TYPE.COLLAPSE)return this.collapsed=!this.collapsed,void this.$emit("tap",{realType:this.realType,itemPos:0,hotword:this.collapsed?"收起":"更多"},{skipOpt:!0,triggerExpose:!0});this.headJumpUrl&&this.headJumpUrl.optype&&this.$emit("tap",x(x({},this.headJumpUrl),{},{realType:this.realType,itemPos:0}))}}},O=(n(2020),Object(g.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box"},[n("div",{staticClass:"box__hd",class:t.headJumpUrl&&t.headJumpUrl.optype?"more":"",on:{click:t.onTap}},[n("div",{staticClass:"box__hdl",attrs:{role:"option"}},[t.iconUrl?n("online-image",{staticClass:"box__icon",attrs:{url:t.iconUrl}}):t._e(),t._v(" "),n("span",{class:{box__title:!0},style:t.boxTitleStyle},[t._v("\n        "+t._s(t.title)+"\n      ")]),t._v(" "),n("tags",{staticClass:"box__tag",attrs:{tags:t.tags}})],1),t._v(" "),t.headJumpUrl&&t.headJumpUrl.optype?n("div",{staticClass:"box__hdr",attrs:{role:"option"}},[n("div",{attrs:{"data-expose-id":t.realType+"#-1"}},[t._v("\n        "+t._s(t.moreText)+"\n      ")]),t._v(" "),n("svg-icon",{staticClass:"box__arrow",staticStyle:{"margin-left":"4px"},attrs:{name:"arrow"}})],1):t.needExpand?n("div",{staticClass:"box__hdr"},[n("div",{staticClass:"box__dropdown",attrs:{"data-expose-id":t.realType+"#-1",role:"button"},on:{click:function(e){return t.onTap(t.EVENT_TYPE.COLLAPSE)}}},[t._v("\n        "+t._s(t.collapsed?"更多":"收起")+"\n        "),n("svg-icon",{staticClass:"box__arrow",class:t.collapsed?"box__arrow-down":"box__arrow-up",staticStyle:{"margin-left":"8px"},attrs:{name:"arrow"}})],1)]):t._e()]),t._v(" "),n("div",{staticClass:"box__bd",style:t.bdExpandStyle},[t._t("default",null,{items:t.visibleItems,realType:t.realType,title:t.title,scene:t.scene,parentType:t.parentType})],2)])}),[],!1,null,"add30910",null).exports),S=n(95),T=n(15),C=n(108),E=n(7),k={name:"HotwordBox",props:{title:String,items:{type:Array,default:function(){return[]}},cols:{type:Number,default:2}},computed:{group:function(){var t=this.cols,e=this.items,n=e.length,i=[];return n&&function(){for(var r=0,s=0,a=0;a<t;a++){var c=Math.ceil((n-r)/(t-a)),u=e.slice(r,r+c).map((function(t){return Object.assign(o()({},"__index",s++),t)}));i.push(u),r+=c}}(),i}}},j=(n(2021),Object(g.a)(k,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hotword-box"},[n("div",{staticClass:"hotword-box__hd"},[n("span",{staticClass:"hotword-box__title"},[t._v("\n      "+t._s(t.title)+"\n    ")]),t._v(" "),t._t("update-text")],2),t._v(" "),n("div",{staticClass:"hotword-box__bd"},t._l(t.group,(function(e,i){return n("ol",{key:"hotword-group-"+i},t._l(e,(function(e){return n("li",{key:e.hotword+e.__index},[t._t("default",null,{item:e,index:e.__index})],2)})),0)})),0)])}),[],!1,null,"5a97d1b0",null).exports),P={components:{HotwordBox:j,tags:b.a},mixins:[C.a,a.l],props:{type:{type:Number,default:0},title:{type:String,default:""},items:{type:Array,default:function(){return[]}},typePos:{type:Number,default:0},realType:{type:Number,default:0}},computed:{localStorage:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){var t={};try{t=JSON.parse(localStorage.getItem("redPots")||"{}")}catch(t){}return t.redPots||(t.redPots=[]),t}))},methods:{tap:function(t){var e=this;a.b.setValue({searchId:""});var n=t.currentTarget,i=+T.a.attr(n,"data-index"),r=this.items[i];r.opType=r.optype||r.opType||p.c.search,n.className=n.className.replace("hotword-box__red-dot","");var s=this.items[i].redDotId;s&&-1===this.localStorage.redPots.indexOf(s)&&(this.localStorage.redPots.push(s),localStorage.setItem("redPots",JSON.stringify(this.localStorage)));var o=e.M_composeParentSid({t:p.n.INDEX_HOT_WORD,s:e.$store.state.index.recommendId,did:e.items[i].id,rid:e.$store.state.index.requestId});r.opType==p.c.search?(e.M_checkSpecialSearchBeforeLaunchNewSearch({query:r.hotword,callback:function(){E.a.$emit(E.b.GOTO,{page:p.f.RESULT,query:r.hotword||"",action:p.m.HOT_WORD,searchId:"",extReqParams:{key:"parentSearchID",textValue:o}})},extParams:{crossExtReqParams:[{key:"parentSearchID",textValue:o}]}}),T.a.reportRealTime({scene:a.b.scene,recommendId:this.$store.state.index.recommendId,businessType:this.type,docId:this.items[i].id,docPos:i+1,typePos:this.typePos,isHomePage:0}),Object(c.f)(S.a.feature.indexHotWord)):r.opType==p.c.weapp?e.M_go(r):e.M_startDetail(r)},checkRedPot:function(t){return!!t&&!this.localStorage.redPots.some((function(e){return e===t}))}}},D=(n(2022),Object(g.a)(P,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("hotword-box",{attrs:{title:t.title,items:t.items},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.item,r=e.index;return[n("div",{staticClass:"hotword-box__wrap",class:{"hotword-box__red-dot":t.checkRedPot(i.redDotId)},attrs:{"data-index":r,"data-expose-id":"__hotword__#"+t.realType+"#"+r+"#"+i.hotword},on:{click:t.tap}},[n("h4",[n("span",{class:["hotword-box__rank","hotword-box__rank_"+r]},[t._v("\n          "+t._s(r+1)+"\n        ")]),t._v(" "),n("span",{staticClass:"hotword-box__word",attrs:{title:i.hotword}},[t._v("\n          "+t._s(i.hotword)+"\n        ")]),t._v(" "),n("tags",{attrs:{tags:i.tags}})],1)]),t._v(" "),n("div",{staticClass:"hotword-box__desc"},[t._v("\n      "+t._s(i.desc)+"\n    ")])]}}])})}),[],!1,null,"7795072a",null).exports),N=n(4),$={components:{HotwordBox:j,tags:b.a},mixins:[a.j,a.l],props:{block:{type:Object,default:function(){return{}}},type:{type:Number,default:0},title:{type:String,default:""},items:{type:Array,default:function(){return[]}},typePos:{type:Number,default:0},realType:{type:Number,default:0}},data:function(){return{cols:this.updateCols(a.b.type)}},created:function(){a.a.$on(a.i.HOTWORD_ANIMATION_DONE,this.updateCols)},methods:{updateCols:function(t){return this.cols=t===N.c.ARTICLE_INFO?2:3,this.cols},onTap:function(t,e){var n=this;a.f.fastClickCheck((function(){var i=n;if(t.opType=t.optype||t.opType,a.e.teach.reportCommonClick({blockType:n.block.type,blockId:n.block.id,blockWord:n.block.title,blockExpand:n.block.expand,blockIndex:n.typePos,itemId:t.id,itemWord:t.hotword,itemExpand:t.expand,itemIndex:e+1}),t.opType==p.c.search){var r=i.M_composeParentSid({t:p.n.HOT_WORD,s:i.$store.state.teach.recommendId,did:t.id||t.hotword,rid:i.$store.state.index.requestId});a.b.type===N.c.YIQING_SERVICE?i.M_openSearchWebView({actionType:3,jumpUrl:"",type:a.b.type,subType:a.b.subType,query:t.hotword,extParams:encodeURIComponent(JSON.stringify({isHomePage:0,crossExtReqParams:[{key:"parentSearchID",textValue:r}]}))}):i.M_checkSpecialSearchBeforeLaunchNewSearch({query:t.hotword,callback:function(){a.a.$emit(a.i.GOTO,{page:p.f.RESULT,query:t.hotword,action:h.b.HOTWORD,searchId:"",extReqParams:{key:"parentSearchID",textValue:r}})},extParams:{crossExtReqParams:[{key:"parentSearchID",textValue:r}]}})}else i.M_go(t);Object(c.f)(a.k.feature.teachHot)}),2e3)}}},R=(n(2023),Object(g.a)($,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("hotword-box",{attrs:{title:t.title,items:t.items,cols:t.cols},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.item,r=e.index;return[n("div",{key:i.hotword+r,staticClass:"hotword-box__wrap",attrs:{"data-hotword":i.hotword,"data-index":r,"data-expose-id":"__recommend__#"+i.id}},[n("span",{staticClass:"hotword",attrs:{title:i.hotword},on:{click:function(e){return t.onTap(i,r)}}},[t._v("\n        "+t._s(i.hotword)+"\n      ")]),t._v(" "),i.tags?n("tags",{attrs:{tags:i.tags},on:{click:function(e){return t.onTap(i,r)}}}):t._e()],1)]}}])})}),[],!1,null,"6cad88cc",null).exports),q=n(49),A=n.n(q),H=n(30),L=n.n(H),U=n(13);function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function W(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var F=!1,V={mixins:[a.l],props:{type:{type:Number,default:0},realType:{type:Number,default:0},items:{type:Array,default:function(){return[]}},typePos:{type:Number,default:0}},data:function(){return{show:!0}},watch:{items:{handler:function(t){var e=this;return A()(L.a.mark((function n(){return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t||!t[0]){n.next=4;break}return n.next=3,e.detectRedDot(t[0]);case 3:e.show=n.sent;case 4:case"end":return n.stop()}}),n)})))()},deep:!0,immediate:!0}},created:function(){if(!F){var t=this.items[0];if(!t)return;U.b.preloadWeapp({userName:t.userName,appId:t.appId,preloadEnv:!0,fakeNative:!0}),F=!0}a.a.$on(a.i.INDEX_COMP_EXPOSE,this.onExpose)},methods:{tapGoodThing:function(t,e){var n=this;return A()(L.a.mark((function i(){var r,s;return L.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r=n,i.next=3,a.d.get({key:"goodTingRedDot"});case 3:s=!i.sent,"[object Array]"!==Object.prototype.toString.apply(s)&&(s=[]),e.currentTarget,setTimeout((function(){n.show=!1}),500),t.redDotId&&(s.push(t.redDotId),a.d.set({key:"goodTingRedDot",value:s})),r.M_clickReport({businessType:r.type,docId:t.id,expand:"好物圈点击",recommendId:r.$store.state.index.data.searchID}),a.e.teach.reportCommonNewClick({requestId:r.$store.state.index.requestId,searchId:r.$store.state.index.data.searchID,itemInfo:"".concat(r.typePos,"_4_").concat(t.hotword||t.title)}),n.$emit("tap",W(W({},t),{},{docId:t.tabID||"好物圈",optype:t.optype||p.c.weapp,realType:r.realType,itemPos:1}),{recordToRecentUsedWeApp:!1});case 11:case"end":return i.stop()}}),i)})))()},detectRedDot:function(t){return A()(L.a.mark((function e(){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.redDotId){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,a.d.get({key:"goodTingRedDot"});case 4:if((n=e.sent)&&n.length){e.next=7;break}return e.abrupt("return",!0);case 7:if(-1===n.indexOf(t.redDotId)){e.next=9;break}return e.abrupt("return",!1);case 9:return e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e)})))()},onExpose:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.$el.querySelectorAll(".index__good-thing-info").forEach((function(n,i){var r=t.items[i];e.includes(n.dataset.exposeId)&&r&&a.e.teach.reportCommonNewExpose({requestId:t.$store.state.index.requestId,searchId:t.$store.state.index.data.searchID,itemInfo:"".concat(t.typePos,"_4_").concat(r.hotword||r.title)})}))}}},M=(n(2024),Object(g.a)(V,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"index__good-thing"},t._l(t.items,(function(e,i){return n("div",{directives:[{name:"active",rawName:"v-active"}],key:t.realType+"#"+i,staticClass:"index__good-thing-info active__item",attrs:{"data-expose-id":t.realType+"#"+i+"##"+(e.id||""),role:"button"},on:{click:function(n){return t.tapGoodThing(e,n)}}},[n("div",{directives:[{name:"image",rawName:"v-image:avatar",value:e.iconUrl,expression:"item.iconUrl",arg:"avatar"}],staticClass:"index__good-thing-icon"}),t._v(" "),n("div",{staticClass:"index__good-thing-title"},[n("span",[t._v(t._s(e.hotword||e.title))])])])})),0)}),[],!1,null,"40a2d555",null).exports),J={components:{tags:b.a},props:{items:{type:Array,default:function(){return[]}},realType:{type:Number,default:0},multiCols:{type:Number,default:1},splitLine:{type:Boolean,default:!1},showIndex:{type:Boolean,default:!0}},computed:{colsStyle:function(){return"width: ".concat({1:"100%",2:"50%",3:"33.3%",4:"25%",5:"20%"}[this.multiCols]||"100%",";")}}},G=(n(2025),Object(g.a)(J,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},t._l(t.items,(function(e,i){return n("div",{key:t.realType+"#"+i,class:{item:!0,item_splited:t.splitLine},style:t.colsStyle,attrs:{"data-expose-id":t.realType+"#"+i,role:"button"},on:{click:function(n){return t.$emit("tap",Object.assign({},e,{realType:t.realType,itemPos:i+1}))}}},[t.showIndex?n("div",{staticClass:"item__index",attrs:{"aria-hidden":"true"}},[t._v("\n      "+t._s(i+1)+"\n    ")]):t._e(),t._v(" "),n("div",{staticClass:"item__bd"},[n("div",{staticClass:"item__row"},[n("div",{staticClass:"item__rowl"},[n("div",{staticClass:"item__hotword"},[t._v("\n            "+t._s(e.hotword)+"\n          ")]),t._v(" "),n("tags",{staticClass:"item__tags",attrs:{tags:e.tags,"aria-hidden":"true"}})],1),t._v(" "),e.hotWording&&e.hotWording[0]?n("div",{staticClass:"item__hotWording"},[t._v("\n          "+t._s(e.hotWording&&e.hotWording[0])+"\n        ")]):t._e()]),t._v(" "),e.desc?n("div",{staticClass:"item__desc"},[t._v("\n        "+t._s(e.desc)+"\n      ")]):t._e()])])})),0)}),[],!1,null,"090e4bd6",null).exports),z={props:{items:{type:Array,default:function(){return[]}},realType:{type:Number,default:0}}},X=(n(2026),Object(g.a)(z,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},t._l(t.items,(function(e,i){return n("div",{key:t.realType+"#"+i,staticClass:"item",attrs:{"data-expose-id":t.realType+"#"+i,role:"button"},on:{click:function(n){return t.$emit("tap",Object.assign({},e,{realType:t.realType,itemPos:i+1}))}}},[n("div",{staticClass:"item__index",attrs:{"aria-hidden":"true"}},[t._v("\n      "+t._s(i+1)+"\n    ")]),t._v(" "),n("div",{class:{item__bd:!0,"item__bd_no-desc":!e.desc,item__bd_desc:!!e.desc}},[n("div",{staticClass:"item__hotword"},[t._v("\n        "+t._s(e.hotword)+"\n      ")]),t._v(" "),e.desc?n("div",{staticClass:"item__desc"},[t._v("\n        "+t._s(e.desc)+"\n      ")]):t._e(),t._v(" "),n("div",{staticClass:"item__hotWording"},[t._v("\n        "+t._s(e.hotWording&&e.hotWording[0]||"")+"\n      ")])]),t._v(" "),e.picUrl?n("online-image",{staticClass:"item__pic",attrs:{url:e.picUrl}}):t._e()],1)})),0)}),[],!1,null,"e883589a",null).exports),K={filters:{formatDuration:function(t){if(!t)return"";var e=Math.floor(t/60),n=t%60,i=function(t){return t<10?"0".concat(t):"".concat(t)};return"".concat(i(e),":").concat(i(n))}},props:{items:{type:Array,default:function(){return[]}},realType:{type:Number,default:0}}},Y=(n(2027),Object(g.a)(K,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},t._l(t.items,(function(e,i){return n("div",{key:t.realType+"#"+i,staticClass:"item",attrs:{"data-expose-id":t.realType+"#"+i,role:"button"},on:{click:function(n){return t.$emit("tap",Object.assign({},e,{realType:t.realType,itemPos:i+1}))}}},[n("div",{staticClass:"item__index",attrs:{"aria-hidden":"true"}},[t._v("\n      "+t._s(i+1)+"\n    ")]),t._v(" "),n("div",{staticClass:"item__bd"},[n("div",{staticClass:"item__hotword"},[t._v("\n        "+t._s(e.hotword)+"\n      ")]),t._v(" "),n("div",{staticClass:"item__hotWording"},[t._v("\n        "+t._s(e.hotWording&&e.hotWording[0]||"")+"\n      ")])]),t._v(" "),n("div",{staticClass:"item__pic",attrs:{"aria-hidden":"true"}},[n("online-image",{staticStyle:{width:"100%",height:"100%"},attrs:{url:e.picUrl,mode:"plain"}}),t._v(" "),n("svg-icon",{staticClass:"item__play-icon",attrs:{name:"video_play_circle"}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.duration,expression:"item.duration"}],staticClass:"item__meta"},[t._v("\n        "+t._s(t._f("formatDuration")(e.duration))+"\n      ")])],1)])})),0)}),[],!1,null,"9e60eeb8",null).exports),Q={filters:{formatDuration:function(t){if(!t)return"";var e=Math.floor(t/60),n=t%60,i=function(t){return t<10?"0".concat(t):"".concat(t)};return"".concat(i(e),":").concat(i(n))}},props:{items:{type:Array,default:function(){return[]}},realType:{type:Number,default:0}}},Z=(n(2028),Object(g.a)(Q,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},t._l(t.items,(function(e,i){return n("div",{key:t.realType+"#"+i,staticClass:"item",attrs:{"data-expose-id":t.realType+"#"+i,role:"button"},on:{click:function(n){return t.$emit("tap",Object.assign({},e,{realType:t.realType,itemPos:i+1}))}}},[n("div",{staticClass:"item__pic",attrs:{"aria-hidden":"true"}},[n("online-image",{staticStyle:{width:"100%",height:"100%"},attrs:{url:e.picUrl,mode:"plain"}}),t._v(" "),n("svg-icon",{staticClass:"item__play-icon",attrs:{name:"video_play_circle"}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.duration,expression:"item.duration"}],staticClass:"item__meta"},[t._v("\n        "+t._s(t._f("formatDuration")(e.duration))+"\n      ")])],1),t._v(" "),n("div",{staticClass:"item__hotword"},[t._v("\n      "+t._s(e.hotword)+"\n    ")]),t._v(" "),n("div",{staticClass:"item__desc"},[t._v("\n      "+t._s(e.desc||e.hotWording&&e.hotWording[0]||"")+"\n    ")])])})),0)}),[],!1,null,"03696d94",null).exports),tt={props:{items:{type:Array,default:function(){return[]}},realType:{type:Number,default:0}}},et=(n(2029),Object(g.a)(tt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},t._l(t.items,(function(e,i){return n("div",{key:t.realType+"#"+i,staticClass:"item",attrs:{"data-expose-id":t.realType+"#"+i,role:"option"},on:{click:function(n){return t.$emit("tap",Object.assign({},e,{realType:t.realType,itemPos:i+1,needRecord:1}))}}},[n("online-image",{staticClass:"item__pic",attrs:{url:e.picUrl}}),t._v(" "),n("div",{staticClass:"item__hotword"},[t._v("\n      "+t._s(e.hotword)+"\n    ")])],1)})),0)}),[],!1,null,"37e08be8",null).exports);function nt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function it(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nt(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var rt=!1,st={mixins:[a.l],props:{type:{type:Number,default:0},realType:{type:Number,default:0},items:{type:Array,default:function(){return[]}},typePos:{type:Number,default:0}},created:function(){if(!rt){var t=this.items[0];if(!t)return;U.b.preloadWeapp({userName:t.userName,appId:t.appId,preloadEnv:!0,fakeNative:!0}),rt=!0}},methods:{tapGoodThing:function(t,e){var n=a.c.getStore("goodTingRedDot");"[object Array]"!==Object.prototype.toString.apply(n)&&(n=[]);var i=e.currentTarget;setTimeout((function(){var t=i.querySelector(".reddot");t&&(t.style.display="none")}),500),t.redDotId&&(n.push(t.redDotId),a.c.store("goodTingRedDot",n)),this.M_clickReport({businessType:this.type,docId:t.id,expand:"好物圈点击",recommendId:this.$store.state.index.data.searchID}),this.$emit("tap",it(it({},t),{},{docId:t.tabID||"好物圈",optype:t.optype||p.c.weapp,realType:this.realType,itemPos:1}),{recordToRecentUsedWeApp:!1})},detectRedDot:function(t){if(!t.redDotId)return!1;var e=a.c.getStore("goodTingRedDot");return!e||!e.length||-1===e.indexOf(t.redDotId)}}},ot=(n(2030),Object(g.a)(st,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.items,(function(e,i){return n("div",{key:t.realType+"#"+i,staticClass:"box",attrs:{"data-expose-id":t.realType+"#"+i+"##"+(e.id||""),role:"button"},on:{click:function(n){return t.tapGoodThing(e,n)}}},[n("div",{directives:[{name:"image",rawName:"v-image:plain",value:e.iconUrl,expression:"item.iconUrl",arg:"plain"}],staticClass:"icon"}),t._v(" "),n("div",{staticClass:"info"},[n("div",{staticClass:"title"},[t._v("\n        "+t._s(e.hotword||e.title)+"\n        "),t.detectRedDot(e)?n("div",{staticClass:"reddot",class:1===e.redDotType?"reddot_newtag":"reddot_normal"}):t._e()]),t._v(" "),e.desc?n("div",{staticClass:"desc"},[t._v("\n        "+t._s(e.desc)+"\n      ")]):t._e()]),t._v(" "),n("svg-icon",{staticClass:"box-arrow",attrs:{name:"arrow"}})],1)})),0)}),[],!1,null,"2408042a",null).exports),at=n(769);function ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ut(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var dt=!1,lt={components:{reddotBadge:at.a},mixins:[a.l],props:["items","type","realType"],mounted:function(){this.reddotExposeTimeout=null,this.reddotExposeList=[]},created:function(){dt||(U.b.preloadWeapp({userName:"wxdb2453762cc14cf3",appId:"gh_8e88e2b28133@app",preloadEnv:!0,fakeNative:!0}),dt=!0)},methods:{tapService:function(t,e,n){if(t&&t.jumpInfo){var i=n.serviceEntry.id||"",r=n.serviceEntry.title||"",s={};if(t.redDotInfo){var o=this.$refs["reddot-".concat(t.id)],a=o&&o[0]||{};a.isShow&&(a.onClick({delay:500}),s={if_reddot:1,reddot_key:t.redDotInfo.key||"",reddot_content:t.redDotInfo.text||""},U.b.commonCgi({cgiName:l.a.serviceBoxReportRedDot,data:{cmd:"ReportRedDot",list:[{key:t.redDotInfo.key||"",type:1,action:2}]}}))}this.$emit("tap",ut(ut({},t),{},{docId:this.tabID,optype:p.c.weapp,realType:this.realType,itemPos:1}),{recordToRecentUsedWeApp:!1,skipCommonReport:!0,customReport:[{logid:20940,log_buffer:this.getReportItem(t,e+1,i,1,r,s)}]})}},onReddotExpose:function(t){var e=this;clearTimeout(this.reddotExposeTimeout),this.reddotExposeList.push({key:t.redDotInfo.key,type:1,action:1}),this.reddotExposeTimeout=setTimeout((function(){e.reddotExposeList&&e.reddotExposeList.length&&U.b.commonCgi({cgiName:l.a.serviceBoxReportRedDot,data:{cmd:"ReportRedDot",list:e.reddotExposeList}})}),100)},tapNotification:function(t,e,n){if(t&&t.jumpInfo){var i=n.notification.id||"",r=t.title||"",s=ut(ut({},t),{},{id:t.id,title:t.desc});this.$emit("tap",ut(ut({},t),{},{docId:this.tabID||"常用服务",optype:p.c.weapp,realType:this.realType,itemPos:1}),{recordToRecentUsedWeApp:!1,skipCommonReport:!0,customReport:[{logid:20940,log_buffer:this.getReportItem(s,e+1,i,2,r)}]})}},getServExposeId:function(t,e,n){return t&&n?"".concat(this.realType,"-").concat(n.serviceEntry.id||"","-0-").concat(t.id,"-").concat(e+1,"-").concat(t.redDotInfo?"".concat(t.redDotInfo.key,"-").concat(t.redDotInfo.text):""):""},getReportItem:function(t,e,n,i,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(!t)return"";var o=this,c={page_id:"6780749134400913529",boxid:n,box_name:r,box_index:i,item_index:e,item_name:t.title||"",item_id:t.id||"",item_ext:s,appid:t.jumpInfo&&t.jumpInfo.weappAppid||"",username:t.jumpInfo&&t.jumpInfo.userName||"",url:t.jumpInfo&&t.jumpInfo.jumpUrl||t.jumpInfo.weappUrl||"",type:2e4,report_query:{businesstype:a.b.type,search_scene:a.b.scene,search_id:o.$store.state.index.recommendId}};return this.genKVLogString({DeviceModel:"unknown",DeviceBrand:"unknown",OsName:"unknown",OsVersion:"-1",LanguageVersion:"zh_CN",StartTime:Date.now(),EndTime:Date.now(),Count:1,ClientIPV6:"unknown",appId:"",pageName:"unknown",scene:a.b.scene,sessionId:o.$store.state.index.recommendId,appVersion:"-1",actionLog:encodeURIComponent(JSON.stringify([c]))})},genKVLogString:function(t){var e="";return Object.keys(t).forEach((function(n){0!==e.length&&(e+=","),e+=t[n]})),e}}},pt=(n(2031),Object(g.a)(lt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.items.length?n("div",{staticClass:"list"},t._l(t.items,(function(e,i){return n("div",{key:i,staticClass:"item"},[e.serviceEntry?n("div",{staticClass:"service"},[n("div",{staticClass:"service_title"},[t._v(t._s(e.serviceEntry.title))]),t._v(" "),e.serviceEntry.list&&e.serviceEntry.list.length?n("div",{staticClass:"service_box"},t._l(e.serviceEntry.list,(function(i,r){return n("div",{key:i.id,staticClass:"service_box_item",attrs:{"data-expose-id":t.realType+"#"+r+"##"+t.getServExposeId(i,r,e),role:"button"},on:{click:function(n){return t.tapService(i,r,e)}}},[n("div",{staticClass:"service_box_item-inner"},[n("div",{staticClass:"icon_box"},[n("ui-image",{staticClass:"icon",attrs:{size:32,url:i.iconUrl}}),t._v(" "),i.redDotInfo?n("reddot-badge",{ref:"reddot-"+i.id,refInFor:!0,staticClass:"reddot-badge",attrs:{id:i.redDotInfo.key,text:i.redDotInfo.text,"related-id":i.id},on:{expose:function(e){return t.onReddotExpose(i)}}}):t._e()],1),t._v(" "),i.title?n("div",{staticClass:"title",domProps:{innerHTML:t._s(t.xss(i.title))}}):t._e(),t._v(" "),i.desc?n("div",{staticClass:"desc",domProps:{innerHTML:t._s(t.xss(i.desc))}}):t._e()])])})),0):t._e()]):t._e(),t._v(" "),e.notification&&e.notification.list&&e.notification.list.length?n("div",{staticClass:"notification"},t._l(e.notification.list,(function(i,r){return n("div",{key:i.id,staticClass:"notification_item",attrs:{"data-expose-id":t.realType+"#"+(1e4+r)+"##"+t.realType+"-"+(e.notification.id||"")+"-1-"+i.id+"-"+r,role:"button"},on:{click:function(n){return t.tapNotification(i,r,e)}}},[n("div",{staticClass:"notification_inner"},[n("div",{staticClass:"notification_item_title"},[t._v(t._s(i.title))]),t._v(" "),n("div",{staticClass:"notification_item_desc"},[t._v(t._s(i.desc))]),t._v(" "),n("div",{staticClass:"notification_item_sub"},[t._v(t._s(i.sub))]),t._v(" "),n("svg-icon",{staticClass:"notification_item_arrow",attrs:{name:"arrow"}})],1)])})),0):t._e()])})),0):t._e()}),[],!1,null,"66687738",null).exports),ht=n(796);function ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function mt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var yt={components:{},props:{tag:{type:Object,default:function(){return{}}}},methods:{pickIconStyle:function(t){var e={backgroundColor:t.color};return a.f.isDarkMode()&&t.darkColor&&(e.backgroundColor=t.darkColor),e},pickTitleStyle:function(t){var e={},n=["color","fontSize","padding","margin","fontWeight"];return Object.keys(t).forEach((function(i){n.includes(i)&&(e[i]=t[i])})),a.f.isDarkMode()&&t.darkColor&&(e.color=t.darkColor),e}}},vt=(n(2032),{components:{Tag:Object(g.a)(yt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tag-wrap"},[t.tag.icon?n("ui-image",{staticClass:"icon",style:t.pickIconStyle(t.tag.icon),attrs:{url:t.tag.icon.url}}):t._e(),t._v(" "),n("div",{staticClass:"center"}),t._v(" "),t.tag.title?n("span",{staticClass:"tag-inner",style:t.pickTitleStyle(t.tag)},[t._v(t._s(t.tag.title))]):t._e()],1)}),[],!1,null,"1dea9391",null).exports},props:{tags:{type:Array,default:function(){return[]}}}}),gt=(n(2033),{components:{Tags:Object(g.a)(vt,(function(){var t=this.$createElement,e=this._self._c||t;return this.tags&&this.tags.length?e("div",{staticClass:"tag-list"},this._l(this.tags,(function(t){return e("tag",{key:t.title,staticClass:"tag-item",attrs:{tag:t}})})),1):this._e()}),[],!1,null,"20808cfe",null).exports},props:{item:{type:Object,default:function(){return{}}},index:{type:Number,default:-1}},data:function(){return{}},watch:{item:{handler:function(){if(this.item.word){var t="".concat(this.index,"|").concat(encodeURIComponent(this.item.word),"|").concat(encodeURIComponent(this.item.query||this.item.word));this.item.reportJson&&this.$emit("report-doc-ext",{query:t,reportJson:{doc_pull_type:this.item.type,doc_pull_type_detail:this.item.reportJson}})}},immediate:!0}},methods:{getTagsTitle:function(t){if(t){var e="";return t.forEach((function(t){e+=t.title}))," ".concat(e)}return""},onTapItem:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.$emit.apply(this,["tap-search"].concat(e))}}});n(2034);function _t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var bt,It={name:"GuessBox",components:{GuessItem:Object(g.a)(gt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"rmd__item",attrs:{role:"option","aria-label":t.index+1+" "+(t.item.word||"")+t.getTagsTitle(t.item.tag)+"，链接"},on:{click:function(e){return e.stopPropagation(),t.onTapItem(t.item,t.index)}}},[n("div",{staticClass:"rmd__item__inner",attrs:{"aria-hidden":"true"}},[n("span",{staticClass:"rmd__item__word",class:{"has-tag":t.item.tag}},[t._v(t._s(t.item.word))]),t.item.tag?n("tags",{staticClass:"rmd__item__tags",attrs:{tags:t.item.tag}}):t._e()],1)])}),[],!1,null,"638ae542",null).exports},props:{items:{type:Array,default:function(){return[]}},realType:{type:Number,default:0},typePos:{type:Number,default:0},title:{type:String,default:""},scene:{type:Number,default:0},parentType:{type:Number,default:0}},data:function(){return{guesslist:[]}},computed:{requestId:function(){return this.$store.state.index.requestId},searchId:function(){return this.$store.state.index.data.searchID},blockExposeId:function(){return"".concat(this.vertEntries.length?this.typePos+1:this.typePos,"|",2,"|").concat(encodeURIComponent(this.title||""))},vertEntries:function(){return this.$store.state.index.vertEntries||[]}},watch:{items:{handler:function(t){t&&t.length&&(this.guesslist=this.handleItems(t))},immediate:!0}},created:function(){a.a.$on(a.i.INDEX_COMP_EXPOSE,this.onExpose)},beforeDestroy:function(){a.a.$off(a.i.INDEX_COMP_EXPOSE,this.onExpose)},methods:{handleItems:function(){var t=-1,e=this.items.map((function(e,n){return e.optype=e.optype||1,e.vueIsShow=!0,e.word=e.word.trim(),e.vueDocId="".concat(n,"|").concat(e.vueIsShow?++t:"","|").concat(encodeURIComponent(e.word),"|").concat(encodeURIComponent(e.query||e.word),"|").concat(e.vueIsShow?1:0,"|").concat(encodeURIComponent(e.tag&&e.tag.map((function(t){return t.title})).join("&")||""),"|").concat([].join("&"),"|||").concat(e.type),e}));return a.e.teach.reportCommonNewPull({requestId:this.requestId,searchId:this.searchId,itemInfo:this.blockExposeId,docInfo:e.map((function(t){return t.vueDocId})).join("#")}),e},onTapSearch:function(t,e,n){var i,r=t.query||t.word,s={parentSearchID:this.M_composeParentSid({t:this.parentType,s:this.$store.state.index.recommendId,did:r,rid:this.requestId}),crossExtReqParams:[]};!function(t){if(t&&([12].includes(t.type)&&t.reportJson)){var e={};if(t.mixerCommonContext)try{e=JSON.parse(t.mixerCommonContext)}catch(t){}e.report_json=JSON.stringify({doc_pull_type:t.type,doc_pull_type_detail:t.reportJson}),t.mixerCommonContext=JSON.stringify(e)}}(t),t.mixerCommonContext&&s.crossExtReqParams.push({key:"mixerCommonContext",textValue:t.mixerCommonContext}),a.e.teach.reportCommonNewClick({requestId:this.requestId,searchId:this.searchId,itemInfo:this.blockExposeId,docInfo:t.vueDocId}),i={type:1,query:t.word,ext:JSON.stringify({uniqKey:t.uniqKey,type:t.type})},a.g.getCommonCgiData({cgiName:"SearchGlobalEduCommApi",data:mt({searchId:"",sessionId:a.b.sessionId,scene:a.b.scene,device:a.b.device,H5Version:a.b.version,clientVersion:a.b.wechatVersion,type:1,query:""},i)}),this.$emit("tap",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_t(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({skipCommonReport:!0,optype:t.optype,hotword:t.word,scene:this.scene},s))},onExpose:function(t){if(t&&t.length){var e=t.filter((function(t){return/^guess-block:/.test(t)})).map((function(t){return t.replace(/^guess-block:/,"")})),n=t.filter((function(t){return/^guess-item:/.test(t)})).map((function(t){return t.replace(/^guess-item:/,"")}));e.length&&a.e.teach.reportCommonNewExpose({requestId:this.requestId,searchId:this.searchId,itemInfo:this.blockExposeId,docInfo:""}),n.length&&a.e.teach.reportCommonNewExpose({requestId:this.requestId,searchId:this.searchId,itemInfo:this.blockExposeId,docInfo:n.join("#")})}},onReportDocExt:function(t){var e=t.query,n=t.reportJson;a.e.teach.reportCommonNewExt({query:e,requestId:this.requestId,searchId:this.searchId,itemType:2,reportJson:n})}}},xt=(n(2035),Object(g.a)(It,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"recommend-list",attrs:{"data-expose-id":"guess-block:"+t.blockExposeId}},t._l(t.guesslist,(function(e,i){return n("guess-item",{key:e.vueDocId,attrs:{"data-expose-id":"guess-item:"+e.vueDocId,item:e,index:i},on:{"tap-search":t.onTapSearch,"report-doc-ext":t.onReportDocExt}})})),1)}),[],!1,null,"8ef547e2",null).exports),wt={functional:!0,render:function(t){return t("div")}},Ot={functional:!0,render:function(t,e){var n=e.props,i=e.listeners,r=function(e){return t(e,{props:n,on:i})},s=function(e,r,s){return r?Object.assign(r,n):r=n,t(O,{props:r,on:i,scopedSlots:{default:function(n){return s?Object.assign(s,n):s=n,t(e,{props:s,on:i})}}})},o=n.type,a=n.items;if(a&&a.length>0)switch(o){case 2:return r(D);case 4:return r(R);case 12:return r(M);case 15:return s(ht.a,{bdExpandStyle:"padding-bottom: 4px;"});case 39:return s(xt,{bdExpandStyle:"padding-bottom: 4px;",boxTitleStyle:"font-weight: normal; color: var(--FG-2); font-size: 14px;"});case 25:return s(G,{},{multiCols:1,splitLine:!0,showIndex:15==o});case 16:return s(G,{},{multiCols:2});case 17:return s(X,{bdExpandStyle:"padding-bottom: 4px;"});case 18:return s(Y,{bdExpandStyle:"padding-bottom: 4px;"});case 19:return s(Z);case 20:return s(et,{bdExpandStyle:"padding-bottom: 10px;"});case 21:return r(ot);case 24:return r(pt)}return t(wt)},props:{type:{type:Number,default:0},realType:{type:Number,default:0},title:{type:String,default:""},scene:{type:Number,default:0},parentType:{type:Number,default:0},iconUrl:{type:String,default:""},items:{type:Array,default:function(){return[]}},config:{type:Object,default:function(){return null}},headJumpUrl:{type:Object,default:function(){return null}},tags:{type:Array,default:function(){return[]}},moreText:{type:String,default:""},typePos:{type:Number,default:0}}},St={mixins:[a.l],props:{data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}}},methods:{tap:function(){this.M_go(this.item),this.$emit("tap:setting",this.item)}}},Tt=(n(2036),Object(g.a)(St,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"link-wrap"},[e("span",{directives:[{name:"active",rawName:"v-active"}],staticClass:"active__opacity",attrs:{role:"link"},on:{click:this.tap}},[this._v("\n    "+this._s(this.item.word)+"\n  ")])])}),[],!1,null,"4c61d8a2",null).exports),Ct=new(n(14).a)({setting:1}),Et={components:{setting:Tt},props:{data:{type:Object,default:function(){return{}}}},data:function(){return{types:Ct}},methods:{onTapSetting:function(t){this.$emit("tap:setting",t)}}},kt=(n(2037),Object(g.a)(Et,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"index-bottom"},t._l(t.data.items,(function(e,i){return n(t.types[e.type||1],t._b({key:i,tag:"components",attrs:{item:e,"data-expose-id":"__bottomComp__$"+(e.type||1)+"$"+i},on:{"tap:setting":t.onTapSetting}},"components",t.$props,!1))})),1)}),[],!1,null,"8dc81e5a",null).exports),jt=n(25);function Pt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pt(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.a={components:{"vert-entries":_,"index-comp":Ot,bottom:kt},mixins:[a.j,a.l],data:function(){return{nativeHeight:0,showAllOperateItem:!1,isFirstEnter:!0,banList:[],deviceType:a.b.deviceType,hotwordMap:{},curScene:0}},computed:{bottomData:function(){return this.$store.state.index.bottom||null},ret:function(){var t=this,e=this.$store.state.index.data;return e&&this.handleExpose(),(e&&e.data||[]).reduce((function(e,n){return t.banList.indexOf(n.realType)<0&&(13===n.realType?(t.handleFrequentSearchBizsFetch(),t.frequentSearchBizs.length>0&&e.push(Dt(Dt({},n),{},{items:t.frequentSearchBizs}))):e.push(n)),e}),[])},requestId:function(){return this.$store.state.index.requestId},isNewHotList:function(){return"guidePageList"===this.$store.state.index.dataType},vertEntries:function(){return this.$store.state.index.vertEntries},defaultNativeHeight:function(){return this.$store.state.index.defaultNativeHeight},realNativeHeight:function(){return this.nativeHeight>0?this.nativeHeight:this.defaultNativeHeight},frequentSearchBizs:function(){return this.$store.state.index.frequentSearchBizs.map((function(t){return{hotword:t.nickName,picUrl:t.avatarUrl,userName:t.userName,optype:3}})).filter((function(t){return!!t.hotword&&!!t.picUrl&&!!t.userName})).slice(0,8)}},watch:{$route:function(t){var e=this;"index"===t.name&&(a.b.setValue({scene:this.curScene||a.b.scene}),e.isFirstEnter=!1,a.b.os.mobile&&e.getData(),e.$nextTick((function(){e.showAllOperateItem=!0})))}},created:spy((function(){var t=this;if(a.f.queryString.nativeHeight&&(t.nativeHeight=+a.f.queryString.nativeHeight),a.b.queryString.isPreload){var e=t.$store.state.onUiInitData;n(),e&&e.nativeHeight&&(t.nativeHeight=+e.nativeHeight)}else n();function n(){l.b.onTeachReady((function(e){var n=e.opts||{};a.b.os.mobile&&0!==a.b.type||(a.e.reportEventTrack({requestId:e.requestId||t.requestId,actionType:208,query:n.query}),a.e.reportSearchStay({eventId:p.q.ENTRY,pageType:p.h.viewNum.INDEX,searchId:t._dataHandler(e).searchID}),t.init(e),a.g.log({msg:"[index onTeachSearchDataReady] ".concat(JSON.stringify(e)),level:"info"}))})),t.getData({query:"me.getData_onUiInit"})}a.f.WeixinJSBridgeOn("onBeginWebSearchAnimation",(function(){t.showAllOperateItem=!1})),l.b.onWebviewResume((function(){t.$route.name==p.f.INDEX&&t.getData({},a.b.type)})),l.b.onInputChange((function(t){t&&t.isCancelButtonClick&&window.scrollTo(0,0)}));var i=window.points&&window.points[0];a.e.reportEventTrack({actionType:200,timeStamp:i})})),mounted:function(){this.banList=a.c.getStore("HomePageBanList",[])||[]},destroyed:function(){a.c.store("HomePageBanList",this.banList),bt&&bt.destory()},methods:{_dataHandler:function(t){try{t="string"==typeof t.json?JSON.parse(t.json):t.json}catch(e){t={}}return t||{}},_doSearchOperation:function(t,e){a.f.WeixinJSBridgeInvoke("doSearchOperation",a.f.extend({action:2,scene:p.e.S1S},t),e||function(){})},init:spy((function(t){this._isLoadingSearchGuide=!1;var e=t.opts||{};a.g.log({msg:"[index init]".concat(JSON.stringify(t)),level:"info"});var i=this;if(t.requestId&&t.requestId!=i.requestId)Object(c.f)(a.k.feature.hotWord.ridFail);else if(void 0!==(t=this._dataHandler(t)).preSearchSwitch&&a.b.setValue({preSearchSwitch:t.preSearchSwitch}),a.b.os.mobile&&0!=t.businessType)Object(c.f)(a.k.feature.hotWord.busFail);else{bt&&bt.resetExposeId(),t.searchID||t.data&&t.data.length&&(BJ_REPORT.info("recommendId empty：".concat(JSON.stringify(t))),Object(c.f)(a.k.feature.indexRidEmpty)),i.showAllOperateItem||(!a.b.os.mobile&&+a.b.queryString.type&&t.businessType!=a.b.queryString.type||(i.showAllOperateItem=!0,a.a.$emit(a.i.HOTWORD_ANIMATION_DONE,t.businessType)),a.b.os.pc&&t.businessType!==a.b.type&&(i.showAllOperateItem=!1));var r=t.data;if(!r)return a.b.os.pc&&i.$store.commit("index/updateData",{data:[]}),void Object(c.f)(a.k.feature.hotWord.ddFail);r.length||(a.b.os.pc&&i.$store.commit("index/updateData",{data:[]}),Object(c.f)(a.k.feature.hotWord.ddLengthFail)),i.$store.commit("index/updateData",{data:t}),i.hotwordMap[t.businessType]=t,t&&t.discoverSearchGuide&&i.$store.commit("index/updateVertEntries",t.discoverSearchGuide),setTimeout((function(){a.e.reportEventTrack({requestId:i.requestId,actionType:209,query:e.query});var t=jt.a.startImport("result");Promise.all([n.e(2),n.e(23),n.e(1),n.e(17)]).then(n.bind(null,2207)).then((function(){jt.a.afterImport(t,"result",i.requestId),a.e.reportEventTrack({requestId:i.requestId,actionType:230,query:e.query})}))}),0),a.f.WeixinJSBridgeInvoke("updateReddotTimeStamps",{reddotTimeStamps:t.timestamp,isSearch:1},(function(){}))}})),handleFrequentSearchBizsFetch:function(){if(this.frequentSearchBizs.length){var t=[],e=[];this.frequentSearchBizs.forEach((function(n,i){t.push(i+1),e.push("".concat(encodeURIComponent(n.hotword),"#").concat(n.userName))}));var n=["",4,13,this.$store.state.index.data.searchID||"",a.b.sessionId||"",t.join(";"),e.join(";")].join(",");a.g.commonCgi({cgiName:l.a.mmDataReport,data:{clientversion:Number(a.b.clientVersion),device:this.deviceType,item_list:[{logid:21103,log_buffer:n}]}})}},handleExpose:function(){var t=this;setTimeout((function(){bt||(bt=new d.Expose((function(e){if(e.length){var n=e.reduce((function(t,e){if(!e)return t;var n=e.split("$");if("__vertEntries__"!==n[0]||n.length<4)return t;var i=Number(n[1]),r=Number(n[2]),s=n[3];return t.push([i,r+1,s]),t}),[]);if(n.length){var i=n.map((function(t){return t[0]})).join("_"),r=n.map((function(t){return t[1]})).join(";"),s=n.map((function(t){return t[2]})).join("_"),o=["",a.b.sessionId||"",2,i,r,s].join(",");a.g.commonCgi({cgiName:l.a.mmDataReport,data:{clientversion:Number(a.b.clientVersion),device:t.deviceType,item_list:[{logid:21441,log_buffer:o}]}})}t._handleExpose(e)}}),{container:t.$el})),bt.analysis()}))},onCloseBox:function(t,e){this.banList.push(e)},onTap:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.optype,i=e.skipCommonReport,s=void 0!==i&&i,o=e.customReport,c=void 0===o?[]:o,u=e.skipOpt,d=void 0!==u&&u,h=e.triggerExpose,f=void 0!==h&&h,m=e.recordToRecentUsedWeApp,y=void 0===m||m;if(n||d){f&&this.handleExpose();var v=[];if(s||v.push({logid:21103,log_buffer:["",3,t.realType,this.$store.state.index.data.searchID||"",a.b.sessionId||"",t.itemPos,encodeURIComponent(t.hotword||"")].join(",")}),c&&c.length&&v.push.apply(v,r()(c)),v.length&&a.g.commonCgi({cgiName:l.a.mmDataReport,data:{clientversion:Number(a.b.clientVersion),device:this.deviceType,item_list:v}}),!d)if(n===p.c.search){var g=t.parentSearchID||this.M_composeParentSid({t:p.n.INDEX_WOW_LIST,s:this.$store.state.index.recommendId,did:t.id,rid:this.$store.state.index.requestId});if(t.scene&&1!=a.b.queryString.isV2&&(this.curScene=a.b.scene,a.b.setValue({scene:t.scene})),1==a.b.queryString.isV2)return void this._doSearchOperation({action:3,query:t.hotword,scene:p.e.S1S,onUiInitBypassMap:{type:t.businessType||0,query:t.hotword||"",action:p.m.HOT_WORD,searchId:"",sessionId:a.b.sessionId,scene:t.scene||p.e.S1S,extParams:encodeURIComponent(JSON.stringify({parentSearchID:g,crossExtReqParams:t.crossExtReqParams||[]}))}});a.g.setInputBar({query:t.hotword,isInputChange:!1});var _=[{key:"parentSearchID",textValue:g}];t.crossExtReqParams&&_.push.apply(_,r()(t.crossExtReqParams)),a.a.$emit(a.i.GOTO,{type:t.businessType||0,page:p.f.RESULT,query:t.hotword||"",action:p.m.HOT_WORD,searchId:"",extReqParams:_}),a.b.setValue({type:t.businessType||0}),this._doSearchOperation({action:3,query:t.hotword,scene:p.e.S1S})}else n===p.c.vertical?this.onTapVert(t,e):n===p.c.weapp?this.M_go(Dt(Dt({},t),y?{}:{scene:202,startWeAppScene:1163})):n===p.c.bizSession?a.f.startSearchItemDetailPage({userName:t.userName,isTeachPage:!0,opType:n}):n===p.c.finder?a.g.openFinderFeed({feedId:t.feedId,extInfo:t.extInfo}):this.M_startDetail(t)}},onTapSetting:function(){if(this.bottomData){var t=["",a.b.sessionId,2].join(",");a.g.commonCgi({cgiName:l.a.mmDataReport,data:{clientversion:Number(a.b.clientVersion),device:this.deviceType,item_list:[{logid:24403,log_buffer:t}]}})}},getData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this;i._isLoadingSearchGuide=!0,n&&u.a.commit("index/getSearchRid"),t=Dt(Dt({},t),{},{query:t.query||(i.isNewHotList?"new":"")}),a.e.reportEventTrack({requestId:i.requestId,actionType:203,query:t.query}),a.g.getTeach(Dt(Dt({},a.b.getBase()),{},{type:e,scene:i.M_os(a.b.scene,p.e.S1S),requestType:h.a.requestType.net,requestId:u.a.state.index.requestId,guideInfo:JSON.stringify({guessReqInfo:{requestId:u.a.state.index.requestId}})}),Dt({requestId:u.a.state.index.requestId},t))}}}},2019:function(t,e,n){"use strict";n(1352)},2020:function(t,e,n){"use strict";n(1353)},2021:function(t,e,n){"use strict";n(1354)},2022:function(t,e,n){"use strict";n(1355)},2023:function(t,e,n){"use strict";n(1356)},2024:function(t,e,n){"use strict";n(1357)},2025:function(t,e,n){"use strict";n(1358)},2026:function(t,e,n){"use strict";n(1359)},2027:function(t,e,n){"use strict";n(1360)},2028:function(t,e,n){"use strict";n(1361)},2029:function(t,e,n){"use strict";n(1362)},2030:function(t,e,n){"use strict";n(1363)},2031:function(t,e,n){"use strict";n(1364)},2032:function(t,e,n){"use strict";n(1365)},2033:function(t,e,n){"use strict";n(1366)},2034:function(t,e,n){"use strict";n(1367)},2035:function(t,e,n){"use strict";n(1368)},2036:function(t,e,n){"use strict";n(1369)},2037:function(t,e,n){"use strict";n(1370)},699:function(t,e,n){"use strict";n.r(e),n.d(e,"Expose",(function(){return o}));var i=n(7),r=!1;try{var s={get passive(){return r={passive:!0},!0}};window.addEventListener("test",s,s),window.removeEventListener("test",s,s)}catch(t){r=!1}function o(t,e){var n=this;if("function"!=typeof t)throw"Expose must give a handler function.";(e=Object.assign({isBindScrollAtContainer:!1,isBindScrollAtParent:!1,container:document.body,exposeRepeatedly:!1,isHorizontal:!1,attr:"data-expose-id",ensureWithinContainer:!1},e)).container=e.container?e.isBindScrollAtParent&&e.container.parentElement||e.container:document.body,this.opt=e,this.timeout=null,this.exposedId=[],this.handler=t,this.isFirst=!0,this.onScroll=function(){clearTimeout(n.timeout),n.timeout=setTimeout((function(){n.analysis()}),e.dur||200)},this.resetExposeId=function(t){n.exposedId=[],n.isFirst=!0},e.isBindScrollAtContainer?e.container.addEventListener("scroll",this.onScroll,r):window.addEventListener("scroll",this.onScroll,r),i.a.$on(i.b.newSearchArrived,this.resetExposeId)}o.prototype.analysis=function(t){this.bounceW=window.innerWidth,this.bounceH=window.innerHeight,t&&(this.opt.attr=t);for(var e=this.opt.container.querySelectorAll("[".concat(this.opt.attr,"]")),n=[],i={height:{}},r=this.opt.container.getBoundingClientRect(),s=0,o=e.length;s<o;++s){var a=e[s],c=a.getBoundingClientRect(),u=+a.getAttribute("data-expose-ratio")||1,d=a.getAttribute(this.opt.attr);if(d&&(c.left+c.right!==0&&c.top+c.bottom!==0)){if(c.height>=this.bounceH&&(u=.5),this.opt.ensureWithinContainer){var l=Math.max(c.left,r.left),p=Math.max(c.top,r.top),h=Math.min(c.left+c.width,r.left+r.width),f=Math.min(c.top+c.height,r.top+r.height);if(l>=h||p>=f)continue;if(c.width*c.height*u>(h-l)*(f-p))continue}var m="data-id"==this.opt.attr&&this.isFirst;(m||Math.floor(c.left+c.width*u)<=this.bounceW&&Math.floor(c.top+c.height*u)<=this.bounceH)&&(m&&(this.isFirst=!1),this.exposedId.includes(d)||(this.exposedId.push(d),n.push(d)),i.height[d]=c.height)}}this.handler(n,i)},o.prototype.destory=function(){i.a.$off(i.b.newSearchArrived,this.resetExposeId),this.opt.isBindScrollAtContainer?this.opt.container.removeEventListener("scroll",this.onScroll,!1):window.removeEventListener("scroll",this.onScroll,!1)}},702:function(t,e,n){"use strict";var i={props:{tags:{type:Array,default:function(){return[]}},noBg:Boolean},methods:{onTapTag:function(t,e){this.$emit("click",t,e)}}},r=n(32),s=Object(r.a)(i,(function(){var t=this.$createElement;return(this._self._c||t)("ui-tags",{staticClass:"colorful-tags",attrs:{flex:"",tags:this.tags,"no-bg":this.noBg},on:{"tap:tag":this.onTapTag}})}),[],!1,null,null,null);e.a=s.exports},741:function(t,e,n){},752:function(t,e,n){},753:function(t,e,n){},769:function(t,e,n){"use strict";var i=n(0),r=n(2),s={props:["text","id","expired","relatedId"],data:function(){return{isShow:!1}},computed:{searchId:function(){switch(this.$route.name){case r.f.INDEX:return this.$store.state.index.recommendId;case r.f.TEACH:return this.$store.state.teach.recommendId;case r.f.SUG:return this.$store.state.sug.sugId;default:return i.b.searchId}}},watch:{id:function(){this.detect()},isShow:function(){this.isShow&&this.$emit("expose")}},mounted:function(){this.detect()},methods:{detect:function(){var t="".concat("reddot-badge","-").concat(this.id),e=i.c.getStore(t);if(e){var n=(new Date).getTime()-e.expose;this.isShow=!(this.expired&&n>1e3*this.expired)}else this.expired&&i.c.store(t,{expose:(new Date).getTime()}),this.isShow=!0;this.isShow&&i.e.reddotBadge.reportExpose({reddotId:this.id,reddotText:this.text,reddotExpired:this.expired,searchId:this.searchId,relatedId:this.relatedId})},hide:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};setTimeout((function(){t.isShow=!1}),e.delay||0)},onClick:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.hide(t),i.e.reddotBadge.reportClick({reddotId:this.id,reddotText:this.text,reddotExpired:this.expired,searchId:this.searchId,relatedId:this.relatedId})}}},o=(n(791),n(32)),a=Object(o.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return this.isShow?e("div",{staticClass:"weui-badge reddot-badge",class:{"weui-badge_dot":!this.text},attrs:{"aria-hidden":"true"}},[this._v(this._s(this.text))]):this._e()}),[],!1,null,"440ddec4",null);e.a=a.exports},775:function(t,e,n){"use strict";n(741)},790:function(t,e,n){"use strict";n(752)},791:function(t,e,n){"use strict";n(753)},794:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return u})),n.d(e,"SearchInputId",(function(){return d}));var i=n(0),r=n(34),s=n(2),o=n(25),a={name:"SearchBar",components:{History:function(){var t=o.a.startImport("history");return n.e(8).then(n.bind(null,2215)).then((function(e){return o.a.afterImport(t,"history"),e}))},Suggestion:function(){var t=o.a.startImport("suggestion");return Promise.all([n.e(2),n.e(19)]).then(n.bind(null,2211)).then((function(e){return o.a.afterImport(t,"suggestion"),e}))}},data:function(){return{SearchInputId:d,typingInput:"",searchInput:"",lastInput:"",lastVertType:null,inputTimer:null,inputFocus:!1,showHistory:!0,showSuggestion:!1,selectIndex:-1,selectInput:"",transferred:!1,customActive:!1}},computed:{hisList:function(){return this.$refs.History&&this.$refs.History.historyListShow||[]},sugList:function(){return this.$refs.Sug&&this.$refs.Sug.suggestoinObj||[]},selectList:function(){try{return this.showHistory?this.hisList.map((function(t){return t.hotword})):this.sugList.reduce((function(t,e){var n=e.items,i=void 0===n?[]:n;return t.concat(i.map((function(t){return t.word||t.nickName})))}),[])}catch(t){return[]}},selectHisItem:function(){try{return this.showHistory&&this.selectIndex>=0?this.hisList[this.selectIndex]:null}catch(t){return null}},selectSugItem:function(){try{return this.showSuggestion&&this.selectIndex>=0&&this.sugList.reduce((function(t,e){var n=e.items,i=void 0===n?[]:n;return t.concat(i)}),[])[this.selectIndex]||null}catch(t){return null}},input:{get:function(){return this.selectInput||this.searchInput},set:function(t){this.inputFocus=!0,this.changeInput({query:t}),this.toggleHint(!t),this.clearSelect()}},isIndex:function(){return this.$route.name===s.f.INDEX},currentVert:function(){var t,e,n=this.isIndex?this.$store.state.index.vertEntries:this.$store.state.result.category,i=n.find((function(t){return t.selected}))||n[0]||{};return{word:null!==(t=i.word)&&void 0!==t?t:i.hotword,type:null!==(e=i.type)&&void 0!==e?e:i.businessType}}},watch:{$route:function(){var t=i.f.getUrlParamsResultOption();t.query!==this.searchInput&&this.changeInput(t)}},created:function(){this.searchInput=i.b.query||"",i.a.$on(r.c.onInputChange,this.changeInput),i.a.$on(r.c.onInputConfirm,this.onGoto),i.a.$on(i.i.GOTO,this.onGoto),i.a.$on(i.i.SEARCH_BAR_TRANSFER,this.transferDom),i.a.$on(i.i.SEARCH_BAR_ACTIVE,this.toggleActive),i.a.$on(i.i.BACK_BUTTON_CLICK,this.hideHint),i.a.$on(i.i.goToPageIndex,this.focusInput),window.addEventListener("mousedown",this.hideHint),window.addEventListener("blur",this.hideHint),window.addEventListener("focus",this.focusWhenIndex)},methods:{transferDom:function(t){t&&(t.appendChild(this.$refs.SearchForm),this.transferred=!0,this.focusWhenIndex())},focusInput:function(t){var e=this;t&&(t.reset||t.clear)&&(this.clearInput(),this.clearSelect(),this.hideHint()),setTimeout((function(){e.$refs.SearchInput.focus()}))},focusWhenIndex:function(){this.isIndex&&this.focusInput()},onFocus:function(t){this.inputFocus=t,this.toggleHint()},onCancel:function(){!this.inputFocus&&this.input&&(this.input=""),this.clearSelect(),this.inputFocus=!1},onGoto:function(t){this.hideHint(t)},hideHint:function(t){var e=this;t&&t.query&&(this.searchInput=t.query),this.selectInput&&(this.searchInput=this.selectInput,this.emitInput()),t&&t.path&&(t.path.includes(this.$refs.SearchForm)||t.path.some((function(t){return t.htmlFor&&t.htmlFor===d})))||this.$nextTick((function(){e.$refs.SearchInput.blur(),e.inputFocus=!1}))},changeInput:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.query||t.word||"";this.searchInput=e,this.typingInput=e},clearInput:function(){this.searchInput="",this.typingInput="",this.toggleHint(!0)},toggleHint:function(t){this.inputFocus&&(this.showHistory=!this.searchInput,this.showSuggestion=!!this.searchInput,(t||this.searchInput)&&this.emitInput())},toggleActive:function(t){this.customActive=t&&document.activeElement===this.$refs.SearchInput},emitInput:function(){var t=this;this.inputFocus||(this.inputFocus=!0),this.clearSelect(),this.inputTimer&&window.clearTimeout(this.inputTimer),this.inputTimer=setTimeout((function(){t.lastInput===t.searchInput&&t.lastVertType===t.currentVert.type||(t.lastInput=t.searchInput,t.lastVertType=t.currentVert.type,i.a.$emit(r.c.onInputChange,{query:t.searchInput,isInputChange:!0}))}),100)},emitSearch:function(t){if(this.emitSelect(),this.searchInput){if("btn"===t)this.emitConfirm(s.m.PC_SEARCH_BAR);else try{this.selectSugItem?this.$refs.Sug.tapIndex(this.selectIndex):this.selectHisItem?this.$refs.History.tapItem(this.selectHisItem):this.emitConfirm(void 0,s.n.ENTER_INPUT_CONFIRM)}catch(t){this.emitConfirm(void 0,s.n.ENTER_INPUT_CONFIRM)}this.hideHint()}else this.focusInput()},emitConfirm:function(t,e){i.a.$emit(i.i.GOTO,{page:s.f.RESULT,query:this.searchInput||"",action:t,parentType:e,searchId:""})},onSelect:function(t){if(this.inputFocus){var e=this.selectList.length;if(e){var n=this.selectIndex;-1===n?n=t>0?0:e-1:0===n&&t<0||n===e-1&&t>0?n=-1:n+=t,this.selectIndex=n,this.selectInput=this.selectList[n]||""}}else this.onFocus(!0)},emitSelect:function(){this.searchInput=this.selectInput||this.searchInput},alterSelect:function(t){this.selectIndex=t},clearSelect:function(){this.selectInput="",this.selectIndex=-1}}},c=(n(775),n(32)),u=Object(c.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.transferred,expression:"transferred"}],ref:"SearchForm",staticClass:"search",on:{mousedown:function(e){!t.inputFocus&&t.onFocus(!0)}}},[n("div",{staticClass:"search-area"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.input,expression:"input",modifiers:{trim:!0}}],ref:"SearchInput",class:{empty:!t.typingInput&&!t.input},attrs:{id:t.SearchInputId,type:"text",name:"query",autocomplete:"off"},domProps:{value:t.input},on:{input:[function(e){e.target.composing||(t.input=e.target.value.trim())},function(e){t.typingInput=e.target.value}],keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:(e.preventDefault(),t.onCancel.apply(null,arguments))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:t.hideHint()},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:(e.preventDefault(),t.onSelect(-1))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:(e.preventDefault(),t.onSelect(1))}],keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.emitSearch.apply(null,arguments)},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),n("label",{directives:[{name:"show",rawName:"v-show",value:t.input,expression:"input"},{name:"active",rawName:"v-active"}],staticClass:"search-area-clear weui-icon-clear active__opacity",attrs:{for:t.SearchInputId},on:{click:t.clearInput}}),t._v(" "),n("button",{on:{mousedown:function(t){t.stopPropagation()},click:function(e){return e.stopPropagation(),t.emitSearch("btn")}}},[t._v(t._s(t._f("L")("搜索")))]),t._v(" "),n("label",{class:["search-area-bg",{active:t.inputFocus||t.customActive}],attrs:{for:t.SearchInputId}})]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.inputFocus&&(t.showSuggestion||t.showHistory),expression:"inputFocus && (showSuggestion || showHistory)"}],staticClass:"search-hint",on:{mouseout:function(e){return t.alterSelect(-1)}}},[n("suggestion",{directives:[{name:"show",rawName:"v-show",value:t.showSuggestion&&t.sugList.length,expression:"showSuggestion && sugList.length"}],ref:"Sug",attrs:{"select-index":t.selectIndex},on:{hover:t.alterSelect}}),t._v(" "),n("history",{directives:[{name:"show",rawName:"v-show",value:t.showHistory,expression:"showHistory"}],ref:"History",attrs:{"select-index":t.selectIndex},on:{hover:t.alterSelect}})],1)])}),[],!1,null,"4d5af0ea",null).exports,d="weixin-search-input"},796:function(t,e,n){"use strict";var i=n(1),r=n.n(i);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var a={props:{items:{type:Array,default:function(){return[]}},realType:{type:Number,default:0}},computed:{list:function(){return this.items.map((function(t){return o(o({},t),{},{tag:t.tags&&t.tags[0]||null})}))}}},c=(n(790),n(32)),u=Object(c.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},t._l(t.list,(function(e,i){return n("div",{key:t.realType+"#"+i,staticClass:"item",attrs:{"data-expose-id":t.realType+"#"+i,role:"option","aria-label":i+1+" "+(e.hotword||"")+(e.tag&&e.tag.title||"")+"，链接"},on:{click:function(n){return t.$emit("tap",Object.assign({},e,{realType:t.realType,itemPos:i+1}))}}},[n("div",{staticClass:"item__index",attrs:{"aria-hidden":"true"}},[n("span",[t._v("\n        "+t._s(i+1)+"\n      ")])]),t._v(" "),n("div",{staticClass:"item__bd",attrs:{"aria-hidden":"true"}},[n("span",{style:{marginRight:(e.tag?4:0)+"px"}},[t._v(t._s(e.hotword))]),t._v(" "),e.tag?n("ui-tag",t._b({},"ui-tag",e.tag||{},!1)):t._e()],1)])})),0)}),[],!1,null,"0a745626",null);e.a=u.exports}}]);