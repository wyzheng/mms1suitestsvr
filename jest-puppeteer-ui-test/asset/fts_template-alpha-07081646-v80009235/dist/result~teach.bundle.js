(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1289:function(t,e,i){},1291:function(t,e,i){},1321:function(t,e,i){},1439:function(t,e,i){"use strict";var n=i(710),a=i(0),s={name:"LiveItemCard",components:{VideoPlayer:n.a},mixins:[a.l],props:{data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}},pos:{type:Number,default:0},typePos:{type:Number,default:0},from:{type:String,default:""}},methods:{onTapLive:function(){var t=this,e=this;"teach"===this.from?(a.e.teach.reportCommonClick({blockType:e.data.type,blockId:e.data.id||"",blockWord:e.data.title,blockExpand:e.data.expand||"",blockIndex:e.typePos,itemId:e.item.id,itemWord:e.item.title,itemExpand:e.item.expand||"",itemIndex:e.pos+1}),this.M_go(this.item)):a.f.fastClickCheck((function(){t.M_clickReport({}),t.M_go(t.item)}),2e3)}}},o=(i(1948),i(32)),r=Object(o.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("video-player",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"active__mask",attrs:{"data-id":t.M_exposeId(),src:t.item.videoUrl,poster:t.item.imageUrl,"export-id":t.item.exportId,"nonce-id":t.item.nonceId,"aspect-ratio":4/3,"round-corner":!0,tag:t.item.tags&&t.item.tags[0],controls:["sound"],role:"option",title:t.M_os("链接"),static:t.M_os(!1,!0)},nativeOn:{click:function(e){return e.stopPropagation(),t.onTapLive.apply(null,arguments)}}},[i("div",{staticClass:"live-text-wrapper"},[i("div",[t.item.recommend?i("div",{staticClass:"live-recommend"},[t._v(t._s(t.item.recommend))]):t._e(),t._v(" "),t.item.title?i("div",{staticClass:"title ellipsis_2",domProps:{innerHTML:t._s(t.xss(t.item.title))}}):t._e(),t._v(" "),t.item.source?i("div",{staticClass:"live-source",attrs:{"aria-hidden":"true"}},[i("div",{staticClass:"source-name-box"},[t.item.source.iconUrl?i("ui-image",{staticClass:"source-avatar",attrs:{size:16,url:t.item.source.iconUrl,mode:"avatar",overlay:""}}):t._e(),t._v(" "),i("div",{staticClass:"source-name ellipsis"},[t._v(t._s(t.item.source.title))]),t._v(" "),i("ui-tags",{attrs:{flex:"",tags:t.item.source.tag}})],1),t._v(" "),t.item.desc?i("div",{staticClass:"source-desc"},[t._v(t._s(t.item.desc))]):t._e()]):t._e()])])])}),[],!1,null,"7d4a8f93",null);e.a=r.exports},1440:function(t,e,i){"use strict";var n=i(710),a=i(0),s={name:"LiveSingleCard",components:{VideoPlayer:n.a},mixins:[a.l],props:{data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}},pos:{type:Number,default:0},typePos:{type:Number,default:0},descType:{type:Number,default:1}},methods:{onTap:function(){var t=this;a.f.fastClickCheck((function(){t.M_clickReport({}),t.M_go(t.item)}),2e3)}}},o=(i(1950),i(32)),r=Object(o.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"live-single-card active__item",attrs:{"data-id":t.M_exposeId(),role:"option",title:t.M_os("链接")},on:{click:t.onTap}},[i("div",{staticClass:"live-single-card-image"},[i("video-player",{attrs:{src:t.item.videoUrl,poster:t.item.imageUrl,"export-id":t.item.exportId,"nonce-id":t.item.nonceId,"aspect-ratio":4/3,"round-corner":!0,tag:t.item.tags&&t.item.tags[0],static:t.M_os(!1,!0)}},[t.item.recommend?i("div",{staticClass:"recommend"},[t._v("\n        "+t._s(t.item.recommend)+"\n      ")]):t._e()])],1),t._v(" "),i("div",{staticClass:"live-single-card-text"},[t.item.title?i("div",{staticClass:"title",domProps:{innerHTML:t._s(t.xss(t.item.title))}}):t._e(),t._v(" "),i("span",{staticClass:"ui-aria-hidden"},[t._v("，")]),t._v(" "),1===t.descType&&t.item.desc?i("div",{staticClass:"desc",domProps:{innerHTML:t._s(t.xss(t.item.desc))}}):t._e(),t._v(" "),i("ui-source",{attrs:{"icon-url":t.item.source.iconUrl,tags:t.item.source.tag},scopedSlots:t._u([{key:"after-text",fn:function(){return[i("div",{staticClass:"source-name"},[t._v(t._s(t.item.source.title))])]},proxy:!0},{key:"line-end",fn:function(){return[2===t.descType&&t.item.desc?i("div",{staticClass:"souce-desc",domProps:{innerHTML:t._s(t.xss(t.item.desc))}}):t._e()]},proxy:!0}])})],1)])}),[],!1,null,"fd2b725c",null);e.a=r.exports},1441:function(t,e,i){"use strict";var n=i(0),a=i(22),s=i(52),o=i(61),r=i(767),c=new(i(14).a)({personal:2,organization:1}),l={components:{negative:r.a},mixins:[n.l],props:{data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}},pos:{type:Number,default:0},typePos:{type:Number,default:0}},data:function(){return{bizVerifyType:c}},computed:{externalInfo:function(){var t={};try{var e=this.item.externalInfo;t="Object"==n.f.getType(e)?e:JSON.parse(this.item.externalInfo)}catch(t){}return t},bottomInfo:function(){var t=this;return t.item.extraHighlight?t.item.extraHighlight:t.item.bizVerifyType===c.organization&&t.externalInfo&&t.externalInfo.VerifySource&&t.externalInfo.VerifySource.Description?t.externalInfo.VerifySource.Description:""},withBottomComponent:function(){return this.item.links&&this.item.links.length||this.item.actions&&this.item.actions.length||this.item.menus&&this.item.menus.length}},methods:{tap:function(){var t=this.item;t.type=this.data.type,t.query=n.b.query,t.searchId=n.b.searchId,t.extraParams="search_type=1&docid=".concat(decodeURIComponent(this.item.docID),"&scene=").concat(n.b.scene),t.bizuin=this.item.bizuin||this.item.docID,Object(a.d)(n.k.detail.result.searchItem1),this.M_clickReport({clickZone:1,actionType:3001},this.item),this.M_jump(t)},tapAction:function(t){var e=t.menu;this.M_go(e),this.M_handleInsert(),this.M_clickReport({clickZone:4,clickContent:e.title})},tapMenu:function(t){this.M_go(t),this.M_handleInsert(),this.M_clickReport({clickZone:3,clickContent:t.word||t.title},t)},tapLink:function(t,e){t.url&&(t.jumpUrl=t.url),this.M_go(t),this.M_handleInsert(),this.M_clickReport({clickZone:2,expand:e+1},t),Object(s.d)(o.a.bizMenu,["","","",0,0,7,0,0,0]),Object(a.d)(n.k.detail.result.bizMenu)},getSignature:function(){var t=this;return t.item.bizVerifyType===c.personal&&t.externalInfo&&t.externalInfo.PersonVerifyInfo&&t.externalInfo.PersonVerifyInfo.VerifyDesc?this.xss(t.externalInfo.PersonVerifyInfo.VerifyDesc):this.$options.filters.highlightTextHandler(this.xss(this.item.signatureHighlight||this.item.signature),2,50)}}},d=(i(1533),i(1534),i(32)),u=Object(d.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{"data-report-id":t.M_docReportId()}},[i("div",{directives:[{name:"active",rawName:"v-active"}],staticClass:"biz expose_log_elem",class:{"biz-with-bottom-component":t.withBottomComponent},attrs:{"data-id":t.M_exposeId(),"data-report-id":t.M_itemReportId(t.item.reportId)},on:{click:t.tap}},[i("div",{staticClass:"search_item_inner search_item_inner_clear",attrs:{role:"button"}},[i("div",{directives:[{name:"image",rawName:"v-image:avatar",value:t.item.iconUrl,expression:"item.iconUrl",arg:"avatar"}],staticClass:"biz__thumb"}),t._v(" "),i("div",{staticClass:"biz_account_content"},[i("div",{staticClass:"biz__title"},[i("div",{staticClass:"biz__title__text",domProps:{innerHTML:t._s(t.xss(t.item.nickNameHighlight||t.item.nickName))}}),t._v(" "),i("ui-tags",{staticClass:"biz__title__tag",attrs:{flex:"",tags:t.item.tags,"aria-hidden":"true"}}),t._v(" "),i("div",{staticClass:"biz__title-right__wrapper",attrs:{"aria-hidden":"true"}},[t.item.recommendTag&&t.item.recommendTag.length?i("ui-tags",{attrs:{flex:"",tags:t.item.recommendTag}}):t.item.extraInfo?i("div",{style:{marginLeft:"6px"},attrs:{"aria-hidden":"true"}},[i("p",[t._v(t._s(t.item.extraInfo))])]):t._e()],1)],1),t._v(" "),i("p",{staticClass:"biz__tips ellipsis_2",attrs:{"aria-hidden":"true"},domProps:{innerHTML:t._s(t.getSignature())}}),t._v(" "),t.bottomInfo?i("div",{staticClass:"line biz__line",attrs:{"aria-hidden":"true"}},[i("div",{staticClass:"line__item primary biz__extra-highlight",domProps:{innerHTML:t._s(t.xss(t.bottomInfo))}})]):t._e(),t._v(" "),t.item.feedback?i("div",{staticClass:"biz__negative",attrs:{"aria-hidden":"true"}},[i("negative",t._b({},"negative",t.$props,!1))],1):t._e()])]),t._v(" "),t.item.links&&t.item.links.length?i("div",{staticClass:"links biz__links"},t._l(t.item.links,(function(e,n){return i("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],key:e.word,staticClass:"link",attrs:{"data-index":n,role:"button","data-report-id":t.M_itemReportId(e.reportId,n+1)},on:{click:function(i){return i.stopPropagation(),t.tapLink(e,n)},touchstart:function(t){t.stopPropagation()}}},[i("div",{staticClass:"biz__link-flex"},[i("span",{staticClass:"biz__link-text"},[t._v(t._s(e.word))]),t._v(" "),e.userName?i("svg-icon",{staticClass:"biz__link-icon",attrs:{name:"mini_pram"}}):t._e()],1)])})),0):t._e(),t._v(" "),i("div",{staticStyle:{clear:"both"}}),t._v(" "),t.item.actions?i("div",{staticClass:"actions-wrapper"},[i("ui-menu",{staticClass:"action",attrs:{source:t.item.actions},on:{"tap:menu":t.tapAction},scopedSlots:t._u([1===t.item.actions.length?{key:"default",fn:function(e){var n=e.item;return[i("div",{staticClass:"single-action-box",attrs:{role:"button"}},[n.iconUrl?i("ui-image",{staticClass:"action-icon",attrs:{url:n.iconUrl,size:20}}):t._e(),t._v(" "),i("span",[t._v(t._s(n.title))])],1)]}}:null],null,!0)})],1):t._e(),t._v(" "),t.item.menus?i("div",{staticClass:"menus-wrapper"},[i("ui-column",{attrs:{col:2,list:t.item.menus},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.item,a=e.index;return[i("ui-link",{attrs:{title:n.word,role:"button","data-report-id":t.M_itemReportId(n.reportId,a+1)},nativeOn:{click:function(e){return e.stopPropagation(),t.tapMenu(n,a)}}})]}}],null,!1,737361724)})],1):t._e()])])}),[],!1,null,"d0b8aefa",null);e.a=u.exports},1499:function(t,e,i){"use strict";i(828)},1500:function(t,e,i){"use strict";i(829)},1501:function(t,e,i){"use strict";i(830)},1502:function(t,e,i){"use strict";i(831)},1507:function(t,e,i){"use strict";i(836)},1508:function(t,e,i){"use strict";i(837)},1525:function(t,e,i){"use strict";i(854)},1526:function(t,e,i){"use strict";i(855)},1527:function(t,e,i){"use strict";i(856)},1528:function(t,e,i){"use strict";i(857)},1529:function(t,e,i){"use strict";i(858)},1533:function(t,e,i){"use strict";i(862)},1534:function(t,e,i){"use strict";i(863)},1948:function(t,e,i){"use strict";i(1289)},1950:function(t,e,i){"use strict";i(1291)},1985:function(t,e,i){"use strict";i(1321)},699:function(t,e,i){"use strict";i.r(e),i.d(e,"Expose",(function(){return o}));var n=i(7),a=!1;try{var s={get passive(){return a={passive:!0},!0}};window.addEventListener("test",s,s),window.removeEventListener("test",s,s)}catch(t){a=!1}function o(t,e){var i=this;if("function"!=typeof t)throw"Expose must give a handler function.";(e=Object.assign({isBindScrollAtContainer:!1,isBindScrollAtParent:!1,container:document.body,exposeRepeatedly:!1,isHorizontal:!1,attr:"data-expose-id",ensureWithinContainer:!1},e)).container=e.container?e.isBindScrollAtParent&&e.container.parentElement||e.container:document.body,this.opt=e,this.timeout=null,this.exposedId=[],this.handler=t,this.isFirst=!0,this.onScroll=function(){clearTimeout(i.timeout),i.timeout=setTimeout((function(){i.analysis()}),e.dur||200)},this.resetExposeId=function(t){i.exposedId=[],i.isFirst=!0},e.isBindScrollAtContainer?e.container.addEventListener("scroll",this.onScroll,a):window.addEventListener("scroll",this.onScroll,a),n.a.$on(n.b.newSearchArrived,this.resetExposeId)}o.prototype.analysis=function(t){this.bounceW=window.innerWidth,this.bounceH=window.innerHeight,t&&(this.opt.attr=t);for(var e=this.opt.container.querySelectorAll("[".concat(this.opt.attr,"]")),i=[],n={height:{}},a=this.opt.container.getBoundingClientRect(),s=0,o=e.length;s<o;++s){var r=e[s],c=r.getBoundingClientRect(),l=+r.getAttribute("data-expose-ratio")||1,d=r.getAttribute(this.opt.attr);if(d&&(c.left+c.right!==0&&c.top+c.bottom!==0)){if(c.height>=this.bounceH&&(l=.5),this.opt.ensureWithinContainer){var u=Math.max(c.left,a.left),p=Math.max(c.top,a.top),h=Math.min(c.left+c.width,a.left+a.width),m=Math.min(c.top+c.height,a.top+a.height);if(u>=h||p>=m)continue;if(c.width*c.height*l>(h-u)*(m-p))continue}var f="data-id"==this.opt.attr&&this.isFirst;(f||Math.floor(c.left+c.width*l)<=this.bounceW&&Math.floor(c.top+c.height*l)<=this.bounceH)&&(f&&(this.isFirst=!1),this.exposedId.includes(d)||(this.exposedId.push(d),i.push(d)),n.height[d]=c.height)}}this.handler(i,n)},o.prototype.destory=function(){n.a.$off(n.b.newSearchArrived,this.resetExposeId),this.opt.isBindScrollAtContainer?this.opt.container.removeEventListener("scroll",this.onScroll,!1):window.removeEventListener("scroll",this.onScroll,!1)}},706:function(t,e,i){"use strict";i(0);var n={props:{text:{type:[String,Number],default:""},size:{type:Number,default:32},iconUrl:{type:String,default:"https://res.wx.qq.com/a/fed_upload/658e7c8d-708d-499b-8d41-4cca1d510d03/play.svg"},ts:{type:Number,default:0},liveWatch:{type:Boolean,default:!1},like:{type:Boolean,default:!1},isTop:{type:Boolean,default:!1},noIcon:{type:Boolean,default:!1},dateTime:{type:String,default:""},tag:{type:Object,default:function(){}},tags:{type:Array,default:function(){return[]}},liveEnd:{type:Boolean,default:!1},tapSourceAlone:{type:Boolean,default:!1},tapTextAlone:{type:Boolean,default:!1},title:{type:String,default:""},desc:{type:String,default:""},source:{type:Object,default:function(){return{}}},friendInfo:{type:Object,default:function(){return{}}},showGradient:{type:Boolean,default:!1},gradientPadding:{type:Number,default:8},maskType:{type:Number,default:1},tagDate:{type:String,default:""},tagTitle:{type:String,default:""},expand:{type:Boolean,default:!1},magicColor:{type:String,default:""}},computed:{maskTypeText:function(){return{1:"视频",2:"文章"}[this.maskType]},hasExtraInfo:function(){var t;return null===(t=this.friendInfo)||void 0===t?void 0:t.avatars}},methods:{tapSource:function(t){this.$emit("tap:source",t)},getMagicGradient:function(t,e){return this.magicColor?{backgroundImage:"linear-gradient(to top, rgba(".concat(this.magicColor,",").concat(t,"), rgba(").concat(this.magicColor,",").concat(e,"))")}:{}}}},a=(i(1507),i(1508),i(32)),s=Object(a.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"play-mask",attrs:{role:"option"}},[t.tag?i("ui-tag",{staticClass:"mask-tag",attrs:{title:t.tag.title,type:t.tag.type}}):t._e(),t._v(" "),t.tags?i("ui-tags",{staticClass:"mask-tag",attrs:{tags:t.tags}}):t._e(),t._v(" "),i("div",{staticClass:"mask-tag scene-tag"},[t.tagDate?i("div",{staticClass:"scene-tag__date"},[i("span",[t._v(t._s(t.tagDate))])]):t._e(),t._v(" "),t.tagTitle?i("div",{staticClass:"scene-tag__title"},[i("span",[t._v(t._s(t.tagTitle))])]):t._e()]),t._v(" "),t.expand&&!t.hasExtraInfo?i("div",{staticClass:"magic-gradient outer",style:t.getMagicGradient(1,0)}):t._e(),t._v(" "),i("div",{staticClass:"extra-wrap",class:{"linear-gradient":t.showGradient&&!t.expand},style:{padding:t.gradientPadding+"px"}},[t.expand&&t.hasExtraInfo?[i("div",{staticClass:"magic-gradient inner",style:t.getMagicGradient(1,.8)}),t._v(" "),i("div",{staticClass:"magic-gradient inner-expand",style:t.getMagicGradient(.8,0)})]:t._e(),t._v(" "),t.friendInfo&&t.friendInfo.avatars?i("ui-avatars-row",{attrs:{list:t.friendInfo.avatars,direction:"left"}},[t.friendInfo.text||t.friendInfo.afterText?i("div",{staticClass:"friend-text-wrap"},[i("p",{staticClass:"friend-before-text"},[t._v(t._s(t.friendInfo.text))]),t._v(" "),t.friendInfo.afterText?i("p",{staticClass:"friend-after-text"},[t._v(t._s(t.friendInfo.afterText))]):t._e()]):t._e()]):t._e(),t._v(" "),t.title?i("div",{staticClass:"vc-title",domProps:{innerHTML:t._s(t.xss(t.title))}}):t._e(),t._v(" "),t.desc?i("div",{staticClass:"vc-desc",domProps:{innerHTML:t._s(t.xss(t.desc))}}):t._e(),t._v(" "),t.dateTime?i("div",{staticClass:"datetime"},[t._v("\n      "+t._s(t.dateTime)+"\n    ")]):t.source?i("div",{directives:[{name:"active",rawName:"v-active.stop",value:t.tapSourceAlone,expression:"tapSourceAlone",modifiers:{stop:!0}}],staticClass:"vc-source",class:{"vc-source_with-tag":t.source.tag,active__opacity:t.source.jumpInfo&&t.tapSourceAlone},on:{click:function(e){return e.stopPropagation(),t.tapSource(t.source)}}},[t.source.iconUrl?i("ui-image",{staticClass:"vc-source__thumb",attrs:{url:t.source.iconUrl,size:20,mode:"avatar",overlay:""}}):t._e(),t._v(" "),t.source.title||t.source.mark?i("div",{staticClass:"vc-source-title-box"},[i("div",{staticClass:"vc-source__title"},[i("p",{staticClass:"vc-source__text",domProps:{innerHTML:t._s(t.xss(t.source.title))}}),t._v(" "),i("div",{staticClass:"badges"},t._l(t.source.mark,(function(t){return i("ui-image",{key:t,attrs:{url:t,size:16,mode:"raw"}})})),1),t._v(" "),i("p",{staticClass:"vc-source__dateTime",domProps:{innerHTML:t._s(t.xss(t.source.dateTime))}})])]):t._e()],1):t._e(),t._v(" "),i("div",{staticClass:"extra-info-gap"}),t._v(" "),t.ts||t.text?i("span",{directives:[{name:"active",rawName:"v-active.stop",value:t.tapTextAlone,expression:"tapTextAlone",modifiers:{stop:!0}}],staticClass:"play-mask__bg active__opacity"},[t.like?i("span",{staticClass:"play-mask__text",attrs:{role:"option"}},[i("svg-icon",{attrs:{"class-name":"icon-like",name:"like_outlined"}}),t._v(" "),i("span",{staticClass:"ui-aria-hidden"},[t._v("，点赞：")]),t._v(" "),i("span",[t._v(t._s(t.text))])],1):i("span",{staticClass:"play-mask__text",attrs:{role:"option"}},[t.ts||t.text.toString().indexOf(":")>-1?i("span",{staticClass:"ui-aria-hidden"},[t._v("，时长：")]):t._e(),t._v(" "),t.liveWatch?i("span",{staticClass:"ui-aria-hidden"},[t._v(t._s("，"+t.text+"人看过"))]):t._e(),t._v(" "),t.ts?i("span",[t._v(t._s(t._f("mmss")(t.ts)))]):i("span",{attrs:{"aria-hidden":t.liveWatch}},[t._v(t._s(t.text))]),t._v(" "),t.isTop?i("svg-icon",{attrs:{"class-name":"icon-top",name:"top"}}):t._e()],1)]):t._e(),t._v(" "),i("span",{staticClass:"ui-aria-hidden"},[t._v(t._s(","+t.maskTypeText+"。"))])],2),t._v(" "),t.noIcon?t._e():i("div",{staticClass:"play-icon-wrapper"},[i("ui-image",{staticClass:"play-icon",attrs:{"aria-label":"播放",url:t.iconUrl,size:t.size,type:"img"}})],1),t._v(" "),t.liveEnd?i("div",{staticClass:"live-end-tip"},[i("ui-image",{staticClass:"live-end-icon",attrs:{url:"https://res.wx.qq.com/a/fed_upload/4e09c767-7238-4dab-bb48-8da245eeb470/live_icon.svg",size:20}}),t._v(" "),i("span",[t._v("直播已结束")])],1):t._e()],1)}),[],!1,null,"12f4c1b5",null);e.a=s.exports},710:function(t,e,i){"use strict";var n=i(255),a=i.n(n),s=i(0),o=i(34),r=i(15),c={mixins:[s.l,s.j],props:{poster:{type:String,default:""},controls:{type:Array,default:function(){return[]}},aspectRatio:{type:Number,default:0},soundControlPositionRelativeToTopRight:{type:Number,default:8},roundCorner:{type:Boolean,default:!1},roundCornerTopLeft:{type:Boolean,default:!1},roundCornerTopRight:{type:Boolean,default:!1},roundCornerBottomLeft:{type:Boolean,default:!1},roundCornerBottomRight:{type:Boolean,default:!1},playControlSize:{type:Number,default:40},roundCornerSize:{type:Number,default:4},isSoundControlInteractive:{type:Boolean,default:!0},isPlaying:{type:Boolean,default:!1},isMuted:{type:Boolean,default:!0},data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}},typePos:{type:Number,default:0},pos:{type:Number,default:0}},computed:{feedId:function(){var t;return null===(t=this.item.jumpInfo)||void 0===t?void 0:t.feedId},muteReportId:function(){return"".concat(this.feedId,":mute:").concat(r.a.getRandom(6))},phonicReportId:function(){return"".concat(this.feedId,":phonic:").concat(r.a.getRandom(6))},showPlayControl:function(){return!this.isPlaying&&this.controls.indexOf("play")>=0},showSoundControl:function(){return this.isPlaying&&this.controls.indexOf("sound")>=0},videoPlayerStyle:function(){var t={};return this.aspectRatio>0?Object.assign(t,{width:"100%",paddingBottom:"".concat(100*this.aspectRatio,"%")}):Object.assign(t,{width:"100%",height:"100%"}),this.roundCorner?Object.assign(t,{borderRadius:"".concat(this.roundCornerSize,"px")}):(this.roundCornerTopLeft||this.roundCornerTopRight||this.roundCornerBottomLeft||this.roundCornerBottomRight)&&Object.assign(t,{borderTopLeftRadius:this.roundCornerTopLeft?"".concat(this.roundCornerSize,"px"):"0",borderTopRightRadius:this.roundCornerTopRight?"".concat(this.roundCornerSize,"px"):"0",borderBottomLeftRadius:this.roundCornerBottomLeft?"".concat(this.roundCornerSize,"px"):"0",borderBottomRightRadius:this.roundCornerBottomRight?"".concat(this.roundCornerSize,"px"):"0"}),t},playControlStyle:function(){var t="".concat(this.playControlSize/16,"rem");return{width:t,height:t}},soundControlStyle:function(){return{top:"".concat(this.soundControlPositionRelativeToTopRight,"px"),right:"".concat(this.soundControlPositionRelativeToTopRight,"px")}},cornerStyle:function(){return{width:"".concat(this.roundCornerSize,"px"),height:"".concat(this.roundCornerSize,"px")}}},methods:{onClickPlayControl:function(t){this.$emit("tap:play",t)},onClickSoundControl:function(t){var e=this.isMuted?this.muteReportId:this.phonicReportId;this.$emit("tap:sound",t,this.isMuted,e,this.M_getItemPos(e))}}},l=(i(1525),i(32)),d=Object(l.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"video-player",style:t.videoPlayerStyle},[i("div",{directives:[{name:"image",rawName:"v-image:color",value:t.poster,expression:"poster",arg:"color"}],staticClass:"video-player__bd"},[t._t("media")],2),t._v(" "),i("div",{staticClass:"video-player__slot"},[t._t("default",null,{type:"static"})],2),t._v(" "),i("div",{staticClass:"video-player__corners"},[t.roundCorner||t.roundCornerTopLeft?i("svg-icon",{staticClass:"corner corner_top-left",style:t.cornerStyle,attrs:{"aria-hidden":"true",name:"border-radius"}}):t._e(),t._v(" "),t.roundCorner||t.roundCornerTopRight?i("svg-icon",{staticClass:"corner corner_top-right",style:t.cornerStyle,attrs:{"aria-hidden":"true",name:"border-radius"}}):t._e(),t._v(" "),t.roundCorner||t.roundCornerBottomLeft?i("svg-icon",{staticClass:"corner corner_bottom-left",style:t.cornerStyle,attrs:{"aria-hidden":"true",name:"border-radius"}}):t._e(),t._v(" "),t.roundCorner||t.roundCornerBottomRight?i("svg-icon",{staticClass:"corner corner_bottom-right",style:t.cornerStyle,attrs:{"aria-hidden":"true",name:"border-radius"}}):t._e()],1),t._v(" "),i("div",{staticClass:"video-player__controls"},[t.showPlayControl?i("ui-icon",{staticClass:"control_play",style:t.playControlStyle,attrs:{name:"play-o",role:"button","aria-label":"播放"},nativeOn:{click:function(e){return t.onClickPlayControl.apply(null,arguments)}}}):t._e(),t._v(" "),t.showSoundControl?i("div",[t.isMuted?i("div",{directives:[{name:"active",rawName:"v-active.stop",value:t.isSoundControlInteractive,expression:"isSoundControlInteractive",modifiers:{stop:!0}}],staticClass:"control_sound active__opacity",style:t.soundControlStyle,attrs:{role:"button","aria-label":"打开声音","data-report-id":t.M_itemReportId(t.muteReportId)},on:{click:t.onClickSoundControl}},[i("svg-icon",{staticClass:"control_mute",attrs:{name:"mute"}})],1):i("div",{directives:[{name:"active",rawName:"v-active.stop",value:t.isSoundControlInteractive,expression:"isSoundControlInteractive",modifiers:{stop:!0}}],staticClass:"control_sound active__opacity",style:t.soundControlStyle,attrs:{role:"button","aria-label":"关闭声音","data-report-id":t.M_itemReportId(t.phonicReportId)},on:{click:t.onClickSoundControl}},[i("svg-icon",{staticClass:"control_unmute",attrs:{name:"unmute"}})],1)]):t._e()],1)])}),[],!1,null,"75550744",null).exports,u={components:{StaticVideoPlayer:d},inject:{registerVideoPlayer:{default:function(){return function(){}}},unregisterVideoPlayer:{default:function(){return function(){}}},updateGlobalMuteState:{default:function(){return function(){}}},markComponentTemporaryIdle:{default:function(){return function(){}}}},props:{src:{type:String},poster:{type:String,default:""},autoplay:{type:Boolean,default:!1},isPlayControlInteractive:{type:Boolean,default:!1},isSoundControlInteractive:{type:Boolean,default:!0},lazyInit:{type:Boolean,default:!0},destroyIdle:{type:Boolean,default:!1},intersectionThreshold:{type:Number,default:.7},intersectionThresholdPlaying:{type:Number,default:0},intersectionThresholdPausing:{type:Number,default:0},triggerPlayOnce:{type:Boolean,default:!1},groupKey:{type:String,default:""},playSuccessivelyInGroup:{type:Boolean,default:!1}},data:function(){return{canPlay:!1,isPlaying:!1,isPlayingBefore:!1,isMuted:!0,hasBeenInited:!1,latestPlaybackPosition:0,triggerPlayTimestamp:0,hasBeenPlayed:!1,hasTimeUpdated:!1,latestTimestampUpdating:0,accumulativePlayingTime:0,accumulativePlayingTimeWithSound:0,showVideoManual:!0}},computed:{showVideo:function(){return this.lazyInit?!!this.src&&this.hasBeenInited:!!this.src||!0},keepIdle:function(){return!(this.isPlaying||!this.hasBeenPlayed||!this.triggerPlayOnce)}},watch:{src:function(){this.isPlaying&&this.playImpl()}},created:function(){this.invokeMethod=s.f.debounce((function(t){if("play"===t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];this.play.apply(this,i)}else"pause"===t&&this.pause()}),300),this.heartbeatStat=s.f.throttle((function(t,e){this.$emit("stat:accumulativeplayingtime",t,e)}),500)},activated:function(){this.activatedHandler()},deactivated:function(){this.deactivatedHandler()},mounted:function(){var t=this;this.registerVideoPlayer(this),this.$nextTick((function(){o.b.onWebviewResume(t.activatedHandler),o.b.onWebviewPause(t.deactivatedHandler),t.autoplay?t.play():t.lazyInit||t.initIfNotExist()}))},beforeDestroy:function(){o.b.offWebviewResume(this.activatedHandler),o.b.offWebviewPause(this.deactivatedHandler),this.unregisterVideoPlayer(this),this.pause()},methods:{handleVideoEvent:function(t){var e,i=+Date.now();"triggerplay"===t&&(this.triggerPlayTimestamp=i);for(var n=i-this.triggerPlayTimestamp,a=arguments.length,s=new Array(a>1?a-1:0),o=1;o<a;o++)s[o-1]=arguments[o];(e=console).log.apply(e,["[video] ".concat(t,": ").concat(this.src," after ").concat(n," in ").concat(i)].concat(s)),this.$emit.apply(this,["video:".concat(t),i,n].concat(s)),this.$emit.apply(this,["video:event",t,i,n].concat(s))},statVideoAccumulativePlayingTime:function(){if(this.latestTimestampUpdating>0){var t=+Date.now()-this.latestTimestampUpdating;this.accumulativePlayingTime+=t,this.isMuted||(this.accumulativePlayingTimeWithSound+=t)}this.latestTimestampUpdating=+Date.now(),this.heartbeatStat(this.accumulativePlayingTime,this.accumulativePlayingTimeWithSound)},initIfNotExist:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.hasBeenInited?this.$refs.video&&e(this.$refs.video):(this.hasBeenInited=!0,this.$nextTick((function(){var i=t.$refs.video;i?(i.addEventListener("loadedmetadata",(function(){t.handleVideoEvent("loadedmetadata",Math.round(1e3*i.duration))})),i.addEventListener("waiting",(function(){t.handleVideoEvent("waiting")})),i.addEventListener("suspend",(function(){t.handleVideoEvent("suspend")})),i.addEventListener("abort",(function(){t.handleVideoEvent("abort")})),i.addEventListener("canplay",(function(){t.handleVideoEvent("canplay")})),i.addEventListener("canplaythrough",(function(){t.handleVideoEvent("canplaythrough")})),i.addEventListener("emptied",(function(){t.handleVideoEvent("emptied")})),i.addEventListener("loadeddata",(function(){t.handleVideoEvent("loadeddata")})),i.addEventListener("stalled",(function(){t.handleVideoEvent("stalled")})),i.addEventListener("error",(function(){t.handleVideoEvent("error")})),i.addEventListener("ended",(function(){t.handleVideoEvent("ended"),t.playSuccessivelyInGroup?(t.pause(),t.showVideoManual=!1,t.markComponentTemporaryIdle(t)):t.playImpl()})),i.addEventListener("timeupdate",(function(){t.hasTimeUpdated||(t.canPlay||(t.canPlay=!0),t.hasTimeUpdated=!0,t.handleVideoEvent("timeupdateforthefirsttime")),t.statVideoAccumulativePlayingTime()})),e(i)):t.hasBeenInited=!1})))},play:function(t){this.showVideoManual=!0,this.isPlaying?this.updateLocalMuteState(t):(this.handleVideoEvent("triggerplay",this.hasBeenPlayed),this.hasTimeUpdated=!1,this.playImpl(t))},playImpl:function(t){var e=this;this.initIfNotExist((function(i){i.src!==e.src&&(e.src?(i.src=e.src,i.load()):(i.removeAttribute("src"),i.load())),e.hasBeenPlayed||(e.hasBeenPlayed=!0),e.isPlaying=!0,e.src?(e.updateLocalMuteState(t),i.play().then((function(){e.handleVideoEvent("triggerplaysucc")})).catch((function(t){e.handleVideoEvent("triggerplayfail",t)}))):e.handleVideoEvent("emptysrcwhileplaying")}))},pause:function(){this.isPlaying&&(this.latestTimestampUpdating=0,this.heartbeatStat(this.accumulativePlayingTime,this.accumulativePlayingTimeWithSound),this.pauseImpl())},pauseImpl:function(){var t=this.$refs.video;t&&(t.pause(),this.latestPlaybackPosition=t.currentTime,this.handleVideoEvent("triggerpause",Math.round(1e3*this.latestPlaybackPosition)),this.destroyIdle&&(t.removeAttribute("src"),t.load())),this.isPlaying=!1},reset:function(){this.$refs.video&&(this.pause(),this.$refs.video.currentTime=0,this.latestPlaybackPosition=0)},mute:function(){this.$refs.video&&(this.$refs.video.muted=!0,this.isMuted=!0)},unmute:function(){this.$refs.video&&(this.$refs.video.muted=!1,this.isMuted=!1)},updateLocalMuteState:function(t){"boolean"==typeof t&&(t?this.mute():this.unmute())},onTapPlay:function(t){this.isPlayControlInteractive&&this.play(),this.$emit("tap:play",t)},onTapSound:function(t,e,i,n){this.isSoundControlInteractive&&(this.isMuted?this.unmute():this.mute(),this.updateGlobalMuteState(this.isMuted)),this.$emit("tap:sound",t,e,i,n)},deactivatedHandler:function(){this.isPlayingBefore=this.isPlaying,this.isPlaying&&this.pause()},activatedHandler:function(){this.isPlayingBefore&&this.play()}}},p=(i(1526),Object(l.a)(u,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("static-video-player",t._b({attrs:{"is-playing":t.isPlaying,"is-muted":t.isMuted},on:{"tap:play":t.onTapPlay,"tap:sound":t.onTapSound},scopedSlots:t._u([{key:"media",fn:function(){return[t.showVideo?i("video",{ref:"video",staticClass:"video-player__media",class:{visible:t.canPlay&&t.showVideoManual},attrs:{muted:"","webkit-playsinline":"",playsinline:""},domProps:{muted:!0}}):t._e()]},proxy:!0},{key:"default",fn:function(){return[t._t("default",null,{type:"normal"})]},proxy:!0}],null,!0)},"static-video-player",Object.assign({},t.$props,t.$attrs),!1))}),[],!1,null,"40dc2a3e",null).exports),h=new Map,m={components:{NormalVideoPlayer:p},props:{exportId:{type:String,default:""},nonceId:{type:String,default:""},liveStreamUrlLazyFetch:{type:Boolean,default:!1}},data:function(){return{liveVideoSrc:"",updateLiveVideoSrcHandler:s.f.debounce(this.updateLiveVideoSrc,100)}},watch:{exportId:{handler:function(){this.updateLiveVideoSrcHandler()},immediate:!0},nonceId:{handler:function(){this.updateLiveVideoSrcHandler()},immediate:!0}},methods:{updateLiveVideoSrc:function(){var t=this,e=+Date.now();this.$emit("live:geturlstart"),function(t,e){if(!t||!e)return Promise.resolve("");var i="".concat(t,"-").concat(e);return h.get(i)?Promise.resolve(h.get(i)):s.g.getFinderLivePreviewUrl({encryptedId:t,nonceId:e,scene:114}).then((function(t){return h.set(i,t),t})).catch((function(){return""}))}(this.exportId,this.nonceId).then((function(i){t.liveVideoSrc=i,i?t.$emit("live:geturlsucc",+Date.now()-e):t.$emit("live:geturlfail",+Date.now()-e)}))}}},f=Object(l.a)(m,(function(){var t=this.$createElement;return(this._self._c||t)("normal-video-player",this._g(this._b({attrs:{"lazy-init":!1,"destroy-idle":!0,src:this.liveVideoSrc}},"normal-video-player",this.$attrs,!1),this.$listeners),[this._t("default",null,{type:"live"})],2)}),[],!1,null,null,null).exports,v={props:{poster:{type:String,default:""},text:{type:String,default:"直播已结束"}}},y=(i(1527),Object(l.a)(v,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"video-player-mask_live-end"},[e("div",{directives:[{name:"image",rawName:"v-image:color",value:this.poster,expression:"poster",arg:"color"}],staticClass:"video-player-mask__bg"}),this._v(" "),e("div",{staticClass:"video-player-mask__bd"},[e("ui-image",{staticClass:"video-player-mask__icon",attrs:{url:"https://res.wx.qq.com/a/fed_upload/4e09c767-7238-4dab-bb48-8da245eeb470/live_icon.svg",size:20}}),this._v(" "),e("div",{staticClass:"video-player-mask__text"},[this._v(this._s(this.text))])],1)])}),[],!1,null,"1b5b9f7a",null).exports),g={props:{tag:{type:Object,default:function(){return{}}},likeNum:{type:[Number,String],default:""},watchNum:{type:[Number,String],default:""},duration:{type:String,default:""},durationInSeconds:{type:Number,default:0},trending:{type:Boolean,default:!1}}},_=(i(1528),Object(l.a)(g,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"video-player-mask"},[t.tag.title?i("ui-tag",{staticClass:"video-player-mask__tag_left-top",attrs:{title:t.tag.title,type:t.tag.type}}):t._e(),t._v(" "),i("div",{staticClass:"video-player-mask__bottom"},[i("div",{staticClass:"video-player-mask__bottom-left"}),t._v(" "),i("div",{staticClass:"video-player-mask__bottom-middle"}),t._v(" "),i("div",{staticClass:"video-player-mask__bottom-right"},[t.watchNum?i("div",{staticClass:"video-player-mask__mark"},[i("svg-icon",{attrs:{"class-name":"video-player-mask__mark__icon",name:"watch"}}),t._v(" "),i("div",[t._v(t._s(t.watchNum))]),t._v(" "),t.trending?i("svg-icon",{attrs:{"class-name":"video-player-mask__mark__icon_trending",name:"top"}}):t._e()],1):t.likeNum?i("div",{staticClass:"video-player-mask__mark"},[i("svg-icon",{attrs:{"class-name":"video-player-mask__mark__icon",name:"like"}}),t._v(" "),i("div",[t._v(t._s(t.likeNum))]),t._v(" "),t.trending?i("svg-icon",{attrs:{"class-name":"video-player-mask__mark__icon_trending",name:"top"}}):t._e()],1):t.duration||t.durationInSeconds?i("div",{staticClass:"video-player-mask__mark"},[t.duration?i("div",[t._v(t._s(t.duration))]):i("div",[t._v(t._s(t._f("mmss")(1e3*t.durationInSeconds)))]),t._v(" "),t.trending?i("svg-icon",{attrs:{"class-name":"video-player-mask__mark__icon_trending",name:"top"}}):t._e()],1):t._e()])])],1)}),[],!1,null,"7a8b5222",null).exports),b=(i(52),i(61)),x=i(16),C=i(2),I=["eventName"],T={components:{VideoPlayerMaskLiveEnd:y,VideoPlayerMaskNormal:_},mixins:[s.j,s.l],props:{src:{type:String,default:""},poster:{type:String,default:""},exportId:{type:String,default:""},nonceId:{type:String,default:""},pollingCgi:{type:Object,default:function(){return{}}},static:{type:Boolean,default:!1},liveStream:{type:Boolean,default:!1},liveStreamEnded:{type:Boolean,default:!1},liveStreamEndedText:{type:String,default:""},tag:{type:Object,default:function(){return{}}},likeNum:{type:[Number,String],default:""},watchNum:{type:[Number,String],default:""},duration:{type:String,default:""},durationInSeconds:{type:Number,default:0},trending:{type:Boolean,default:!1},isPlayControlInteractive:{type:Boolean,default:!1},isSoundControlInteractive:{type:Boolean,default:!0},monitorPlayControlInteraction:{type:Boolean,default:!1},monitorSoundControlInteraction:{type:Boolean,default:!1},data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}},typePos:{type:Number,default:0},pos:{type:Number,default:0},reportItem:{type:Object,default:function(){return{}}}},data:function(){return{pollingLiveStreamEnded:!1,firstTimeUpdateInterval:0,totalTime:0}},computed:{renderComponent:function(){return this.static?d:this.isLiveStream?s.b.os.pc||this.isLiveStreamEnded?d:f:this.src?p:d},isLiveStream:function(){return this.liveStream||!!this.exportId&&!!this.nonceId},isLiveStreamEnded:function(){return this.liveStreamEnded||this.pollingLiveStreamEnded},businessType:function(){return this.data&&(this.data.real_type||this.data.type)},businessSubType:function(){return this.data&&this.data.subType},businessDocId:function(){return this.item&&this.item.docID}},watch:{pollingCgi:{handler:function(){this.updatePollingCgiLogic()},immediate:!0}},created:function(){this.eventQueue=[],this.statVideoAccumulativePlayingTime=s.f.throttle((function(t,e){var i,n;this.$emit("stat:accumulativeplayingtime",t,e),this.businessType&&s.e.reportCommonKv(b.a.videoBusiness,[s.b.searchId,s.b.sessionId,x.a.state.result.requestId||x.a.state.result.previousRid,s.b.type,s.b.parentSearchID,s.b.isHomePage,s.b.scene,s.b.query,s.b.netType,this.businessType||0,this.businessSubType||0,this.businessDocId||"",this.pos||0,+Date.now(),this.firstTimeUpdateInterval,this.totalTime,t,e,(null===(i=this.item)||void 0===i||null===(n=i.jumpInfo)||void 0===n?void 0:n.feedId)||"",this.pos])}),1e3)},destroyed:function(){this.clearPollingCgiTimer(),this.eventQueue.splice()},methods:{clearPollingCgiTimer:function(){this.pollingCgiTimer&&clearInterval(this.pollingCgiTimer)&&(this.pollingCgiTimer=null)},updatePollingCgiLogic:function(){var t=this;this.clearPollingCgiTimer(),this.isLiveStream&&this.pollingCgi&&this.pollingCgi.name&&(this.pollingCgiTimer=setInterval((function(){s.g.getCommonCgiData({cgiName:t.pollingCgi.name,data:t.pollingCgi.params}).then((function(e){e&&e.data&&0==e.data.liveStatus&&(t.pollingLiveStreamEnded=!0,t.clearPollingCgiTimer())}))}),Math.max(this.pollingCgi.interval||2e4,4e3)))},onTapPlay:function(t){(this.isPlayControlInteractive||this.monitorPlayControlInteraction)&&t.stopPropagation(),this.monitorPlayControlInteraction&&this.$emit("tap:play")},onTapSound:function(t,e,i,n){(this.isSoundControlInteractive||this.monitorSoundControlInteraction)&&t.stopPropagation(),this.monitorSoundControlInteraction&&this.$emit("tap:sound",e),this.businessType&&this.M_clickReport({pageNo:this.item.vuePage||this.data.vuePage,businessType:this.businessType,resultSubType:this.businessSubType,title:this.item.title,jumpUrl:this.item.jumpUrl||"",docId:this.item.docID||"",boxId:this.data.boxID,pos:this.pos||0,docPos:this.pos||0,typePos:this.typePos||0,sceneActionType:s.b.sceneActionType,resultType:this.data.resultType,requestId:this.$store.state.result.previousRid,parentSearchID:s.b.parentSearchID,reqBusinessType:s.b.type,timestamp:+new Date,expand:this.item.expand||"",docCookie:this.item.docCookie||"",DocExpand:this.item.DocExpand||"",clickContent:e?"取消静音":"静音",reportItem:this.reportItem},{reportId:i,actionType:e?C.g.VIDEO_PHONIC:C.g.VIDEO_MUTE,itemPos:n})},onVideoEvent:function(t,e,i){for(var n={eventName:t,ts:e,interval:i},a=arguments.length,s=new Array(a>3?a-3:0),o=3;o<a;o++)s[o-3]=arguments[o];switch(t){case"triggerplay":var r=s[0];Object.assign(n,{hasBeenPlayed:r});break;case"triggerplayfail":var c=s[0];c&&c instanceof Error&&Object.assign(n,{error:{code:c.code,name:c.name,message:c.message}});break;case"triggerpause":var l=s[0];l>0&&Object.assign(n,{pausePosition:l});break;case"loadedmetadata":var d=s[0];d>0&&(Object.assign(n,{duration:d}),this.totalTime=d);break;case"timeupdateforthefirsttime":this.firstTimeUpdateInterval=n.interval}this.eventQueue.push(n),["triggerplayfail","triggerpause"].indexOf(t)>=0&&this.reportPerformance(),this.$emit.apply(this,["video:event",t,e,i].concat(s))},onStatAccumulativePlayingTime:function(t,e){this.statVideoAccumulativePlayingTime(t,e)},reportPerformance:function(){if(!(this.eventQueue.length<=0)){var t="",e=!1,i=0,n=0,o=0;this.eventQueue.forEach((function(s){var r=s.eventName,c=a()(s,I);switch(r){case"triggerplay":e=c.hasBeenPlayed;break;case"triggerplayfail":t=c.error&&c.error.message||"";break;case"timeupdateforthefirsttime":i=c.interval;break;case"loadedmetadata":n=c.interval,o=c.duration}})),s.e.reportCommonKv(b.a.videoPerformance,[s.b.netType,this.isLiveStream?encodeURIComponent("live_".concat(this.exportId,"_").concat(this.nonceId)):encodeURIComponent(this.src),encodeURIComponent(JSON.stringify(this.eventQueue)),o||this.totalTime,encodeURIComponent(t),+e,i,n]),this.eventQueue.splice(0)}},play:function(){var t=this.$refs.componentRef;t&&"function"==typeof t.play&&t.play()},pause:function(){var t=this.$refs.componentRef;t&&"function"==typeof t.pause&&t.pause()}}},S=(i(1529),Object(l.a)(T,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(t.renderComponent,t._g(t._b({ref:"componentRef",tag:"component",on:{"tap:play":t.onTapPlay,"tap:sound":t.onTapSound,"video:event":t.onVideoEvent,"stat:accumulativeplayingtime":t.onStatAccumulativePlayingTime},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.type;return[t.isLiveStream&&t.isLiveStreamEnded?i("video-player-mask-live-end",{attrs:{poster:t.poster,text:t.liveStreamEndedText}}):i("video-player-mask-normal",{attrs:{tag:t.tag,"like-num":t.likeNum,"watch-num":t.watchNum,duration:t.duration,"duration-in-seconds":t.durationInSeconds,trending:t.trending}}),t._v(" "),i("div",{staticClass:"video-player__insert-layer"},[t._t("default",null,{type:n})],2)]}}],null,!0)},"component",Object.assign({},t.$attrs,t.$props),!1),t.$listeners))}),[],!1,null,"7b9104d5",null));e.a=S.exports},719:function(t,e,i){"use strict";var n=i(699),a=i(15),s={props:{end:{type:Function,default:function(){}},scroll:{type:Function,default:function(){}},expose:{type:Function,default:function(){}},analysis:{type:Function,default:function(){}},exposeOption:{type:Object,default:function(){return{}}},on:{type:Boolean,default:!0},attr:{type:String,default:void 0}},data:function(){return{exposeInstance:null,analysisTimer:null,scrollTimer:null}},mounted:function(){var t=this;window.addEventListener("scroll",t.onscroll,!1),window.addEventListener("resize",t._analysis,!1),setTimeout((function(){t.exposeInstance=new n.Expose((function(e,i){t.expose(e,i)}),Object.assign({container:t.$el},t.exposeOption)),t._analysis(t.attr)}))},destroyed:function(){this._destroy()},updated:function(){var t=this;setTimeout((function(){t._analysis(t.attr)}))},methods:{_destroy:function(){this.exposeInstance&&this.exposeInstance.destory(),window.removeEventListener("scroll",this.onscroll),window.removeEventListener("resize",this._analysis)},_scrollFn:function(){this.scroll(),this._isScrollToEnd()&&this.end()},_throttle:a.a.throttle((function(){this._scrollFn()})),_isScrollToEnd:function(){var t=window.innerHeight||document.documentElement.clientHeight,e=window.pageYOffset||document.documentElement.scrollTop;return this.$root.$el.scrollHeight-e-t-(parseFloat(getComputedStyle(document.body).getPropertyValue("--SAFE-BOTTOM"))||0)<=44},_analysis:function(){this.analysis(),this.exposeInstance.analysis(this.attr)},onscroll:function(){var t=this;t.on&&(t._throttle(),t.scrollTimer&&clearTimeout(t.scrollTimer),t.scrollTimer=setTimeout((function(){t._scrollFn()}),200))}}},o=i(32),r=Object(o.a)(s,(function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)}),[],!1,null,null,null);e.a=r.exports},767:function(t,e,i){"use strict";var n=i(1),a=i.n(n),s=i(199),o=i(7),r={mixins:[s.a],props:{data:{type:Object,default:function(){return{}}}},data:function(){return{reasons:[]}},computed:{renderReasons:{set:function(t){this.reasons=t},get:function(){return this.reasons.length?this.reasons:this.data.reasons}},showButton:function(){return this.renderReasons.some((function(t){return t.checked}))}},created:function(){var t=this;o.a.$on(o.b.negativeHide,(function(){t.renderReasons=[]}))},methods:{tapJump:function(){this.$emit("tapJump")},tapConfirm:function(){this.$emit("tapConfirm",this.renderReasons)},tapReason:function(t,e){this.renderReasons=this.renderReasons.map((function(t,i){return e==i?Object.assign({},t,{checked:t.checked?0:1}):t}))}}},c=(i(1499),i(32)),l=Object(c.a)(r,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrap"},[i("div",{staticClass:"header line"},[i("div",{staticClass:"title line__item"},[i("p",{staticClass:"title__word"},[t._v("\n        "+t._s(t.data.title)+"\n      ")])]),t._v(" "),i("div",{staticClass:"button line__item primary no-wrap"},[t.showButton?i("div",{staticClass:"weui-btn weui-btn_mini weui-btn_primary",on:{click:t.tapConfirm}},[t._v("\n        "+t._s(t.data.confirm.title)+"\n      ")]):t._e()])]),t._v(" "),i("div",{staticClass:"reasons"},t._l(t.renderReasons,(function(e,n){return i("div",{key:e.wording,staticClass:"reason",class:{reason__checked:e.checked},on:{click:function(i){return t.tapReason(e,n)}}},[t._v("\n      "+t._s(e.wording)+"\n    ")])})),0),t._v(" "),i("div",{staticClass:"jump",on:{click:t.tapJump}},[i("div",{staticClass:"jump-in"},[t._v("\n      "+t._s(t.data.complaint.title)+"\n    ")])])])}),[],!1,null,"d28ecc42",null).exports,d={props:{data:{type:Object,default:function(){return{}}}},methods:{tap:function(){this.$emit("tapJump")}}},u=(i(1500),Object(c.a)(d,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"n-plain",on:{click:this.tap}},[this._v("\n  "+this._s(this.data.complaint.title)+"\n")])}),[],!1,null,"3921f578",null).exports),p=new(i(14).a)({withReason:1,plain:2}),h={components:{withReason:l,plain:u},props:{data:{type:Object,default:function(){return{}}}},data:function(){return{types:p}},methods:{tapJump:function(){var t=this.data.complaint;this.$emit("tapJump",t)},tapConfirm:function(t){this.$emit("tapConfirm",{confirm:this.data.confirm,feedback:{reasons:t,title:this.data.title}})}}},m=(i(1501),Object(c.a)(h,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e(this.types[this.data.type],{tag:"component",attrs:{data:this.data},on:{tapJump:this.tapJump,tapConfirm:this.tapConfirm}})],1)}),[],!1,null,null,null).exports),f=i(44),v=i(34),y=i(0);function g(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function _(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?g(Object(i),!0).forEach((function(e){a()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var b={components:{pop:m},mixins:[s.a],props:{data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}},pos:{type:Number,default:0},typePos:{type:Number,default:0},needWords:{type:Boolean,default:!1}},computed:{feedback:function(){return this.item.feedback},popData:function(){if(!this.feedback)return!1;var t=(this.$store.state.result.self.resultObj.feedback||{})[this.feedback.id];return!!t&&Object.assign({},t,this.feedback)}},created:function(){o.a.$on(o.b.viewChange,this._hide)},destroyed:function(){o.a.$off(o.b.viewChange,this._hide)},methods:{_hide:function(){this.$refs&&this.$refs.popOver&&this.$refs.popOver.hide()},_makeUrlPamrams:function(){var t=this;return _(_({},t.base),{},{clientType:t.data.real_type||t.data.type,subType:t.data.subType||0,docID:t.item.docID||"",boxID:t.data.boxID||"",boxPos:t.typePos||0,docPos:t.pos||0,docUrl:t.item.jumpUrl||t.item.doc_url||t.item.weappUrl||""})},onHide:function(){o.a.$emit(o.b.negativeHide)},tap:function(){this._hide()},tapJump:function(t){if(this.needWords&&this.data.items.length&&t.jumpUrl&&!t.jumpUrl.includes("relatedWords")){var e=this.data.items.map((function(t){return t.word||""})).join("|");t.jumpUrl=this.M_composeUrl(t.jumpUrl,{relatedWords:e,query:y.b.query})}this.M_go({jumpUrl:this.M_composeUrl(t.jumpUrl,this._makeUrlPamrams())}),this._hide()},tapConfirm:function(t){var e=Object.assign(this._makeUrlPamrams(),{clientTimeStamp:"".concat(+new Date),feedback:t.feedback});f.a.commonCgi({cgiName:t.confirm.cgiName||v.a.negativeFeedBack,data:e}),this.$refs.popOver.hide(),o.a.$emit(o.b.showToast,{text:"已反馈"})}}},x=(i(1502),Object(c.a)(b,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.popData?i("PopOver",{ref:"popOver",staticClass:"negative__wrap expand-hotspot",attrs:{"class-name":"negative__outter"},on:{hide:t.onHide},nativeOn:{click:function(t){t.stopPropagation()},touchstart:function(t){t.stopPropagation()},touchmove:function(t){t.stopPropagation()}},scopedSlots:t._u([{key:"trigger",fn:function(){return[i("svg-icon",{staticClass:"source__negative",attrs:{name:"negative_button","aria-hidden":"true"}})]},proxy:!0},{key:"content",fn:function(){return[i("pop",{attrs:{data:t.popData},on:{tapJump:t.tapJump,tapConfirm:t.tapConfirm}})]},proxy:!0}],null,!1,582450734)}):t._e()}),[],!1,null,null,null));e.a=x.exports},795:function(t,e,i){"use strict";var n=i(1),a=i.n(n),s=i(699),o=i(7),r=!1;try{var c={get passive(){return r={passive:!0},!0}};window.addEventListener("test",c,c),window.removeEventListener("test",c,c)}catch(t){r=!1}function l(t){var e=this;(t=Object.assign({isBindScrollAtContainer:!1,container:document.body,exposeRepeatedly:!1,isHorizontal:!1,attrList:[],ensureWithinContainer:!1},t)).container=t.container||document.body,this.opt=t,this.timeout=null,this.exposedId=[],this.exposeIdForTime=[],this.exposeIdMapForTime={},this.onScroll=function(){clearTimeout(e.timeout),e.timeout=setTimeout((function(){e.analysis()}),t.time||200)},this.resetExposeId=function(t){e.exposedId=[],e.exposeIdForTime=[],e.exposeIdMapForTime={}},t.isBindScrollAtContainer?t.container.addEventListener("scroll",this.onScroll,r):window.addEventListener("scroll",this.onScroll,r),o.a.$on(o.b.newSearchArrived,this.resetExposeId)}function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){a()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}l.prototype.batchCheckElementExpose=function(){var t=this;Object.keys(this.exposeIdMapForTime).forEach((function(e){t.exposeIdMapForTime[e].checkElementExpose()}))},l.prototype.analysis=function(){var t=this;this.batchCheckElementExpose(),this.bounceW=window.innerWidth,this.bounceH=window.innerHeight,this.opt.attrList.forEach((function(e){for(var i=t.opt.container.querySelectorAll("[".concat(e.exposeId,"]")),n=[],a={height:{}},s=t.opt.container.getBoundingClientRect(),o=function(o,r){var c=i[o],l=c.getBoundingClientRect(),d=+c.getAttribute("data-expose-px")||0,u=+c.getAttribute("data-expose-ratio")||.5,p=+c.getAttribute("data-expose-time")||1e3,h=u,m=u,f=c.getAttribute(e.exposeId);if(!f)return"continue";if(l.left+l.right===0||l.top+l.bottom===0)return"continue";if(d&&l.height&&l.width&&(h=d/l.height,m=d/l.width),t.opt.ensureWithinContainer){var v=Math.max(l.left,s.left),y=Math.max(l.top,s.top),g=Math.min(l.left+l.width,s.left+s.width),_=Math.min(l.top+l.height,s.top+s.height);if(v>=g||y>=_)return"continue";if(l.width*l.height*u>(g-v)*(_-y))return"continue"}if(Math.floor(l.left+l.width*m)<=t.bounceW&&Math.floor(l.top+l.height*h)<=t.bounceH){if(t.exposedId.includes(f)||(t.exposedId.push(f),n.push(f)),e.handler.onStayTimeExpose&&!t.exposeIdForTime.includes(f)&&!t.exposeIdMapForTime[f]){var b=function(){var e=t.exposeIdMapForTime[f];e&&e.timer&&(clearTimeout(e.timer),e.timer=0,delete t.exposeIdMapForTime[f])},x=function(){var e=c.getBoundingClientRect();if(e.left+e.right===0||e.top+e.bottom===0)return b(),!1;var i=Math.floor(e.left+e.width*m),n=Math.floor(e.top+e.height*h);return!!(e.right>0&&i<=t.bounceW&&e.bottom>0&&n<=t.bounceH)||(b(),!1)};Date.now();t.exposeIdMapForTime[f]={timer:setTimeout((function(){x()&&(t.exposeIdForTime.push(f),e.handler.onStayTimeExpose([f])),b()}),p),checkElementExpose:x}}a.height[f]=l.height}},r=0,c=i.length;r<c;++r)o(r);e.handler.onSimpleExpose&&e.handler.onSimpleExpose(n,a)}))},l.prototype.destory=function(){o.a.$off(o.b.newSearchArrived,this.resetExposeId),this.opt.isBindScrollAtContainer?this.opt.container.removeEventListener("scroll",this.onScroll,!1):window.removeEventListener("scroll",this.onScroll,!1)};var p={props:{exposeOption:{type:Object,default:function(){return{}}},attr:{type:String,default:"data-report-id"},observerOption:{type:Object,default:function(){return{}}},instanceType:{type:String,default:""}},data:function(){return{exposeInstance:null,mutationObserver:null}},created:function(){var t=this;this.$nextTick((function(){t.createExpose(),t.bindMutationObserver()})),window.addEventListener("resize",this.analysisExpose,!1),o.a.$on(o.b.resultExposeAnalysis,this.analysisExpose),o.a.$on(o.b.exposeAnalysis,this.analysisExpose)},beforeDestroy:function(){this.destroyExpose(),this.unBindMutationObserver(),window.removeEventListener("resize",this.analysisExpose,!1),o.a.$off(o.b.resultExposeAnalysis,this.analysisExpose),o.a.$off(o.b.exposeAnalysis,this.analysisExpose)},methods:{bindDebounceObserver:function(){var t=this;this.observerTimer&&(clearTimeout(this.observerTimer),this.observerTimer=0),this.observerTimer=setTimeout((function(){t.analysisExpose()}),this.observerOption.time||100)},bindMutationObserver:function(){var t=this;this.mutationObserver=new MutationObserver((function(){t.bindDebounceObserver()})),this.mutationObserver.observe(this.$el,{childList:!0,subtree:!0})},unBindMutationObserver:function(){this.mutationObserver&&this.mutationObserver.disconnect(),this.mutationObserver=null},destroyExpose:function(){this.exposeInstance&&this.exposeInstance.destory(),this.exposeInstance=null},analysisExpose:function(){this.exposeInstance&&this.exposeInstance.analysis()},resetExposeId:function(){this.exposeInstance&&this.exposeInstance.resetExposeId()},getExposeInstance:function(){return this.exposeInstance||{}},newExpose:function(){var t=this;return"ad-zone"===this.instanceType?new l(u({container:this.$el},this.exposeOption)):new s.Expose((function(e){e.length&&t.$emit("expose",e)}),u({container:this.$el,attr:this.attr},this.exposeOption))},createExpose:function(){var t=this;this.exposeInstance=this.newExpose(),setTimeout((function(){t.analysisExpose()}))}}},h=i(32),m=Object(h.a)(p,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"exposure-block"},[this._t("default")],2)}),[],!1,null,null,null);e.a=m.exports},802:function(t,e,i){"use strict";var n=i(699),a={props:{list:{type:Array,default:function(){return[]}},gap:{type:Number,default:8},width:{type:String,default:"30%"},exposeAttr:{type:String,default:""}},computed:{itemStyle:function(){return{marginLeft:"".concat(this.gap,"px"),width:this.width}}},mounted:function(){var t=this;this.$nextTick((function(){t.initExpose(),t.executeExpose()}))},beforeDestroy:function(){this.destroyExpose()},updated:function(){this.executeExpose()},methods:{scroll:function(){var t=this;this.$emit("scroll"),this.$nextTick((function(){t.executeExpose()}))},initExpose:function(){var t=this,e=this.$refs.bdRef;e&&(this.expose=new n.Expose((function(e){e.length>0&&t.$emit("expose",e)}),{container:e,ensureWithinContainer:!0}))},destroyExpose:function(){this.expose&&(this.expose.destory(),this.expose=null)},executeExpose:function(){this.expose&&this.exposeAttr&&this.expose.analysis(this.exposeAttr)}}},s=(i(1985),i(32)),o=Object(s.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"bdRef",staticClass:"horizontal-scroll"},[i("div",{staticClass:"horizontal-scroll__inner",on:{scroll:t.scroll}},t._l(t.list,(function(e,n){return i("div",{key:JSON.stringify(e),staticClass:"horizontal-scroll__item",style:t.itemStyle},[t._t("default",null,{item:e,index:n})],2)})),0)])}),[],!1,null,"20f2d75c",null);e.a=o.exports},828:function(t,e,i){},829:function(t,e,i){},830:function(t,e,i){},831:function(t,e,i){},836:function(t,e,i){},837:function(t,e,i){},854:function(t,e,i){},855:function(t,e,i){},856:function(t,e,i){},857:function(t,e,i){},858:function(t,e,i){},862:function(t,e,i){},863:function(t,e,i){}}]);