(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{1372:function(e,t,n){},2039:function(e,t,n){"use strict";n(1372)},2219:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(1435),o=n(0),s=n(34),c=n(2);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var u={name:"Index",mixins:[i.a],activated:function(){o.a.$emit(o.i.SEARCH_BAR_TRANSFER,this.$refs.SearchSlot),s.b.onRefresh(this.handleRefresh)},deactivated:function(){s.b.offRefresh(this.handleRefresh)},mounted:function(){var e=this;+o.b.type&&setTimeout((function(){e.getData({},+o.b.type,!1)}))},methods:{_handleExpose:function(e){var t=[],n=[];if(e.forEach((function(e){var r=e.split("#");"__hotword__"===r[0]&&(t.push(r[1]),n.push(r[2]))})),t.length||n.length){var r=["",2,t.join("_"),this.$store.state.index.data.searchID||"",o.b.sessionId||"",n.join(";")].join(",");o.g.commonCgi({cgiName:s.a.mmDataReport,data:{clientversion:Number(o.b.clientVersion),device:o.b.deviceType,item_list:[{logid:21103,log_buffer:r}]}})}},handleRefresh:function(){var e=this;this.$route.name===c.f.INDEX&&(o.a.$emit(o.i.goToPageIndex,{clear:!0}),this.$nextTick((function(){e.getData()})))},onTapVert:function(e,t){var n=this;this.showAllOperateItem=!1;var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({action:2},e);o.b.setValue({isSug:!!r.isSug,isLocalSug:!!r.isLocalSug,isHomePage:0==r.type?1:0,query:r.query||"",type:r.type,isVerticalSearch:0!=r.type}),this.hotwordMap[r.type]?setTimeout((function(){n.$store.commit("index/updateData",{data:n.hotwordMap[r.type]}),n.showAllOperateItem=!0,o.a.$emit(o.i.HOTWORD_ANIMATION_DONE,r.type)}),t.animation?300:0):this.getData({},r.type)}}},d=(n(2039),n(32)),l=Object(d.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"index__box",attrs:{"data-p-0bfpe":""}},[n("div",{staticClass:"gap1"}),e._v(" "),n("div",{staticClass:"index__logo"},[n("svg-icon",{attrs:{name:"search_brand"}}),e._v(" "),n("span",{staticClass:"title"},[e._v(e._s(e._f("L")("搜一搜")))])],1),e._v(" "),n("div",{staticClass:"gap2"}),e._v(" "),n("div",{ref:"SearchSlot",staticClass:"index__search"}),e._v(" "),n("div",{staticClass:"index__vert"},[n("vert-entries",{attrs:{items:e.vertEntries},on:{tap:e.onTap}})],1),e._v(" "),n("div",{staticClass:"gap3"}),e._v(" "),n("div",{staticClass:"index__box-wrap"},[n("transition",{attrs:{name:"allOperateItems"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showAllOperateItem,expression:"showAllOperateItem"}]},[e._l(e.ret,(function(t,r){return n("index-comp",e._b({key:t.realType,attrs:{"type-pos":r+1},on:{tap:e.onTap}},"index-comp",t,!1))})),e._v(" "),e.bottomData?n("bottom",{attrs:{data:e.bottomData},on:{"tap:setting":e.onTapSetting}}):e._e()],2)])],1),e._v(" "),n("div",{staticClass:"gap1"})])}),[],!1,null,"11134ef9",null);t.default=l.exports},686:function(e,t,n){},687:function(e,t,n){"use strict";n.r(t);var r=n(29),a=n.n(r),i=n(1),o=n.n(i),s=n(33),c=n.n(s),p=n(13),u=n(0),d=n(34),l=n(2),f=n(14),m=n(22),h=n(254);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v,y={openWeapp:"openWeApp",kvReport:"kvReport",sendEmotion:"sendEmotionMessage",openUrlWithExtraWebview:"openUrlWithExtraWebview",transferH5Data:"H5ExtTransfer",setWindowTheme:"SetWindowTheme",renderFinish:"renderFinish"},w=[y.kvReport,y.transferH5Data];function _(e,t,n){u.f.weixinJsApiReady((function(){w.indexOf(e),p.b.log({msg:JSON.stringify(t),key:e}),function(){var e=arguments;v?v.apply(WeixinJSBridge,arguments):document.addEventListener("PCWeixinJSBridgeReady",(function(){v.apply(WeixinJSBridge,e)}))}(e,t,n)}))}var O={openWeapp:function(e,t){if("wxdb2453762cc14cf3"===e.weappAppid||"gh_8e88e2b28133@app"===e.userName){if(u.b.os.mac)return void S();var n=e.weappUrl&&(e.weappUrl.indexOf(!1)||e.weappUrl.indexOf("pages/nucleic-select-location/index")>=0||e.weappUrl.indexOf("pages/nucleic-v8-select-location/index")>=0);if(u.b.os.windows&&n)return void S()}if("gh_af2a9332297a@app"===e.userName&&u.b.os.mac)S();else{var r=e.relativeURL;if(r){var a=r.split("?"),i=a[0],o=a[1];i&&!i.match(/.html$/)&&(o=o?"?".concat(o):"",e.relativeURL="".concat(i,".html").concat(o))}var s=Object.assign({scene:l.k.PC_WE_APP,searchId:u.b.searchId,sessionId:u.b.sessionId},e);_(y.openWeapp,s,t)}},openView:function(e){var t=e.actionType||l.k.WEBVIEW;if(3!==t)_(p.a.openView,g({actionType:t},e));else{var n=~~(0==+e.type);u.b.setValue({isHomePage:n,type:e.type});var r=e.extReqParams||e.extParams&&function(){var t=[];try{var n=JSON.parse(decodeURIComponent(e.extParams));n&&Object.keys(n).forEach((function(e){if("crossExtReqParams"===e)t=t.concat(n.crossExtReqParams);else{var r=n[e];t.push(o()({key:e},"number"==typeof r?"uintValue":"textValue",r))}}))}catch(e){}return t}();u.a.$emit(u.i.GOTO,Object.assign({page:l.f.RESULT,extReqParams:r,forceNavigateTo:!0,clearCategory:!n,searchId:""},e))}},startDetial:function(e){if(1===e.type){if(u.b.os.mac){if(e.bizuin)return void O.openView({jumpUrl:"https://mp.weixin.qq.com/mp/profile_ext?action=home&__biz=".concat(btoa(e.bizuin),"&scene=124#wechat_redirect"),type:2});if(e.brandInfo)try{var t=JSON.parse(e.brandInfo).urls[0].url;return void O.openView({jumpUrl:t,type:2})}catch(e){}}_(p.a.profile,{scene:"57",username:e.userName,details:{showName:e.nickName||"",headUrl:e.headImgUrl||"",signature:e.signature||""}})}else O.openView(e)},setInputBar:function(e){u.a.$emit(d.c.onInputChange,{word:e.query||e.word||"",docPos:e.pos||0,isInputChange:e.isInputChange||!1,tagList:e.tagList||[],custom:e.custom||""})},openSticker:function(e){_(y.sendEmotion,{md5:e.md5,aesKey:e.aesKey,encryptUrl:e.encryptUrl,url:e.thumb})},openFinderView:function(e){try{var t=JSON.parse(e.extInfo),n=t.exportId,r=t.objectId,a=t.objectNonceId;n?_(y.openUrlWithExtraWebview,{url:"https://channels.weixin.qq.com/web/pages/live?eid=".concat(encodeURIComponent(n)),openType:1}):r&&a&&_(y.openUrlWithExtraWebview,{url:"https://channels.weixin.qq.com/web/pages/live?oid=".concat(r,"&nid=").concat(a),openType:1})}catch(e){c.a.report("specialHandler[openFinderView] err: ".concat(JSON.stringify(e)))}},openFinderFeed:function(e){try{var t=JSON.parse(e.extInfo);_(y.openUrlWithExtraWebview,{url:"https://channels.weixin.qq.com/web/pages/feed?eid=".concat(encodeURIComponent(t.encryptedObjectId)),openType:1})}catch(e){c.a.report("specialHandler[openFinderFeed] err: ".concat(JSON.stringify(e)))}},openFinderProfile:function(e){e.userName&&_(y.openUrlWithExtraWebview,{url:"https://channels.weixin.qq.com/web/pages/profile?username=".concat(e.userName),openType:1})},getAvatar:function(e){_(p.a.getAvatar,e,(function(e){u.a.$emit(d.d.onImageReady,e)}))},selectContact:function(e){_(p.a.selectContact,e,(function(e){e&&void 0!==e.selected_user_name&&u.a.$emit(d.c.onSelectContact,Object.assign({ret:0,nickname:e.show_name,username:e.selected_user_name},e))}))},kvReport:function(e){_(y.kvReport,{id:e.logId,value:e.logString,is_important:e.is_important||0,is_report_now:e.is_report_now||1})}},j={transferH5Data:function(e){var t="(".concat(u.f.genStateKey(),") 请求CGI【").concat(e.url,"】 ");return new Promise((function(t,n){e.data&&Object.keys(e.data).forEach((function(t){void 0===e.data[t]&&delete e.data[t]}));var r={req_json:JSON.stringify(e.req_json||u.f.toUpperCaseFirstKeyForObj(e.data)),url:e.url,cgi_cmdid:e.cmdId,h5Version:u.b.version||80009235,scope:"search",is_security_check:!0};_(y.transferH5Data,r,(function(e){var r="error_msg（".concat(e&&e.jsapi_resp&&e.jsapi_resp.error_msg||e&&e.err_msg||e&&e.base_resp&&e.base_resp.error_msg,"）");if(e||n("response is empty 【".concat(r,"】")),e.jsapi_resp||n("response.jsapi_resp is empty 【".concat(r,"】")),0===e.jsapi_resp.ret){e.jsapi_resp.resp_json||n("response.jsapi_resp.resp_json is empty 【".concat(r,"】"));try{var a=JSON.parse(e.jsapi_resp.resp_json);t(a)}catch(e){n("JSON.parse err【error（".concat(JSON.stringify(e),"） ").concat(r,"】"))}}else n("response.jsapi_resp.ret !== 0【ret（".concat(e.jsapi_resp.ret,"）").concat(r,"】"))}))})).catch((function(e){var n="调用 ".concat(y.transferH5Data," ").concat(t," Error: ").concat(e);return c.a.report(n),{}}))},setWindowTheme:function(e){_(y.setWindowTheme,{background:e,type:"default"})},renderFinish:function(){_(y.renderFinish)}},x=j.transferH5Data,I={getResult:function(e){u.a.$emit(u.i.beforeGetResult,e);var t={cmdId:6423,url:"/cgi-bin/mmsearch-bin/mmpcwebsearch"};return+e.fromTagSearch?(t.cmdId=4858,t.url="/cgi-bin/mmsearch-bin/mmtagsearch"):+e.chatSearch&&(t.cmdId=1011,t.url="/cgi-bin/mmsearch-bin/chatsearch"),x(g(g({},t),{},{data:g(g({},Object(h.d)(e)),Object(h.c)(e))})).then((function(t){var n={};if(t.Json)try{(n=JSON.parse(t.Json)).newQuery=!e.offset}catch(e){}u.a.$emit(d.c.onResultReady,{isFromFuncQuery:!1,json:JSON.stringify(n),newQuery:!e.offset,isNewSearch:!e.offset,jsonRefer:0,requestId:e.requestId})})).catch((function(e){}))},getSug:function(e){return x({cmdId:1161,url:"/cgi-bin/mmsearch-bin/searchsuggestion",data:g(g({},Object(h.d)(e)),Object(h.c)(e))}).then((function(t){u.a.$emit(d.c.onSugReady,{json:t.Json,requestId:e.requestId,jsonRefer:1})})).catch((function(e){}))},getTeach:function(e){return x({url:"/cgi-bin/mmsearch-bin/searchguide",cmdId:1048,data:g(g({},Object(h.b)(e)),Object(h.a)(e))}).then((function(t){u.a.$emit("onTeachSearchDataReady",{json:t.Json,requestId:e.requestId,requestType:e.requestType})}))},reportRealTime:function(e){return x({cmdId:1134,url:"/cgi-bin/mmsearch-bin/searchreport",req_json:null!==e&&"object"===a()(e)?u.f.toUpperCaseFirstKeyForObj(e):e}).catch((function(e){}))},commonCgi:function(e){new Date;var t=u.f.generateGuuId(),n={requestId:t,commReq:"string"==typeof e?e:JSON.stringify(e)};return x({req_json:n,url:"/cgi-bin/mmsearch-bin/searchwebquery",cmdId:2975}).then((function(e){u.a.$emit(d.d.onCommonCgiReady,Object(h.e)(e))})),t}},S=function(){u.a.$emit(u.i.showToast,{text:"请在手机上使用该功能"})},R={launchApplication:S,gotoEmoticonPad:S,openCamera:S,openCustomerServiceChat:S,openADCanvas:S,openMusicPage:S,publishTextState:S,makeCall:S,getNetType:function(e,t){t({err_msg:u.b.netType||"wifi"})},openWeiXinPage:function(e){switch(e.pageUrl){case"search://page/channel":return _(y.openUrlWithExtraWebview,{url:"https://channels.weixin.qq.com/web/pages/home",type:"FinderHome"});case"search://page/securitycenter":return _(y.openUrlWithExtraWebview,{url:"https://weixin110.qq.com/security/newreadtemplate?t=w_security_center_website/newindex"});default:S()}}},E=Object.assign(O,j,I,R),P=Object.keys(E),T=new f.a(P.reduce((function(e,t){return e[t]=p.a[t]||y[t],e}),{}));P.forEach((function(e){return p.b[e]=E[e]})),u.f.weixinJsApiReady((function(){v=WeixinJSBridge.invoke,WeixinJSBridge.invoke=function(e,t,n){var r=T[e];r&&E[r]?E[r].call(WeixinJSBridge,t,n):v.call(WeixinJSBridge,e,t,n),u.k.detail.jsAPI[e]&&Object(m.d)(u.k.detail.jsAPI[e])},document.dispatchEvent(new Event("PCWeixinJSBridgeReady"))}))}}]);